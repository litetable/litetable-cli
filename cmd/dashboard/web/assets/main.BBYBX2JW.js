var zM=Object.defineProperty;var eE=r=>{throw TypeError(r)};var HM=(r,e,t)=>e in r?zM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Le=(r,e,t)=>HM(r,typeof e!="symbol"?e+"":e,t),qy=(r,e,t)=>e.has(r)||eE("Cannot "+t);var f=(r,e,t)=>(qy(r,e,"read from private field"),t?t.call(r):e.get(r)),I=(r,e,t)=>e.has(r)?eE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),P=(r,e,t,n)=>(qy(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),N=(r,e,t)=>(qy(r,e,"access private method"),t);var Nn=(r,e,t,n)=>({set _(s){P(r,e,s,t)},get _(){return f(r,e,n)}});function BM(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in r)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function z1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ky={exports:{}},Dd={},Qy={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function WM(){if(tE)return Ge;tE=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function C($,G,ee){this.props=$,this.context=G,this.refs=x,this.updater=ee||w}C.prototype.isReactComponent={},C.prototype.setState=function($,G){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,G,"setState")},C.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function _(){}_.prototype=C.prototype;function k($,G,ee){this.props=$,this.context=G,this.refs=x,this.updater=ee||w}var T=k.prototype=new _;T.constructor=k,b(T,C.prototype),T.isPureReactComponent=!0;var M=Array.isArray,L=Object.prototype.hasOwnProperty,D={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function j($,G,ee){var de,Ae={},ce=null,K=null;if(G!=null)for(de in G.ref!==void 0&&(K=G.ref),G.key!==void 0&&(ce=""+G.key),G)L.call(G,de)&&!F.hasOwnProperty(de)&&(Ae[de]=G[de]);var me=arguments.length-2;if(me===1)Ae.children=ee;else if(1<me){for(var Ce=Array(me),Te=0;Te<me;Te++)Ce[Te]=arguments[Te+2];Ae.children=Ce}if($&&$.defaultProps)for(de in me=$.defaultProps,me)Ae[de]===void 0&&(Ae[de]=me[de]);return{$$typeof:r,type:$,key:ce,ref:K,props:Ae,_owner:D.current}}function W($,G){return{$$typeof:r,type:$.type,key:G,ref:$.ref,props:$.props,_owner:$._owner}}function X($){return typeof $=="object"&&$!==null&&$.$$typeof===r}function Q($){var G={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ee){return G[ee]})}var ue=/\/+/g;function oe($,G){return typeof $=="object"&&$!==null&&$.key!=null?Q(""+$.key):G.toString(36)}function he($,G,ee,de,Ae){var ce=typeof $;(ce==="undefined"||ce==="boolean")&&($=null);var K=!1;if($===null)K=!0;else switch(ce){case"string":case"number":K=!0;break;case"object":switch($.$$typeof){case r:case e:K=!0}}if(K)return K=$,Ae=Ae(K),$=de===""?"."+oe(K,0):de,M(Ae)?(ee="",$!=null&&(ee=$.replace(ue,"$&/")+"/"),he(Ae,G,ee,"",function(Te){return Te})):Ae!=null&&(X(Ae)&&(Ae=W(Ae,ee+(!Ae.key||K&&K.key===Ae.key?"":(""+Ae.key).replace(ue,"$&/")+"/")+$)),G.push(Ae)),1;if(K=0,de=de===""?".":de+":",M($))for(var me=0;me<$.length;me++){ce=$[me];var Ce=de+oe(ce,me);K+=he(ce,G,ee,Ce,Ae)}else if(Ce=v($),typeof Ce=="function")for($=Ce.call($),me=0;!(ce=$.next()).done;)ce=ce.value,Ce=de+oe(ce,me++),K+=he(ce,G,ee,Ce,Ae);else if(ce==="object")throw G=String($),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return K}function ae($,G,ee){if($==null)return $;var de=[],Ae=0;return he($,de,"","",function(ce){return G.call(ee,ce,Ae++)}),de}function q($){if($._status===-1){var G=$._result;G=G(),G.then(function(ee){($._status===0||$._status===-1)&&($._status=1,$._result=ee)},function(ee){($._status===0||$._status===-1)&&($._status=2,$._result=ee)}),$._status===-1&&($._status=0,$._result=G)}if($._status===1)return $._result.default;throw $._result}var J={current:null},z={transition:null},te={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:z,ReactCurrentOwner:D};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:ae,forEach:function($,G,ee){ae($,function(){G.apply(this,arguments)},ee)},count:function($){var G=0;return ae($,function(){G++}),G},toArray:function($){return ae($,function(G){return G})||[]},only:function($){if(!X($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ge.Component=C,Ge.Fragment=t,Ge.Profiler=s,Ge.PureComponent=k,Ge.StrictMode=n,Ge.Suspense=u,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Ge.act=Z,Ge.cloneElement=function($,G,ee){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var de=b({},$.props),Ae=$.key,ce=$.ref,K=$._owner;if(G!=null){if(G.ref!==void 0&&(ce=G.ref,K=D.current),G.key!==void 0&&(Ae=""+G.key),$.type&&$.type.defaultProps)var me=$.type.defaultProps;for(Ce in G)L.call(G,Ce)&&!F.hasOwnProperty(Ce)&&(de[Ce]=G[Ce]===void 0&&me!==void 0?me[Ce]:G[Ce])}var Ce=arguments.length-2;if(Ce===1)de.children=ee;else if(1<Ce){me=Array(Ce);for(var Te=0;Te<Ce;Te++)me[Te]=arguments[Te+2];de.children=me}return{$$typeof:r,type:$.type,key:Ae,ref:ce,props:de,_owner:K}},Ge.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},Ge.createElement=j,Ge.createFactory=function($){var G=j.bind(null,$);return G.type=$,G},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function($){return{$$typeof:c,render:$}},Ge.isValidElement=X,Ge.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:q}},Ge.memo=function($,G){return{$$typeof:h,type:$,compare:G===void 0?null:G}},Ge.startTransition=function($){var G=z.transition;z.transition={};try{$()}finally{z.transition=G}},Ge.unstable_act=Z,Ge.useCallback=function($,G){return J.current.useCallback($,G)},Ge.useContext=function($){return J.current.useContext($)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function($){return J.current.useDeferredValue($)},Ge.useEffect=function($,G){return J.current.useEffect($,G)},Ge.useId=function(){return J.current.useId()},Ge.useImperativeHandle=function($,G,ee){return J.current.useImperativeHandle($,G,ee)},Ge.useInsertionEffect=function($,G){return J.current.useInsertionEffect($,G)},Ge.useLayoutEffect=function($,G){return J.current.useLayoutEffect($,G)},Ge.useMemo=function($,G){return J.current.useMemo($,G)},Ge.useReducer=function($,G,ee){return J.current.useReducer($,G,ee)},Ge.useRef=function($){return J.current.useRef($)},Ge.useState=function($){return J.current.useState($)},Ge.useSyncExternalStore=function($,G,ee){return J.current.useSyncExternalStore($,G,ee)},Ge.useTransition=function(){return J.current.useTransition()},Ge.version="18.3.1",Ge}var nE;function pb(){return nE||(nE=1,Qy.exports=WM()),Qy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function UM(){if(rE)return Dd;rE=1;var r=pb(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,h){var p,m={},v=null,w=null;h!==void 0&&(v=""+h),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(w=u.ref);for(p in u)n.call(u,p)&&!o.hasOwnProperty(p)&&(m[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)m[p]===void 0&&(m[p]=u[p]);return{$$typeof:e,type:c,key:v,ref:w,props:m,_owner:s.current}}return Dd.Fragment=t,Dd.jsx=l,Dd.jsxs=l,Dd}var sE;function VM(){return sE||(sE=1,Ky.exports=UM()),Ky.exports}var A=VM(),S=pb();const se=z1(S),H1=BM({__proto__:null,default:se},[S]);var nm={},Jy={exports:{}},Vn={},Zy={exports:{}},e0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function GM(){return iE||(iE=1,function(r){function e(z,te){var Z=z.length;z.push(te);e:for(;0<Z;){var $=Z-1>>>1,G=z[$];if(0<s(G,te))z[$]=te,z[Z]=G,Z=$;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var te=z[0],Z=z.pop();if(Z!==te){z[0]=Z;e:for(var $=0,G=z.length,ee=G>>>1;$<ee;){var de=2*($+1)-1,Ae=z[de],ce=de+1,K=z[ce];if(0>s(Ae,Z))ce<G&&0>s(K,Ae)?(z[$]=K,z[ce]=Z,$=ce):(z[$]=Ae,z[de]=Z,$=de);else if(ce<G&&0>s(K,Z))z[$]=K,z[ce]=Z,$=ce;else break e}}return te}function s(z,te){var Z=z.sortIndex-te.sortIndex;return Z!==0?Z:z.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var u=[],h=[],p=1,m=null,v=3,w=!1,b=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var te=t(h);te!==null;){if(te.callback===null)n(h);else if(te.startTime<=z)n(h),te.sortIndex=te.expirationTime,e(u,te);else break;te=t(h)}}function M(z){if(x=!1,T(z),!b)if(t(u)!==null)b=!0,q(L);else{var te=t(h);te!==null&&J(M,te.startTime-z)}}function L(z,te){b=!1,x&&(x=!1,_(j),j=-1),w=!0;var Z=v;try{for(T(te),m=t(u);m!==null&&(!(m.expirationTime>te)||z&&!Q());){var $=m.callback;if(typeof $=="function"){m.callback=null,v=m.priorityLevel;var G=$(m.expirationTime<=te);te=r.unstable_now(),typeof G=="function"?m.callback=G:m===t(u)&&n(u),T(te)}else n(u);m=t(u)}if(m!==null)var ee=!0;else{var de=t(h);de!==null&&J(M,de.startTime-te),ee=!1}return ee}finally{m=null,v=Z,w=!1}}var D=!1,F=null,j=-1,W=5,X=-1;function Q(){return!(r.unstable_now()-X<W)}function ue(){if(F!==null){var z=r.unstable_now();X=z;var te=!0;try{te=F(!0,z)}finally{te?oe():(D=!1,F=null)}}else D=!1}var oe;if(typeof k=="function")oe=function(){k(ue)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ae=he.port2;he.port1.onmessage=ue,oe=function(){ae.postMessage(null)}}else oe=function(){C(ue,0)};function q(z){F=z,D||(D=!0,oe())}function J(z,te){j=C(function(){z(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_continueExecution=function(){b||w||(b=!0,q(L))},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_getFirstCallbackNode=function(){return t(u)},r.unstable_next=function(z){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var Z=v;v=te;try{return z()}finally{v=Z}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(z,te){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=v;v=z;try{return te()}finally{v=Z}},r.unstable_scheduleCallback=function(z,te,Z){var $=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?$+Z:$):Z=$,z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Z+G,z={id:p++,callback:te,priorityLevel:z,startTime:Z,expirationTime:G,sortIndex:-1},Z>$?(z.sortIndex=Z,e(h,z),t(u)===null&&z===t(h)&&(x?(_(j),j=-1):x=!0,J(M,Z-$))):(z.sortIndex=G,e(u,z),b||w||(b=!0,q(L))),z},r.unstable_shouldYield=Q,r.unstable_wrapCallback=function(z){var te=v;return function(){var Z=v;v=te;try{return z.apply(this,arguments)}finally{v=Z}}}}(e0)),e0}var oE;function YM(){return oE||(oE=1,Zy.exports=GM()),Zy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function XM(){if(aE)return Vn;aE=1;var r=pb(),e=YM();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)n.add(a[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(i){return u.call(m,i)?!0:u.call(p,i)?!1:h.test(i)?m[i]=!0:(p[i]=!0,!1)}function w(i,a,d,g){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,a,d,g){if(a===null||typeof a>"u"||w(i,a,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function x(i,a,d,g,y,E,R){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=i,this.type=a,this.sanitizeURL=E,this.removeEmptyString=R}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new x(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];C[a]=new x(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new x(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new x(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new x(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new x(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new x(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new x(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new x(i,5,!1,i.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function k(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(_,k);C[a]=new x(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(_,k);C[a]=new x(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(_,k);C[a]=new x(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new x(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new x(i,1,!1,i.toLowerCase(),null,!0,!0)});function T(i,a,d,g){var y=C.hasOwnProperty(a)?C[a]:null;(y!==null?y.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,d,y,g)&&(d=null),g||y===null?v(a)&&(d===null?i.removeAttribute(a):i.setAttribute(a,""+d)):y.mustUseProperty?i[y.propertyName]=d===null?y.type===3?!1:"":d:(a=y.attributeName,g=y.attributeNamespace,d===null?i.removeAttribute(a):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,g?i.setAttributeNS(g,a,d):i.setAttribute(a,d))))}var M=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),D=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),Q=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),z=Symbol.iterator;function te(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var Z=Object.assign,$;function G(i){if($===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+i}var ee=!1;function de(i,a){if(!i||ee)return"";ee=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Y){var g=Y}Reflect.construct(i,[],a)}else{try{a.call()}catch(Y){g=Y}i.call(a.prototype)}else{try{throw Error()}catch(Y){g=Y}i()}}catch(Y){if(Y&&g&&typeof Y.stack=="string"){for(var y=Y.stack.split(`
`),E=g.stack.split(`
`),R=y.length-1,O=E.length-1;1<=R&&0<=O&&y[R]!==E[O];)O--;for(;1<=R&&0<=O;R--,O--)if(y[R]!==E[O]){if(R!==1||O!==1)do if(R--,O--,0>O||y[R]!==E[O]){var H=`
`+y[R].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=R&&0<=O);break}}}finally{ee=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?G(i):""}function Ae(i){switch(i.tag){case 5:return G(i.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return i=de(i.type,!1),i;case 11:return i=de(i.type.render,!1),i;case 1:return i=de(i.type,!0),i;default:return""}}function ce(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case F:return"Fragment";case D:return"Portal";case W:return"Profiler";case j:return"StrictMode";case oe:return"Suspense";case he:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Q:return(i.displayName||"Context")+".Consumer";case X:return(i._context.displayName||"Context")+".Provider";case ue:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ae:return a=i.displayName||null,a!==null?a:ce(i.type)||"Memo";case q:a=i._payload,i=i._init;try{return ce(i(a))}catch{}}return null}function K(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(a);case 8:return a===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function me(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ce(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Te(i){var a=Ce(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),g=""+i[a];if(!i.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,E=d.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(R){g=""+R,E.call(this,R)}}),Object.defineProperty(i,a,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(R){g=""+R},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function je(i){i._valueTracker||(i._valueTracker=Te(i))}function $e(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var d=a.getValue(),g="";return i&&(g=Ce(i)?i.checked?"true":"false":i.value),i=g,i!==d?(a.setValue(i),!0):!1}function at(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function kt(i,a){var d=a.checked;return Z({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function br(i,a){var d=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;d=me(a.value!=null?a.value:d),i._wrapperState={initialChecked:g,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function er(i,a){a=a.checked,a!=null&&T(i,"checked",a,!1)}function an(i,a){er(i,a);var d=me(a.value),g=a.type;if(d!=null)g==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?mt(i,a.type,d):a.hasOwnProperty("defaultValue")&&mt(i,a.type,me(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Qs(i,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,d||a===i.value||(i.value=a),i.defaultValue=a}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function mt(i,a,d){(a!=="number"||at(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var va=Array.isArray;function Ji(i,a,d,g){if(i=i.options,a){a={};for(var y=0;y<d.length;y++)a["$"+d[y]]=!0;for(d=0;d<i.length;d++)y=a.hasOwnProperty("$"+i[d].value),i[d].selected!==y&&(i[d].selected=y),y&&g&&(i[d].defaultSelected=!0)}else{for(d=""+me(d),a=null,y=0;y<i.length;y++){if(i[y].value===d){i[y].selected=!0,g&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function ln(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return Z({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Js(i,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(t(92));if(va(d)){if(1<d.length)throw Error(t(93));d=d[0]}a=d}a==null&&(a=""),d=a}i._wrapperState={initialValue:me(d)}}function Gf(i,a){var d=me(a.value),g=me(a.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),a.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),g!=null&&(i.defaultValue=""+g)}function Yf(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function ya(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qu(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?ya(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var wa,nc=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,g,y){MSApp.execUnsafeLocalFunction(function(){return i(a,d,g,y)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(wa=wa||document.createElement("div"),wa.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=wa.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function xr(i,a){if(a){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=a;return}}i.textContent=a}var Zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eo=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(i){eo.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Zi[a]=Zi[i]})});function Xf(i,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||Zi.hasOwnProperty(i)&&Zi[i]?(""+a).trim():a+"px"}function qf(i,a){i=i.style;for(var d in a)if(a.hasOwnProperty(d)){var g=d.indexOf("--")===0,y=Xf(d,a[d],g);d==="float"&&(d="cssFloat"),g?i.setProperty(d,y):i[d]=y}}var Kf=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rc(i,a){if(a){if(Kf[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Ju(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ba=null;function Sr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zu=null,to=null,Zs=null;function ed(i){if(i=bd(i)){if(typeof Zu!="function")throw Error(t(280));var a=i.stateNode;a&&(a=vp(a),Zu(i.stateNode,i.type,a))}}function Fe(i){to?Zs?Zs.push(i):Zs=[i]:to=i}function Tt(){if(to){var i=to,a=Zs;if(Zs=to=null,ed(i),a)for(i=0;i<a.length;i++)ed(a[i])}}function zt(i,a){return i(a)}function vn(){}var no=!1;function It(i,a,d){if(no)return i(a,d);no=!0;try{return zt(i,a,d)}finally{no=!1,(to!==null||Zs!==null)&&(vn(),Tt())}}function Qt(i,a){var d=i.stateNode;if(d===null)return null;var g=vp(d);if(g===null)return null;d=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(t(231,a,typeof d));return d}var ro=!1;if(c)try{var cn={};Object.defineProperty(cn,"passive",{get:function(){ro=!0}}),window.addEventListener("test",cn,cn),window.removeEventListener("test",cn,cn)}catch{ro=!1}function tr(i,a,d,g,y,E,R,O,H){var Y=Array.prototype.slice.call(arguments,3);try{a.apply(d,Y)}catch(re){this.onError(re)}}var so=!1,Ar=null,td=!1,pv=null,YR={onError:function(i){so=!0,Ar=i}};function XR(i,a,d,g,y,E,R,O,H){so=!1,Ar=null,tr.apply(YR,arguments)}function qR(i,a,d,g,y,E,R,O,H){if(XR.apply(this,arguments),so){if(so){var Y=Ar;so=!1,Ar=null}else throw Error(t(198));td||(td=!0,pv=Y)}}function xa(i){var a=i,d=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(d=a.return),i=a.return;while(i)}return a.tag===3?d:null}function Ax(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Ex(i){if(xa(i)!==i)throw Error(t(188))}function KR(i){var a=i.alternate;if(!a){if(a=xa(i),a===null)throw Error(t(188));return a!==i?null:i}for(var d=i,g=a;;){var y=d.return;if(y===null)break;var E=y.alternate;if(E===null){if(g=y.return,g!==null){d=g;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===d)return Ex(y),i;if(E===g)return Ex(y),a;E=E.sibling}throw Error(t(188))}if(d.return!==g.return)d=y,g=E;else{for(var R=!1,O=y.child;O;){if(O===d){R=!0,d=y,g=E;break}if(O===g){R=!0,g=y,d=E;break}O=O.sibling}if(!R){for(O=E.child;O;){if(O===d){R=!0,d=E,g=y;break}if(O===g){R=!0,g=E,d=y;break}O=O.sibling}if(!R)throw Error(t(189))}}if(d.alternate!==g)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?i:a}function Cx(i){return i=KR(i),i!==null?_x(i):null}function _x(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=_x(i);if(a!==null)return a;i=i.sibling}return null}var kx=e.unstable_scheduleCallback,Tx=e.unstable_cancelCallback,QR=e.unstable_shouldYield,JR=e.unstable_requestPaint,Pt=e.unstable_now,ZR=e.unstable_getCurrentPriorityLevel,mv=e.unstable_ImmediatePriority,Px=e.unstable_UserBlockingPriority,Qf=e.unstable_NormalPriority,eN=e.unstable_LowPriority,Rx=e.unstable_IdlePriority,Jf=null,bs=null;function tN(i){if(bs&&typeof bs.onCommitFiberRoot=="function")try{bs.onCommitFiberRoot(Jf,i,void 0,(i.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:sN,nN=Math.log,rN=Math.LN2;function sN(i){return i>>>=0,i===0?32:31-(nN(i)/rN|0)|0}var Zf=64,ep=4194304;function nd(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function tp(i,a){var d=i.pendingLanes;if(d===0)return 0;var g=0,y=i.suspendedLanes,E=i.pingedLanes,R=d&268435455;if(R!==0){var O=R&~y;O!==0?g=nd(O):(E&=R,E!==0&&(g=nd(E)))}else R=d&~y,R!==0?g=nd(R):E!==0&&(g=nd(E));if(g===0)return 0;if(a!==0&&a!==g&&(a&y)===0&&(y=g&-g,E=a&-a,y>=E||y===16&&(E&4194240)!==0))return a;if((g&4)!==0&&(g|=d&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=g;0<a;)d=31-Wr(a),y=1<<d,g|=i[d],a&=~y;return g}function iN(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oN(i,a){for(var d=i.suspendedLanes,g=i.pingedLanes,y=i.expirationTimes,E=i.pendingLanes;0<E;){var R=31-Wr(E),O=1<<R,H=y[R];H===-1?((O&d)===0||(O&g)!==0)&&(y[R]=iN(O,a)):H<=a&&(i.expiredLanes|=O),E&=~O}}function gv(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Nx(){var i=Zf;return Zf<<=1,(Zf&4194240)===0&&(Zf=64),i}function vv(i){for(var a=[],d=0;31>d;d++)a.push(i);return a}function rd(i,a,d){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Wr(a),i[a]=d}function aN(i,a){var d=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<d;){var y=31-Wr(d),E=1<<y;a[y]=0,g[y]=-1,i[y]=-1,d&=~E}}function yv(i,a){var d=i.entangledLanes|=a;for(i=i.entanglements;d;){var g=31-Wr(d),y=1<<g;y&a|i[g]&a&&(i[g]|=a),d&=~y}}var et=0;function Mx(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ix,wv,Lx,Dx,Ox,bv=!1,np=[],io=null,oo=null,ao=null,sd=new Map,id=new Map,lo=[],lN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fx(i,a){switch(i){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":sd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":id.delete(a.pointerId)}}function od(i,a,d,g,y,E){return i===null||i.nativeEvent!==E?(i={blockedOn:a,domEventName:d,eventSystemFlags:g,nativeEvent:E,targetContainers:[y]},a!==null&&(a=bd(a),a!==null&&wv(a)),i):(i.eventSystemFlags|=g,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function cN(i,a,d,g,y){switch(a){case"focusin":return io=od(io,i,a,d,g,y),!0;case"dragenter":return oo=od(oo,i,a,d,g,y),!0;case"mouseover":return ao=od(ao,i,a,d,g,y),!0;case"pointerover":var E=y.pointerId;return sd.set(E,od(sd.get(E)||null,i,a,d,g,y)),!0;case"gotpointercapture":return E=y.pointerId,id.set(E,od(id.get(E)||null,i,a,d,g,y)),!0}return!1}function jx(i){var a=Sa(i.target);if(a!==null){var d=xa(a);if(d!==null){if(a=d.tag,a===13){if(a=Ax(d),a!==null){i.blockedOn=a,Ox(i.priority,function(){Lx(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rp(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var d=Sv(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var g=new d.constructor(d.type,d);ba=g,d.target.dispatchEvent(g),ba=null}else return a=bd(d),a!==null&&wv(a),i.blockedOn=d,!1;a.shift()}return!0}function $x(i,a,d){rp(i)&&d.delete(a)}function uN(){bv=!1,io!==null&&rp(io)&&(io=null),oo!==null&&rp(oo)&&(oo=null),ao!==null&&rp(ao)&&(ao=null),sd.forEach($x),id.forEach($x)}function ad(i,a){i.blockedOn===a&&(i.blockedOn=null,bv||(bv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uN)))}function ld(i){function a(y){return ad(y,i)}if(0<np.length){ad(np[0],i);for(var d=1;d<np.length;d++){var g=np[d];g.blockedOn===i&&(g.blockedOn=null)}}for(io!==null&&ad(io,i),oo!==null&&ad(oo,i),ao!==null&&ad(ao,i),sd.forEach(a),id.forEach(a),d=0;d<lo.length;d++)g=lo[d],g.blockedOn===i&&(g.blockedOn=null);for(;0<lo.length&&(d=lo[0],d.blockedOn===null);)jx(d),d.blockedOn===null&&lo.shift()}var sc=M.ReactCurrentBatchConfig,sp=!0;function dN(i,a,d,g){var y=et,E=sc.transition;sc.transition=null;try{et=1,xv(i,a,d,g)}finally{et=y,sc.transition=E}}function hN(i,a,d,g){var y=et,E=sc.transition;sc.transition=null;try{et=4,xv(i,a,d,g)}finally{et=y,sc.transition=E}}function xv(i,a,d,g){if(sp){var y=Sv(i,a,d,g);if(y===null)$v(i,a,g,ip,d),Fx(i,g);else if(cN(y,i,a,d,g))g.stopPropagation();else if(Fx(i,g),a&4&&-1<lN.indexOf(i)){for(;y!==null;){var E=bd(y);if(E!==null&&Ix(E),E=Sv(i,a,d,g),E===null&&$v(i,a,g,ip,d),E===y)break;y=E}y!==null&&g.stopPropagation()}else $v(i,a,g,null,d)}}var ip=null;function Sv(i,a,d,g){if(ip=null,i=Sr(g),i=Sa(i),i!==null)if(a=xa(i),a===null)i=null;else if(d=a.tag,d===13){if(i=Ax(a),i!==null)return i;i=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return ip=i,null}function zx(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZR()){case mv:return 1;case Px:return 4;case Qf:case eN:return 16;case Rx:return 536870912;default:return 16}default:return 16}}var co=null,Av=null,op=null;function Hx(){if(op)return op;var i,a=Av,d=a.length,g,y="value"in co?co.value:co.textContent,E=y.length;for(i=0;i<d&&a[i]===y[i];i++);var R=d-i;for(g=1;g<=R&&a[d-g]===y[E-g];g++);return op=y.slice(i,1<g?1-g:void 0)}function ap(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function lp(){return!0}function Bx(){return!1}function nr(i){function a(d,g,y,E,R){this._reactName=d,this._targetInst=y,this.type=g,this.nativeEvent=E,this.target=R,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(d=i[O],this[O]=d?d(E):E[O]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?lp:Bx,this.isPropagationStopped=Bx,this}return Z(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=lp)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=lp)},persist:function(){},isPersistent:lp}),a}var ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ev=nr(ic),cd=Z({},ic,{view:0,detail:0}),fN=nr(cd),Cv,_v,ud,cp=Z({},cd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tv,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ud&&(ud&&i.type==="mousemove"?(Cv=i.screenX-ud.screenX,_v=i.screenY-ud.screenY):_v=Cv=0,ud=i),Cv)},movementY:function(i){return"movementY"in i?i.movementY:_v}}),Wx=nr(cp),pN=Z({},cp,{dataTransfer:0}),mN=nr(pN),gN=Z({},cd,{relatedTarget:0}),kv=nr(gN),vN=Z({},ic,{animationName:0,elapsedTime:0,pseudoElement:0}),yN=nr(vN),wN=Z({},ic,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),bN=nr(wN),xN=Z({},ic,{data:0}),Ux=nr(xN),SN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CN(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=EN[i])?!!a[i]:!1}function Tv(){return CN}var _N=Z({},cd,{key:function(i){if(i.key){var a=SN[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ap(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?AN[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tv,charCode:function(i){return i.type==="keypress"?ap(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ap(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),kN=nr(_N),TN=Z({},cp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vx=nr(TN),PN=Z({},cd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tv}),RN=nr(PN),NN=Z({},ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),MN=nr(NN),IN=Z({},cp,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),LN=nr(IN),DN=[9,13,27,32],Pv=c&&"CompositionEvent"in window,dd=null;c&&"documentMode"in document&&(dd=document.documentMode);var ON=c&&"TextEvent"in window&&!dd,Gx=c&&(!Pv||dd&&8<dd&&11>=dd),Yx=" ",Xx=!1;function qx(i,a){switch(i){case"keyup":return DN.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kx(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var oc=!1;function FN(i,a){switch(i){case"compositionend":return Kx(a);case"keypress":return a.which!==32?null:(Xx=!0,Yx);case"textInput":return i=a.data,i===Yx&&Xx?null:i;default:return null}}function jN(i,a){if(oc)return i==="compositionend"||!Pv&&qx(i,a)?(i=Hx(),op=Av=co=null,oc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Gx&&a.locale!=="ko"?null:a.data;default:return null}}var $N={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qx(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!$N[i.type]:a==="textarea"}function Jx(i,a,d,g){Fe(g),a=pp(a,"onChange"),0<a.length&&(d=new Ev("onChange","change",null,d,g),i.push({event:d,listeners:a}))}var hd=null,fd=null;function zN(i){gS(i,0)}function up(i){var a=dc(i);if($e(a))return i}function HN(i,a){if(i==="change")return a}var Zx=!1;if(c){var Rv;if(c){var Nv="oninput"in document;if(!Nv){var eS=document.createElement("div");eS.setAttribute("oninput","return;"),Nv=typeof eS.oninput=="function"}Rv=Nv}else Rv=!1;Zx=Rv&&(!document.documentMode||9<document.documentMode)}function tS(){hd&&(hd.detachEvent("onpropertychange",nS),fd=hd=null)}function nS(i){if(i.propertyName==="value"&&up(fd)){var a=[];Jx(a,fd,i,Sr(i)),It(zN,a)}}function BN(i,a,d){i==="focusin"?(tS(),hd=a,fd=d,hd.attachEvent("onpropertychange",nS)):i==="focusout"&&tS()}function WN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return up(fd)}function UN(i,a){if(i==="click")return up(a)}function VN(i,a){if(i==="input"||i==="change")return up(a)}function GN(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Ur=typeof Object.is=="function"?Object.is:GN;function pd(i,a){if(Ur(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var d=Object.keys(i),g=Object.keys(a);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var y=d[g];if(!u.call(a,y)||!Ur(i[y],a[y]))return!1}return!0}function rS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function sS(i,a){var d=rS(i);i=0;for(var g;d;){if(d.nodeType===3){if(g=i+d.textContent.length,i<=a&&g>=a)return{node:d,offset:a-i};i=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=rS(d)}}function iS(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?iS(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function oS(){for(var i=window,a=at();a instanceof i.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)i=a.contentWindow;else break;a=at(i.document)}return a}function Mv(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function YN(i){var a=oS(),d=i.focusedElem,g=i.selectionRange;if(a!==d&&d&&d.ownerDocument&&iS(d.ownerDocument.documentElement,d)){if(g!==null&&Mv(d)){if(a=g.start,i=g.end,i===void 0&&(i=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(i,d.value.length);else if(i=(a=d.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var y=d.textContent.length,E=Math.min(g.start,y);g=g.end===void 0?E:Math.min(g.end,y),!i.extend&&E>g&&(y=g,g=E,E=y),y=sS(d,E);var R=sS(d,g);y&&R&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==R.node||i.focusOffset!==R.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),i.removeAllRanges(),E>g?(i.addRange(a),i.extend(R.node,R.offset)):(a.setEnd(R.node,R.offset),i.addRange(a)))}}for(a=[],i=d;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)i=a[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var XN=c&&"documentMode"in document&&11>=document.documentMode,ac=null,Iv=null,md=null,Lv=!1;function aS(i,a,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Lv||ac==null||ac!==at(g)||(g=ac,"selectionStart"in g&&Mv(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),md&&pd(md,g)||(md=g,g=pp(Iv,"onSelect"),0<g.length&&(a=new Ev("onSelect","select",null,a,d),i.push({event:a,listeners:g}),a.target=ac)))}function dp(i,a){var d={};return d[i.toLowerCase()]=a.toLowerCase(),d["Webkit"+i]="webkit"+a,d["Moz"+i]="moz"+a,d}var lc={animationend:dp("Animation","AnimationEnd"),animationiteration:dp("Animation","AnimationIteration"),animationstart:dp("Animation","AnimationStart"),transitionend:dp("Transition","TransitionEnd")},Dv={},lS={};c&&(lS=document.createElement("div").style,"AnimationEvent"in window||(delete lc.animationend.animation,delete lc.animationiteration.animation,delete lc.animationstart.animation),"TransitionEvent"in window||delete lc.transitionend.transition);function hp(i){if(Dv[i])return Dv[i];if(!lc[i])return i;var a=lc[i],d;for(d in a)if(a.hasOwnProperty(d)&&d in lS)return Dv[i]=a[d];return i}var cS=hp("animationend"),uS=hp("animationiteration"),dS=hp("animationstart"),hS=hp("transitionend"),fS=new Map,pS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(i,a){fS.set(i,a),o(a,[i])}for(var Ov=0;Ov<pS.length;Ov++){var Fv=pS[Ov],qN=Fv.toLowerCase(),KN=Fv[0].toUpperCase()+Fv.slice(1);uo(qN,"on"+KN)}uo(cS,"onAnimationEnd"),uo(uS,"onAnimationIteration"),uo(dS,"onAnimationStart"),uo("dblclick","onDoubleClick"),uo("focusin","onFocus"),uo("focusout","onBlur"),uo(hS,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QN=new Set("cancel close invalid load scroll toggle".split(" ").concat(gd));function mS(i,a,d){var g=i.type||"unknown-event";i.currentTarget=d,qR(g,a,void 0,i),i.currentTarget=null}function gS(i,a){a=(a&4)!==0;for(var d=0;d<i.length;d++){var g=i[d],y=g.event;g=g.listeners;e:{var E=void 0;if(a)for(var R=g.length-1;0<=R;R--){var O=g[R],H=O.instance,Y=O.currentTarget;if(O=O.listener,H!==E&&y.isPropagationStopped())break e;mS(y,O,Y),E=H}else for(R=0;R<g.length;R++){if(O=g[R],H=O.instance,Y=O.currentTarget,O=O.listener,H!==E&&y.isPropagationStopped())break e;mS(y,O,Y),E=H}}}if(td)throw i=pv,td=!1,pv=null,i}function ut(i,a){var d=a[Vv];d===void 0&&(d=a[Vv]=new Set);var g=i+"__bubble";d.has(g)||(vS(a,i,2,!1),d.add(g))}function jv(i,a,d){var g=0;a&&(g|=4),vS(d,i,g,a)}var fp="_reactListening"+Math.random().toString(36).slice(2);function vd(i){if(!i[fp]){i[fp]=!0,n.forEach(function(d){d!=="selectionchange"&&(QN.has(d)||jv(d,!1,i),jv(d,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[fp]||(a[fp]=!0,jv("selectionchange",!1,a))}}function vS(i,a,d,g){switch(zx(a)){case 1:var y=dN;break;case 4:y=hN;break;default:y=xv}d=y.bind(null,a,d,i),y=void 0,!ro||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),g?y!==void 0?i.addEventListener(a,d,{capture:!0,passive:y}):i.addEventListener(a,d,!0):y!==void 0?i.addEventListener(a,d,{passive:y}):i.addEventListener(a,d,!1)}function $v(i,a,d,g,y){var E=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var R=g.tag;if(R===3||R===4){var O=g.stateNode.containerInfo;if(O===y||O.nodeType===8&&O.parentNode===y)break;if(R===4)for(R=g.return;R!==null;){var H=R.tag;if((H===3||H===4)&&(H=R.stateNode.containerInfo,H===y||H.nodeType===8&&H.parentNode===y))return;R=R.return}for(;O!==null;){if(R=Sa(O),R===null)return;if(H=R.tag,H===5||H===6){g=E=R;continue e}O=O.parentNode}}g=g.return}It(function(){var Y=E,re=Sr(d),ie=[];e:{var ne=fS.get(i);if(ne!==void 0){var ge=Ev,we=i;switch(i){case"keypress":if(ap(d)===0)break e;case"keydown":case"keyup":ge=kN;break;case"focusin":we="focus",ge=kv;break;case"focusout":we="blur",ge=kv;break;case"beforeblur":case"afterblur":ge=kv;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Wx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=mN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=RN;break;case cS:case uS:case dS:ge=yN;break;case hS:ge=MN;break;case"scroll":ge=fN;break;case"wheel":ge=LN;break;case"copy":case"cut":case"paste":ge=bN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Vx}var Se=(a&4)!==0,Rt=!Se&&i==="scroll",U=Se?ne!==null?ne+"Capture":null:ne;Se=[];for(var B=Y,V;B!==null;){V=B;var le=V.stateNode;if(V.tag===5&&le!==null&&(V=le,U!==null&&(le=Qt(B,U),le!=null&&Se.push(yd(B,le,V)))),Rt)break;B=B.return}0<Se.length&&(ne=new ge(ne,we,null,d,re),ie.push({event:ne,listeners:Se}))}}if((a&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",ne&&d!==ba&&(we=d.relatedTarget||d.fromElement)&&(Sa(we)||we[ei]))break e;if((ge||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,ge?(we=d.relatedTarget||d.toElement,ge=Y,we=we?Sa(we):null,we!==null&&(Rt=xa(we),we!==Rt||we.tag!==5&&we.tag!==6)&&(we=null)):(ge=null,we=Y),ge!==we)){if(Se=Wx,le="onMouseLeave",U="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Se=Vx,le="onPointerLeave",U="onPointerEnter",B="pointer"),Rt=ge==null?ne:dc(ge),V=we==null?ne:dc(we),ne=new Se(le,B+"leave",ge,d,re),ne.target=Rt,ne.relatedTarget=V,le=null,Sa(re)===Y&&(Se=new Se(U,B+"enter",we,d,re),Se.target=V,Se.relatedTarget=Rt,le=Se),Rt=le,ge&&we)t:{for(Se=ge,U=we,B=0,V=Se;V;V=cc(V))B++;for(V=0,le=U;le;le=cc(le))V++;for(;0<B-V;)Se=cc(Se),B--;for(;0<V-B;)U=cc(U),V--;for(;B--;){if(Se===U||U!==null&&Se===U.alternate)break t;Se=cc(Se),U=cc(U)}Se=null}else Se=null;ge!==null&&yS(ie,ne,ge,Se,!1),we!==null&&Rt!==null&&yS(ie,Rt,we,Se,!0)}}e:{if(ne=Y?dc(Y):window,ge=ne.nodeName&&ne.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ne.type==="file")var Ee=HN;else if(Qx(ne))if(Zx)Ee=VN;else{Ee=WN;var Ne=BN}else(ge=ne.nodeName)&&ge.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Ee=UN);if(Ee&&(Ee=Ee(i,Y))){Jx(ie,Ee,d,re);break e}Ne&&Ne(i,ne,Y),i==="focusout"&&(Ne=ne._wrapperState)&&Ne.controlled&&ne.type==="number"&&mt(ne,"number",ne.value)}switch(Ne=Y?dc(Y):window,i){case"focusin":(Qx(Ne)||Ne.contentEditable==="true")&&(ac=Ne,Iv=Y,md=null);break;case"focusout":md=Iv=ac=null;break;case"mousedown":Lv=!0;break;case"contextmenu":case"mouseup":case"dragend":Lv=!1,aS(ie,d,re);break;case"selectionchange":if(XN)break;case"keydown":case"keyup":aS(ie,d,re)}var Me;if(Pv)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else oc?qx(i,d)&&(Ie="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Ie="onCompositionStart");Ie&&(Gx&&d.locale!=="ko"&&(oc||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&oc&&(Me=Hx()):(co=re,Av="value"in co?co.value:co.textContent,oc=!0)),Ne=pp(Y,Ie),0<Ne.length&&(Ie=new Ux(Ie,i,null,d,re),ie.push({event:Ie,listeners:Ne}),Me?Ie.data=Me:(Me=Kx(d),Me!==null&&(Ie.data=Me)))),(Me=ON?FN(i,d):jN(i,d))&&(Y=pp(Y,"onBeforeInput"),0<Y.length&&(re=new Ux("onBeforeInput","beforeinput",null,d,re),ie.push({event:re,listeners:Y}),re.data=Me))}gS(ie,a)})}function yd(i,a,d){return{instance:i,listener:a,currentTarget:d}}function pp(i,a){for(var d=a+"Capture",g=[];i!==null;){var y=i,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=Qt(i,d),E!=null&&g.unshift(yd(i,E,y)),E=Qt(i,a),E!=null&&g.push(yd(i,E,y))),i=i.return}return g}function cc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function yS(i,a,d,g,y){for(var E=a._reactName,R=[];d!==null&&d!==g;){var O=d,H=O.alternate,Y=O.stateNode;if(H!==null&&H===g)break;O.tag===5&&Y!==null&&(O=Y,y?(H=Qt(d,E),H!=null&&R.unshift(yd(d,H,O))):y||(H=Qt(d,E),H!=null&&R.push(yd(d,H,O)))),d=d.return}R.length!==0&&i.push({event:a,listeners:R})}var JN=/\r\n?/g,ZN=/\u0000|\uFFFD/g;function wS(i){return(typeof i=="string"?i:""+i).replace(JN,`
`).replace(ZN,"")}function mp(i,a,d){if(a=wS(a),wS(i)!==a&&d)throw Error(t(425))}function gp(){}var zv=null,Hv=null;function Bv(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Wv=typeof setTimeout=="function"?setTimeout:void 0,eM=typeof clearTimeout=="function"?clearTimeout:void 0,bS=typeof Promise=="function"?Promise:void 0,tM=typeof queueMicrotask=="function"?queueMicrotask:typeof bS<"u"?function(i){return bS.resolve(null).then(i).catch(nM)}:Wv;function nM(i){setTimeout(function(){throw i})}function Uv(i,a){var d=a,g=0;do{var y=d.nextSibling;if(i.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(g===0){i.removeChild(y),ld(a);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=y}while(d);ld(a)}function ho(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function xS(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return i;a--}else d==="/$"&&a++}i=i.previousSibling}return null}var uc=Math.random().toString(36).slice(2),xs="__reactFiber$"+uc,wd="__reactProps$"+uc,ei="__reactContainer$"+uc,Vv="__reactEvents$"+uc,rM="__reactListeners$"+uc,sM="__reactHandles$"+uc;function Sa(i){var a=i[xs];if(a)return a;for(var d=i.parentNode;d;){if(a=d[ei]||d[xs]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(i=xS(i);i!==null;){if(d=i[xs])return d;i=xS(i)}return a}i=d,d=i.parentNode}return null}function bd(i){return i=i[xs]||i[ei],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function dc(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function vp(i){return i[wd]||null}var Gv=[],hc=-1;function fo(i){return{current:i}}function dt(i){0>hc||(i.current=Gv[hc],Gv[hc]=null,hc--)}function lt(i,a){hc++,Gv[hc]=i.current,i.current=a}var po={},yn=fo(po),zn=fo(!1),Aa=po;function fc(i,a){var d=i.type.contextTypes;if(!d)return po;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in d)y[E]=a[E];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=y),y}function Hn(i){return i=i.childContextTypes,i!=null}function yp(){dt(zn),dt(yn)}function SS(i,a,d){if(yn.current!==po)throw Error(t(168));lt(yn,a),lt(zn,d)}function AS(i,a,d){var g=i.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var y in g)if(!(y in a))throw Error(t(108,K(i)||"Unknown",y));return Z({},d,g)}function wp(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||po,Aa=yn.current,lt(yn,i),lt(zn,zn.current),!0}function ES(i,a,d){var g=i.stateNode;if(!g)throw Error(t(169));d?(i=AS(i,a,Aa),g.__reactInternalMemoizedMergedChildContext=i,dt(zn),dt(yn),lt(yn,i)):dt(zn),lt(zn,d)}var ti=null,bp=!1,Yv=!1;function CS(i){ti===null?ti=[i]:ti.push(i)}function iM(i){bp=!0,CS(i)}function mo(){if(!Yv&&ti!==null){Yv=!0;var i=0,a=et;try{var d=ti;for(et=1;i<d.length;i++){var g=d[i];do g=g(!0);while(g!==null)}ti=null,bp=!1}catch(y){throw ti!==null&&(ti=ti.slice(i+1)),kx(mv,mo),y}finally{et=a,Yv=!1}}return null}var pc=[],mc=0,xp=null,Sp=0,Er=[],Cr=0,Ea=null,ni=1,ri="";function Ca(i,a){pc[mc++]=Sp,pc[mc++]=xp,xp=i,Sp=a}function _S(i,a,d){Er[Cr++]=ni,Er[Cr++]=ri,Er[Cr++]=Ea,Ea=i;var g=ni;i=ri;var y=32-Wr(g)-1;g&=~(1<<y),d+=1;var E=32-Wr(a)+y;if(30<E){var R=y-y%5;E=(g&(1<<R)-1).toString(32),g>>=R,y-=R,ni=1<<32-Wr(a)+y|d<<y|g,ri=E+i}else ni=1<<E|d<<y|g,ri=i}function Xv(i){i.return!==null&&(Ca(i,1),_S(i,1,0))}function qv(i){for(;i===xp;)xp=pc[--mc],pc[mc]=null,Sp=pc[--mc],pc[mc]=null;for(;i===Ea;)Ea=Er[--Cr],Er[Cr]=null,ri=Er[--Cr],Er[Cr]=null,ni=Er[--Cr],Er[Cr]=null}var rr=null,sr=null,ft=!1,Vr=null;function kS(i,a){var d=Pr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=i,a=i.deletions,a===null?(i.deletions=[d],i.flags|=16):a.push(d)}function TS(i,a){switch(i.tag){case 5:var d=i.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,rr=i,sr=ho(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,rr=i,sr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Ea!==null?{id:ni,overflow:ri}:null,i.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Pr(18,null,null,0),d.stateNode=a,d.return=i,i.child=d,rr=i,sr=null,!0):!1;default:return!1}}function Kv(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Qv(i){if(ft){var a=sr;if(a){var d=a;if(!TS(i,a)){if(Kv(i))throw Error(t(418));a=ho(d.nextSibling);var g=rr;a&&TS(i,a)?kS(g,d):(i.flags=i.flags&-4097|2,ft=!1,rr=i)}}else{if(Kv(i))throw Error(t(418));i.flags=i.flags&-4097|2,ft=!1,rr=i}}}function PS(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;rr=i}function Ap(i){if(i!==rr)return!1;if(!ft)return PS(i),ft=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Bv(i.type,i.memoizedProps)),a&&(a=sr)){if(Kv(i))throw RS(),Error(t(418));for(;a;)kS(i,a),a=ho(a.nextSibling)}if(PS(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(a===0){sr=ho(i.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}i=i.nextSibling}sr=null}}else sr=rr?ho(i.stateNode.nextSibling):null;return!0}function RS(){for(var i=sr;i;)i=ho(i.nextSibling)}function gc(){sr=rr=null,ft=!1}function Jv(i){Vr===null?Vr=[i]:Vr.push(i)}var oM=M.ReactCurrentBatchConfig;function xd(i,a,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var g=d.stateNode}if(!g)throw Error(t(147,i));var y=g,E=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(R){var O=y.refs;R===null?delete O[E]:O[E]=R},a._stringRef=E,a)}if(typeof i!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,i))}return i}function Ep(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function NS(i){var a=i._init;return a(i._payload)}function MS(i){function a(U,B){if(i){var V=U.deletions;V===null?(U.deletions=[B],U.flags|=16):V.push(B)}}function d(U,B){if(!i)return null;for(;B!==null;)a(U,B),B=B.sibling;return null}function g(U,B){for(U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function y(U,B){return U=Ao(U,B),U.index=0,U.sibling=null,U}function E(U,B,V){return U.index=V,i?(V=U.alternate,V!==null?(V=V.index,V<B?(U.flags|=2,B):V):(U.flags|=2,B)):(U.flags|=1048576,B)}function R(U){return i&&U.alternate===null&&(U.flags|=2),U}function O(U,B,V,le){return B===null||B.tag!==6?(B=Wy(V,U.mode,le),B.return=U,B):(B=y(B,V),B.return=U,B)}function H(U,B,V,le){var Ee=V.type;return Ee===F?re(U,B,V.props.children,le,V.key):B!==null&&(B.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===q&&NS(Ee)===B.type)?(le=y(B,V.props),le.ref=xd(U,B,V),le.return=U,le):(le=Xp(V.type,V.key,V.props,null,U.mode,le),le.ref=xd(U,B,V),le.return=U,le)}function Y(U,B,V,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==V.containerInfo||B.stateNode.implementation!==V.implementation?(B=Uy(V,U.mode,le),B.return=U,B):(B=y(B,V.children||[]),B.return=U,B)}function re(U,B,V,le,Ee){return B===null||B.tag!==7?(B=Ia(V,U.mode,le,Ee),B.return=U,B):(B=y(B,V),B.return=U,B)}function ie(U,B,V){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Wy(""+B,U.mode,V),B.return=U,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return V=Xp(B.type,B.key,B.props,null,U.mode,V),V.ref=xd(U,null,B),V.return=U,V;case D:return B=Uy(B,U.mode,V),B.return=U,B;case q:var le=B._init;return ie(U,le(B._payload),V)}if(va(B)||te(B))return B=Ia(B,U.mode,V,null),B.return=U,B;Ep(U,B)}return null}function ne(U,B,V,le){var Ee=B!==null?B.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return Ee!==null?null:O(U,B,""+V,le);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return V.key===Ee?H(U,B,V,le):null;case D:return V.key===Ee?Y(U,B,V,le):null;case q:return Ee=V._init,ne(U,B,Ee(V._payload),le)}if(va(V)||te(V))return Ee!==null?null:re(U,B,V,le,null);Ep(U,V)}return null}function ge(U,B,V,le,Ee){if(typeof le=="string"&&le!==""||typeof le=="number")return U=U.get(V)||null,O(B,U,""+le,Ee);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case L:return U=U.get(le.key===null?V:le.key)||null,H(B,U,le,Ee);case D:return U=U.get(le.key===null?V:le.key)||null,Y(B,U,le,Ee);case q:var Ne=le._init;return ge(U,B,V,Ne(le._payload),Ee)}if(va(le)||te(le))return U=U.get(V)||null,re(B,U,le,Ee,null);Ep(B,le)}return null}function we(U,B,V,le){for(var Ee=null,Ne=null,Me=B,Ie=B=0,en=null;Me!==null&&Ie<V.length;Ie++){Me.index>Ie?(en=Me,Me=null):en=Me.sibling;var Qe=ne(U,Me,V[Ie],le);if(Qe===null){Me===null&&(Me=en);break}i&&Me&&Qe.alternate===null&&a(U,Me),B=E(Qe,B,Ie),Ne===null?Ee=Qe:Ne.sibling=Qe,Ne=Qe,Me=en}if(Ie===V.length)return d(U,Me),ft&&Ca(U,Ie),Ee;if(Me===null){for(;Ie<V.length;Ie++)Me=ie(U,V[Ie],le),Me!==null&&(B=E(Me,B,Ie),Ne===null?Ee=Me:Ne.sibling=Me,Ne=Me);return ft&&Ca(U,Ie),Ee}for(Me=g(U,Me);Ie<V.length;Ie++)en=ge(Me,U,Ie,V[Ie],le),en!==null&&(i&&en.alternate!==null&&Me.delete(en.key===null?Ie:en.key),B=E(en,B,Ie),Ne===null?Ee=en:Ne.sibling=en,Ne=en);return i&&Me.forEach(function(Eo){return a(U,Eo)}),ft&&Ca(U,Ie),Ee}function Se(U,B,V,le){var Ee=te(V);if(typeof Ee!="function")throw Error(t(150));if(V=Ee.call(V),V==null)throw Error(t(151));for(var Ne=Ee=null,Me=B,Ie=B=0,en=null,Qe=V.next();Me!==null&&!Qe.done;Ie++,Qe=V.next()){Me.index>Ie?(en=Me,Me=null):en=Me.sibling;var Eo=ne(U,Me,Qe.value,le);if(Eo===null){Me===null&&(Me=en);break}i&&Me&&Eo.alternate===null&&a(U,Me),B=E(Eo,B,Ie),Ne===null?Ee=Eo:Ne.sibling=Eo,Ne=Eo,Me=en}if(Qe.done)return d(U,Me),ft&&Ca(U,Ie),Ee;if(Me===null){for(;!Qe.done;Ie++,Qe=V.next())Qe=ie(U,Qe.value,le),Qe!==null&&(B=E(Qe,B,Ie),Ne===null?Ee=Qe:Ne.sibling=Qe,Ne=Qe);return ft&&Ca(U,Ie),Ee}for(Me=g(U,Me);!Qe.done;Ie++,Qe=V.next())Qe=ge(Me,U,Ie,Qe.value,le),Qe!==null&&(i&&Qe.alternate!==null&&Me.delete(Qe.key===null?Ie:Qe.key),B=E(Qe,B,Ie),Ne===null?Ee=Qe:Ne.sibling=Qe,Ne=Qe);return i&&Me.forEach(function($M){return a(U,$M)}),ft&&Ca(U,Ie),Ee}function Rt(U,B,V,le){if(typeof V=="object"&&V!==null&&V.type===F&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case L:e:{for(var Ee=V.key,Ne=B;Ne!==null;){if(Ne.key===Ee){if(Ee=V.type,Ee===F){if(Ne.tag===7){d(U,Ne.sibling),B=y(Ne,V.props.children),B.return=U,U=B;break e}}else if(Ne.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===q&&NS(Ee)===Ne.type){d(U,Ne.sibling),B=y(Ne,V.props),B.ref=xd(U,Ne,V),B.return=U,U=B;break e}d(U,Ne);break}else a(U,Ne);Ne=Ne.sibling}V.type===F?(B=Ia(V.props.children,U.mode,le,V.key),B.return=U,U=B):(le=Xp(V.type,V.key,V.props,null,U.mode,le),le.ref=xd(U,B,V),le.return=U,U=le)}return R(U);case D:e:{for(Ne=V.key;B!==null;){if(B.key===Ne)if(B.tag===4&&B.stateNode.containerInfo===V.containerInfo&&B.stateNode.implementation===V.implementation){d(U,B.sibling),B=y(B,V.children||[]),B.return=U,U=B;break e}else{d(U,B);break}else a(U,B);B=B.sibling}B=Uy(V,U.mode,le),B.return=U,U=B}return R(U);case q:return Ne=V._init,Rt(U,B,Ne(V._payload),le)}if(va(V))return we(U,B,V,le);if(te(V))return Se(U,B,V,le);Ep(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,B!==null&&B.tag===6?(d(U,B.sibling),B=y(B,V),B.return=U,U=B):(d(U,B),B=Wy(V,U.mode,le),B.return=U,U=B),R(U)):d(U,B)}return Rt}var vc=MS(!0),IS=MS(!1),Cp=fo(null),_p=null,yc=null,Zv=null;function ey(){Zv=yc=_p=null}function ty(i){var a=Cp.current;dt(Cp),i._currentValue=a}function ny(i,a,d){for(;i!==null;){var g=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),i===d)break;i=i.return}}function wc(i,a){_p=i,Zv=yc=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(Bn=!0),i.firstContext=null)}function _r(i){var a=i._currentValue;if(Zv!==i)if(i={context:i,memoizedValue:a,next:null},yc===null){if(_p===null)throw Error(t(308));yc=i,_p.dependencies={lanes:0,firstContext:i}}else yc=yc.next=i;return a}var _a=null;function ry(i){_a===null?_a=[i]:_a.push(i)}function LS(i,a,d,g){var y=a.interleaved;return y===null?(d.next=d,ry(a)):(d.next=y.next,y.next=d),a.interleaved=d,si(i,g)}function si(i,a){i.lanes|=a;var d=i.alternate;for(d!==null&&(d.lanes|=a),d=i,i=i.return;i!==null;)i.childLanes|=a,d=i.alternate,d!==null&&(d.childLanes|=a),d=i,i=i.return;return d.tag===3?d.stateNode:null}var go=!1;function sy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DS(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ii(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function vo(i,a,d){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Ke&2)!==0){var y=g.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),g.pending=a,si(i,d)}return y=g.interleaved,y===null?(a.next=a,ry(g)):(a.next=y.next,y.next=a),g.interleaved=a,si(i,d)}function kp(i,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var g=a.lanes;g&=i.pendingLanes,d|=g,a.lanes=d,yv(i,d)}}function OS(i,a){var d=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var y=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var R={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};E===null?y=E=R:E=E.next=R,d=d.next}while(d!==null);E===null?y=E=a:E=E.next=a}else y=E=a;d={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:g.shared,effects:g.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=a:i.next=a,d.lastBaseUpdate=a}function Tp(i,a,d,g){var y=i.updateQueue;go=!1;var E=y.firstBaseUpdate,R=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var H=O,Y=H.next;H.next=null,R===null?E=Y:R.next=Y,R=H;var re=i.alternate;re!==null&&(re=re.updateQueue,O=re.lastBaseUpdate,O!==R&&(O===null?re.firstBaseUpdate=Y:O.next=Y,re.lastBaseUpdate=H))}if(E!==null){var ie=y.baseState;R=0,re=Y=H=null,O=E;do{var ne=O.lane,ge=O.eventTime;if((g&ne)===ne){re!==null&&(re=re.next={eventTime:ge,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var we=i,Se=O;switch(ne=a,ge=d,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){ie=we.call(ge,ie,ne);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,ne=typeof we=="function"?we.call(ge,ie,ne):we,ne==null)break e;ie=Z({},ie,ne);break e;case 2:go=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,ne=y.effects,ne===null?y.effects=[O]:ne.push(O))}else ge={eventTime:ge,lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},re===null?(Y=re=ge,H=ie):re=re.next=ge,R|=ne;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,y.lastBaseUpdate=ne,y.shared.pending=null}}while(!0);if(re===null&&(H=ie),y.baseState=H,y.firstBaseUpdate=Y,y.lastBaseUpdate=re,a=y.shared.interleaved,a!==null){y=a;do R|=y.lane,y=y.next;while(y!==a)}else E===null&&(y.shared.lanes=0);Pa|=R,i.lanes=R,i.memoizedState=ie}}function FS(i,a,d){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var g=i[a],y=g.callback;if(y!==null){if(g.callback=null,g=d,typeof y!="function")throw Error(t(191,y));y.call(g)}}}var Sd={},Ss=fo(Sd),Ad=fo(Sd),Ed=fo(Sd);function ka(i){if(i===Sd)throw Error(t(174));return i}function iy(i,a){switch(lt(Ed,a),lt(Ad,i),lt(Ss,Sd),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Qu(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Qu(a,i)}dt(Ss),lt(Ss,a)}function bc(){dt(Ss),dt(Ad),dt(Ed)}function jS(i){ka(Ed.current);var a=ka(Ss.current),d=Qu(a,i.type);a!==d&&(lt(Ad,i),lt(Ss,d))}function oy(i){Ad.current===i&&(dt(Ss),dt(Ad))}var gt=fo(0);function Pp(i){for(var a=i;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ay=[];function ly(){for(var i=0;i<ay.length;i++)ay[i]._workInProgressVersionPrimary=null;ay.length=0}var Rp=M.ReactCurrentDispatcher,cy=M.ReactCurrentBatchConfig,Ta=0,vt=null,Ht=null,Jt=null,Np=!1,Cd=!1,_d=0,aM=0;function wn(){throw Error(t(321))}function uy(i,a){if(a===null)return!1;for(var d=0;d<a.length&&d<i.length;d++)if(!Ur(i[d],a[d]))return!1;return!0}function dy(i,a,d,g,y,E){if(Ta=E,vt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Rp.current=i===null||i.memoizedState===null?dM:hM,i=d(g,y),Cd){E=0;do{if(Cd=!1,_d=0,25<=E)throw Error(t(301));E+=1,Jt=Ht=null,a.updateQueue=null,Rp.current=fM,i=d(g,y)}while(Cd)}if(Rp.current=Lp,a=Ht!==null&&Ht.next!==null,Ta=0,Jt=Ht=vt=null,Np=!1,a)throw Error(t(300));return i}function hy(){var i=_d!==0;return _d=0,i}function As(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?vt.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function kr(){if(Ht===null){var i=vt.alternate;i=i!==null?i.memoizedState:null}else i=Ht.next;var a=Jt===null?vt.memoizedState:Jt.next;if(a!==null)Jt=a,Ht=i;else{if(i===null)throw Error(t(310));Ht=i,i={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Jt===null?vt.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}function kd(i,a){return typeof a=="function"?a(i):a}function fy(i){var a=kr(),d=a.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=i;var g=Ht,y=g.baseQueue,E=d.pending;if(E!==null){if(y!==null){var R=y.next;y.next=E.next,E.next=R}g.baseQueue=y=E,d.pending=null}if(y!==null){E=y.next,g=g.baseState;var O=R=null,H=null,Y=E;do{var re=Y.lane;if((Ta&re)===re)H!==null&&(H=H.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),g=Y.hasEagerState?Y.eagerState:i(g,Y.action);else{var ie={lane:re,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};H===null?(O=H=ie,R=g):H=H.next=ie,vt.lanes|=re,Pa|=re}Y=Y.next}while(Y!==null&&Y!==E);H===null?R=g:H.next=O,Ur(g,a.memoizedState)||(Bn=!0),a.memoizedState=g,a.baseState=R,a.baseQueue=H,d.lastRenderedState=g}if(i=d.interleaved,i!==null){y=i;do E=y.lane,vt.lanes|=E,Pa|=E,y=y.next;while(y!==i)}else y===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function py(i){var a=kr(),d=a.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=i;var g=d.dispatch,y=d.pending,E=a.memoizedState;if(y!==null){d.pending=null;var R=y=y.next;do E=i(E,R.action),R=R.next;while(R!==y);Ur(E,a.memoizedState)||(Bn=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),d.lastRenderedState=E}return[E,g]}function $S(){}function zS(i,a){var d=vt,g=kr(),y=a(),E=!Ur(g.memoizedState,y);if(E&&(g.memoizedState=y,Bn=!0),g=g.queue,my(WS.bind(null,d,g,i),[i]),g.getSnapshot!==a||E||Jt!==null&&Jt.memoizedState.tag&1){if(d.flags|=2048,Td(9,BS.bind(null,d,g,y,a),void 0,null),Zt===null)throw Error(t(349));(Ta&30)!==0||HS(d,a,y)}return y}function HS(i,a,d){i.flags|=16384,i={getSnapshot:a,value:d},a=vt.updateQueue,a===null?(a={lastEffect:null,stores:null},vt.updateQueue=a,a.stores=[i]):(d=a.stores,d===null?a.stores=[i]:d.push(i))}function BS(i,a,d,g){a.value=d,a.getSnapshot=g,US(a)&&VS(i)}function WS(i,a,d){return d(function(){US(a)&&VS(i)})}function US(i){var a=i.getSnapshot;i=i.value;try{var d=a();return!Ur(i,d)}catch{return!0}}function VS(i){var a=si(i,1);a!==null&&qr(a,i,1,-1)}function GS(i){var a=As();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kd,lastRenderedState:i},a.queue=i,i=i.dispatch=uM.bind(null,vt,i),[a.memoizedState,i]}function Td(i,a,d,g){return i={tag:i,create:a,destroy:d,deps:g,next:null},a=vt.updateQueue,a===null?(a={lastEffect:null,stores:null},vt.updateQueue=a,a.lastEffect=i.next=i):(d=a.lastEffect,d===null?a.lastEffect=i.next=i:(g=d.next,d.next=i,i.next=g,a.lastEffect=i)),i}function YS(){return kr().memoizedState}function Mp(i,a,d,g){var y=As();vt.flags|=i,y.memoizedState=Td(1|a,d,void 0,g===void 0?null:g)}function Ip(i,a,d,g){var y=kr();g=g===void 0?null:g;var E=void 0;if(Ht!==null){var R=Ht.memoizedState;if(E=R.destroy,g!==null&&uy(g,R.deps)){y.memoizedState=Td(a,d,E,g);return}}vt.flags|=i,y.memoizedState=Td(1|a,d,E,g)}function XS(i,a){return Mp(8390656,8,i,a)}function my(i,a){return Ip(2048,8,i,a)}function qS(i,a){return Ip(4,2,i,a)}function KS(i,a){return Ip(4,4,i,a)}function QS(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function JS(i,a,d){return d=d!=null?d.concat([i]):null,Ip(4,4,QS.bind(null,a,i),d)}function gy(){}function ZS(i,a){var d=kr();a=a===void 0?null:a;var g=d.memoizedState;return g!==null&&a!==null&&uy(a,g[1])?g[0]:(d.memoizedState=[i,a],i)}function eA(i,a){var d=kr();a=a===void 0?null:a;var g=d.memoizedState;return g!==null&&a!==null&&uy(a,g[1])?g[0]:(i=i(),d.memoizedState=[i,a],i)}function tA(i,a,d){return(Ta&21)===0?(i.baseState&&(i.baseState=!1,Bn=!0),i.memoizedState=d):(Ur(d,a)||(d=Nx(),vt.lanes|=d,Pa|=d,i.baseState=!0),a)}function lM(i,a){var d=et;et=d!==0&&4>d?d:4,i(!0);var g=cy.transition;cy.transition={};try{i(!1),a()}finally{et=d,cy.transition=g}}function nA(){return kr().memoizedState}function cM(i,a,d){var g=xo(i);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},rA(i))sA(a,d);else if(d=LS(i,a,d,g),d!==null){var y=Rn();qr(d,i,g,y),iA(d,a,g)}}function uM(i,a,d){var g=xo(i),y={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(rA(i))sA(a,y);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var R=a.lastRenderedState,O=E(R,d);if(y.hasEagerState=!0,y.eagerState=O,Ur(O,R)){var H=a.interleaved;H===null?(y.next=y,ry(a)):(y.next=H.next,H.next=y),a.interleaved=y;return}}catch{}finally{}d=LS(i,a,y,g),d!==null&&(y=Rn(),qr(d,i,g,y),iA(d,a,g))}}function rA(i){var a=i.alternate;return i===vt||a!==null&&a===vt}function sA(i,a){Cd=Np=!0;var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}function iA(i,a,d){if((d&4194240)!==0){var g=a.lanes;g&=i.pendingLanes,d|=g,a.lanes=d,yv(i,d)}}var Lp={readContext:_r,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},dM={readContext:_r,useCallback:function(i,a){return As().memoizedState=[i,a===void 0?null:a],i},useContext:_r,useEffect:XS,useImperativeHandle:function(i,a,d){return d=d!=null?d.concat([i]):null,Mp(4194308,4,QS.bind(null,a,i),d)},useLayoutEffect:function(i,a){return Mp(4194308,4,i,a)},useInsertionEffect:function(i,a){return Mp(4,2,i,a)},useMemo:function(i,a){var d=As();return a=a===void 0?null:a,i=i(),d.memoizedState=[i,a],i},useReducer:function(i,a,d){var g=As();return a=d!==void 0?d(a):a,g.memoizedState=g.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},g.queue=i,i=i.dispatch=cM.bind(null,vt,i),[g.memoizedState,i]},useRef:function(i){var a=As();return i={current:i},a.memoizedState=i},useState:GS,useDebugValue:gy,useDeferredValue:function(i){return As().memoizedState=i},useTransition:function(){var i=GS(!1),a=i[0];return i=lM.bind(null,i[1]),As().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,d){var g=vt,y=As();if(ft){if(d===void 0)throw Error(t(407));d=d()}else{if(d=a(),Zt===null)throw Error(t(349));(Ta&30)!==0||HS(g,a,d)}y.memoizedState=d;var E={value:d,getSnapshot:a};return y.queue=E,XS(WS.bind(null,g,E,i),[i]),g.flags|=2048,Td(9,BS.bind(null,g,E,d,a),void 0,null),d},useId:function(){var i=As(),a=Zt.identifierPrefix;if(ft){var d=ri,g=ni;d=(g&~(1<<32-Wr(g)-1)).toString(32)+d,a=":"+a+"R"+d,d=_d++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=aM++,a=":"+a+"r"+d.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},hM={readContext:_r,useCallback:ZS,useContext:_r,useEffect:my,useImperativeHandle:JS,useInsertionEffect:qS,useLayoutEffect:KS,useMemo:eA,useReducer:fy,useRef:YS,useState:function(){return fy(kd)},useDebugValue:gy,useDeferredValue:function(i){var a=kr();return tA(a,Ht.memoizedState,i)},useTransition:function(){var i=fy(kd)[0],a=kr().memoizedState;return[i,a]},useMutableSource:$S,useSyncExternalStore:zS,useId:nA,unstable_isNewReconciler:!1},fM={readContext:_r,useCallback:ZS,useContext:_r,useEffect:my,useImperativeHandle:JS,useInsertionEffect:qS,useLayoutEffect:KS,useMemo:eA,useReducer:py,useRef:YS,useState:function(){return py(kd)},useDebugValue:gy,useDeferredValue:function(i){var a=kr();return Ht===null?a.memoizedState=i:tA(a,Ht.memoizedState,i)},useTransition:function(){var i=py(kd)[0],a=kr().memoizedState;return[i,a]},useMutableSource:$S,useSyncExternalStore:zS,useId:nA,unstable_isNewReconciler:!1};function Gr(i,a){if(i&&i.defaultProps){a=Z({},a),i=i.defaultProps;for(var d in i)a[d]===void 0&&(a[d]=i[d]);return a}return a}function vy(i,a,d,g){a=i.memoizedState,d=d(g,a),d=d==null?a:Z({},a,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Dp={isMounted:function(i){return(i=i._reactInternals)?xa(i)===i:!1},enqueueSetState:function(i,a,d){i=i._reactInternals;var g=Rn(),y=xo(i),E=ii(g,y);E.payload=a,d!=null&&(E.callback=d),a=vo(i,E,y),a!==null&&(qr(a,i,y,g),kp(a,i,y))},enqueueReplaceState:function(i,a,d){i=i._reactInternals;var g=Rn(),y=xo(i),E=ii(g,y);E.tag=1,E.payload=a,d!=null&&(E.callback=d),a=vo(i,E,y),a!==null&&(qr(a,i,y,g),kp(a,i,y))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var d=Rn(),g=xo(i),y=ii(d,g);y.tag=2,a!=null&&(y.callback=a),a=vo(i,y,g),a!==null&&(qr(a,i,g,d),kp(a,i,g))}};function oA(i,a,d,g,y,E,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,E,R):a.prototype&&a.prototype.isPureReactComponent?!pd(d,g)||!pd(y,E):!0}function aA(i,a,d){var g=!1,y=po,E=a.contextType;return typeof E=="object"&&E!==null?E=_r(E):(y=Hn(a)?Aa:yn.current,g=a.contextTypes,E=(g=g!=null)?fc(i,y):po),a=new a(d,E),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Dp,i.stateNode=a,a._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=E),a}function lA(i,a,d,g){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,g),a.state!==i&&Dp.enqueueReplaceState(a,a.state,null)}function yy(i,a,d,g){var y=i.stateNode;y.props=d,y.state=i.memoizedState,y.refs={},sy(i);var E=a.contextType;typeof E=="object"&&E!==null?y.context=_r(E):(E=Hn(a)?Aa:yn.current,y.context=fc(i,E)),y.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(vy(i,a,E,d),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Dp.enqueueReplaceState(y,y.state,null),Tp(i,d,y,g),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function xc(i,a){try{var d="",g=a;do d+=Ae(g),g=g.return;while(g);var y=d}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:i,source:a,stack:y,digest:null}}function wy(i,a,d){return{value:i,source:null,stack:d??null,digest:a??null}}function by(i,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var pM=typeof WeakMap=="function"?WeakMap:Map;function cA(i,a,d){d=ii(-1,d),d.tag=3,d.payload={element:null};var g=a.value;return d.callback=function(){Bp||(Bp=!0,Dy=g),by(i,a)},d}function uA(i,a,d){d=ii(-1,d),d.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var y=a.value;d.payload=function(){return g(y)},d.callback=function(){by(i,a)}}var E=i.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(d.callback=function(){by(i,a),typeof g!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var R=a.stack;this.componentDidCatch(a.value,{componentStack:R!==null?R:""})}),d}function dA(i,a,d){var g=i.pingCache;if(g===null){g=i.pingCache=new pM;var y=new Set;g.set(a,y)}else y=g.get(a),y===void 0&&(y=new Set,g.set(a,y));y.has(d)||(y.add(d),i=TM.bind(null,i,a,d),a.then(i,i))}function hA(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function fA(i,a,d,g,y){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=ii(-1,1),a.tag=2,vo(d,a,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var mM=M.ReactCurrentOwner,Bn=!1;function Pn(i,a,d,g){a.child=i===null?IS(a,null,d,g):vc(a,i.child,d,g)}function pA(i,a,d,g,y){d=d.render;var E=a.ref;return wc(a,y),g=dy(i,a,d,g,E,y),d=hy(),i!==null&&!Bn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,oi(i,a,y)):(ft&&d&&Xv(a),a.flags|=1,Pn(i,a,g,y),a.child)}function mA(i,a,d,g,y){if(i===null){var E=d.type;return typeof E=="function"&&!By(E)&&E.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=E,gA(i,a,E,g,y)):(i=Xp(d.type,null,g,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(E=i.child,(i.lanes&y)===0){var R=E.memoizedProps;if(d=d.compare,d=d!==null?d:pd,d(R,g)&&i.ref===a.ref)return oi(i,a,y)}return a.flags|=1,i=Ao(E,g),i.ref=a.ref,i.return=a,a.child=i}function gA(i,a,d,g,y){if(i!==null){var E=i.memoizedProps;if(pd(E,g)&&i.ref===a.ref)if(Bn=!1,a.pendingProps=g=E,(i.lanes&y)!==0)(i.flags&131072)!==0&&(Bn=!0);else return a.lanes=i.lanes,oi(i,a,y)}return xy(i,a,d,g,y)}function vA(i,a,d){var g=a.pendingProps,y=g.children,E=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Ac,ir),ir|=d;else{if((d&1073741824)===0)return i=E!==null?E.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,lt(Ac,ir),ir|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=E!==null?E.baseLanes:d,lt(Ac,ir),ir|=g}else E!==null?(g=E.baseLanes|d,a.memoizedState=null):g=d,lt(Ac,ir),ir|=g;return Pn(i,a,y,d),a.child}function yA(i,a){var d=a.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function xy(i,a,d,g,y){var E=Hn(d)?Aa:yn.current;return E=fc(a,E),wc(a,y),d=dy(i,a,d,g,E,y),g=hy(),i!==null&&!Bn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,oi(i,a,y)):(ft&&g&&Xv(a),a.flags|=1,Pn(i,a,d,y),a.child)}function wA(i,a,d,g,y){if(Hn(d)){var E=!0;wp(a)}else E=!1;if(wc(a,y),a.stateNode===null)Fp(i,a),aA(a,d,g),yy(a,d,g,y),g=!0;else if(i===null){var R=a.stateNode,O=a.memoizedProps;R.props=O;var H=R.context,Y=d.contextType;typeof Y=="object"&&Y!==null?Y=_r(Y):(Y=Hn(d)?Aa:yn.current,Y=fc(a,Y));var re=d.getDerivedStateFromProps,ie=typeof re=="function"||typeof R.getSnapshotBeforeUpdate=="function";ie||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(O!==g||H!==Y)&&lA(a,R,g,Y),go=!1;var ne=a.memoizedState;R.state=ne,Tp(a,g,R,y),H=a.memoizedState,O!==g||ne!==H||zn.current||go?(typeof re=="function"&&(vy(a,d,re,g),H=a.memoizedState),(O=go||oA(a,d,O,g,ne,H,Y))?(ie||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(a.flags|=4194308)):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=H),R.props=g,R.state=H,R.context=Y,g=O):(typeof R.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{R=a.stateNode,DS(i,a),O=a.memoizedProps,Y=a.type===a.elementType?O:Gr(a.type,O),R.props=Y,ie=a.pendingProps,ne=R.context,H=d.contextType,typeof H=="object"&&H!==null?H=_r(H):(H=Hn(d)?Aa:yn.current,H=fc(a,H));var ge=d.getDerivedStateFromProps;(re=typeof ge=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(O!==ie||ne!==H)&&lA(a,R,g,H),go=!1,ne=a.memoizedState,R.state=ne,Tp(a,g,R,y);var we=a.memoizedState;O!==ie||ne!==we||zn.current||go?(typeof ge=="function"&&(vy(a,d,ge,g),we=a.memoizedState),(Y=go||oA(a,d,Y,g,ne,we,H)||!1)?(re||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(g,we,H),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(g,we,H)),typeof R.componentDidUpdate=="function"&&(a.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof R.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=we),R.props=g,R.state=we,R.context=H,g=Y):(typeof R.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(a.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(a.flags|=1024),g=!1)}return Sy(i,a,d,g,E,y)}function Sy(i,a,d,g,y,E){yA(i,a);var R=(a.flags&128)!==0;if(!g&&!R)return y&&ES(a,d,!1),oi(i,a,E);g=a.stateNode,mM.current=a;var O=R&&typeof d.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,i!==null&&R?(a.child=vc(a,i.child,null,E),a.child=vc(a,null,O,E)):Pn(i,a,O,E),a.memoizedState=g.state,y&&ES(a,d,!0),a.child}function bA(i){var a=i.stateNode;a.pendingContext?SS(i,a.pendingContext,a.pendingContext!==a.context):a.context&&SS(i,a.context,!1),iy(i,a.containerInfo)}function xA(i,a,d,g,y){return gc(),Jv(y),a.flags|=256,Pn(i,a,d,g),a.child}var Ay={dehydrated:null,treeContext:null,retryLane:0};function Ey(i){return{baseLanes:i,cachePool:null,transitions:null}}function SA(i,a,d){var g=a.pendingProps,y=gt.current,E=!1,R=(a.flags&128)!==0,O;if((O=R)||(O=i!==null&&i.memoizedState===null?!1:(y&2)!==0),O?(E=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),lt(gt,y&1),i===null)return Qv(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(R=g.children,i=g.fallback,E?(g=a.mode,E=a.child,R={mode:"hidden",children:R},(g&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=R):E=qp(R,g,0,null),i=Ia(i,g,d,null),E.return=a,i.return=a,E.sibling=i,a.child=E,a.child.memoizedState=Ey(d),a.memoizedState=Ay,i):Cy(a,R));if(y=i.memoizedState,y!==null&&(O=y.dehydrated,O!==null))return gM(i,a,R,g,O,y,d);if(E){E=g.fallback,R=a.mode,y=i.child,O=y.sibling;var H={mode:"hidden",children:g.children};return(R&1)===0&&a.child!==y?(g=a.child,g.childLanes=0,g.pendingProps=H,a.deletions=null):(g=Ao(y,H),g.subtreeFlags=y.subtreeFlags&14680064),O!==null?E=Ao(O,E):(E=Ia(E,R,d,null),E.flags|=2),E.return=a,g.return=a,g.sibling=E,a.child=g,g=E,E=a.child,R=i.child.memoizedState,R=R===null?Ey(d):{baseLanes:R.baseLanes|d,cachePool:null,transitions:R.transitions},E.memoizedState=R,E.childLanes=i.childLanes&~d,a.memoizedState=Ay,g}return E=i.child,i=E.sibling,g=Ao(E,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=d),g.return=a,g.sibling=null,i!==null&&(d=a.deletions,d===null?(a.deletions=[i],a.flags|=16):d.push(i)),a.child=g,a.memoizedState=null,g}function Cy(i,a){return a=qp({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Op(i,a,d,g){return g!==null&&Jv(g),vc(a,i.child,null,d),i=Cy(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function gM(i,a,d,g,y,E,R){if(d)return a.flags&256?(a.flags&=-257,g=wy(Error(t(422))),Op(i,a,R,g)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(E=g.fallback,y=a.mode,g=qp({mode:"visible",children:g.children},y,0,null),E=Ia(E,y,R,null),E.flags|=2,g.return=a,E.return=a,g.sibling=E,a.child=g,(a.mode&1)!==0&&vc(a,i.child,null,R),a.child.memoizedState=Ey(R),a.memoizedState=Ay,E);if((a.mode&1)===0)return Op(i,a,R,null);if(y.data==="$!"){if(g=y.nextSibling&&y.nextSibling.dataset,g)var O=g.dgst;return g=O,E=Error(t(419)),g=wy(E,g,void 0),Op(i,a,R,g)}if(O=(R&i.childLanes)!==0,Bn||O){if(g=Zt,g!==null){switch(R&-R){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(g.suspendedLanes|R))!==0?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,si(i,y),qr(g,i,y,-1))}return Hy(),g=wy(Error(t(421))),Op(i,a,R,g)}return y.data==="$?"?(a.flags|=128,a.child=i.child,a=PM.bind(null,i),y._reactRetry=a,null):(i=E.treeContext,sr=ho(y.nextSibling),rr=a,ft=!0,Vr=null,i!==null&&(Er[Cr++]=ni,Er[Cr++]=ri,Er[Cr++]=Ea,ni=i.id,ri=i.overflow,Ea=a),a=Cy(a,g.children),a.flags|=4096,a)}function AA(i,a,d){i.lanes|=a;var g=i.alternate;g!==null&&(g.lanes|=a),ny(i.return,a,d)}function _y(i,a,d,g,y){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:y}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=g,E.tail=d,E.tailMode=y)}function EA(i,a,d){var g=a.pendingProps,y=g.revealOrder,E=g.tail;if(Pn(i,a,g.children,d),g=gt.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&AA(i,d,a);else if(i.tag===19)AA(i,d,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(lt(gt,g),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(d=a.child,y=null;d!==null;)i=d.alternate,i!==null&&Pp(i)===null&&(y=d),d=d.sibling;d=y,d===null?(y=a.child,a.child=null):(y=d.sibling,d.sibling=null),_y(a,!1,y,d,E);break;case"backwards":for(d=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&Pp(i)===null){a.child=y;break}i=y.sibling,y.sibling=d,d=y,y=i}_y(a,!0,d,null,E);break;case"together":_y(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Fp(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function oi(i,a,d){if(i!==null&&(a.dependencies=i.dependencies),Pa|=a.lanes,(d&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,d=Ao(i,i.pendingProps),a.child=d,d.return=a;i.sibling!==null;)i=i.sibling,d=d.sibling=Ao(i,i.pendingProps),d.return=a;d.sibling=null}return a.child}function vM(i,a,d){switch(a.tag){case 3:bA(a),gc();break;case 5:jS(a);break;case 1:Hn(a.type)&&wp(a);break;case 4:iy(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,y=a.memoizedProps.value;lt(Cp,g._currentValue),g._currentValue=y;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(lt(gt,gt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?SA(i,a,d):(lt(gt,gt.current&1),i=oi(i,a,d),i!==null?i.sibling:null);lt(gt,gt.current&1);break;case 19:if(g=(d&a.childLanes)!==0,(i.flags&128)!==0){if(g)return EA(i,a,d);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),lt(gt,gt.current),g)break;return null;case 22:case 23:return a.lanes=0,vA(i,a,d)}return oi(i,a,d)}var CA,ky,_A,kA;CA=function(i,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},ky=function(){},_A=function(i,a,d,g){var y=i.memoizedProps;if(y!==g){i=a.stateNode,ka(Ss.current);var E=null;switch(d){case"input":y=kt(i,y),g=kt(i,g),E=[];break;case"select":y=Z({},y,{value:void 0}),g=Z({},g,{value:void 0}),E=[];break;case"textarea":y=ln(i,y),g=ln(i,g),E=[];break;default:typeof y.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=gp)}rc(d,g);var R;d=null;for(Y in y)if(!g.hasOwnProperty(Y)&&y.hasOwnProperty(Y)&&y[Y]!=null)if(Y==="style"){var O=y[Y];for(R in O)O.hasOwnProperty(R)&&(d||(d={}),d[R]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?E||(E=[]):(E=E||[]).push(Y,null));for(Y in g){var H=g[Y];if(O=y!=null?y[Y]:void 0,g.hasOwnProperty(Y)&&H!==O&&(H!=null||O!=null))if(Y==="style")if(O){for(R in O)!O.hasOwnProperty(R)||H&&H.hasOwnProperty(R)||(d||(d={}),d[R]="");for(R in H)H.hasOwnProperty(R)&&O[R]!==H[R]&&(d||(d={}),d[R]=H[R])}else d||(E||(E=[]),E.push(Y,d)),d=H;else Y==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,O=O?O.__html:void 0,H!=null&&O!==H&&(E=E||[]).push(Y,H)):Y==="children"?typeof H!="string"&&typeof H!="number"||(E=E||[]).push(Y,""+H):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(H!=null&&Y==="onScroll"&&ut("scroll",i),E||O===H||(E=[])):(E=E||[]).push(Y,H))}d&&(E=E||[]).push("style",d);var Y=E;(a.updateQueue=Y)&&(a.flags|=4)}},kA=function(i,a,d,g){d!==g&&(a.flags|=4)};function Pd(i,a){if(!ft)switch(i.tailMode){case"hidden":a=i.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function bn(i){var a=i.alternate!==null&&i.alternate.child===i.child,d=0,g=0;if(a)for(var y=i.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags&14680064,g|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=g,i.childLanes=d,a}function yM(i,a,d){var g=a.pendingProps;switch(qv(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(a),null;case 1:return Hn(a.type)&&yp(),bn(a),null;case 3:return g=a.stateNode,bc(),dt(zn),dt(yn),ly(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Ap(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Vr!==null&&(jy(Vr),Vr=null))),ky(i,a),bn(a),null;case 5:oy(a);var y=ka(Ed.current);if(d=a.type,i!==null&&a.stateNode!=null)_A(i,a,d,g,y),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(t(166));return bn(a),null}if(i=ka(Ss.current),Ap(a)){g=a.stateNode,d=a.type;var E=a.memoizedProps;switch(g[xs]=a,g[wd]=E,i=(a.mode&1)!==0,d){case"dialog":ut("cancel",g),ut("close",g);break;case"iframe":case"object":case"embed":ut("load",g);break;case"video":case"audio":for(y=0;y<gd.length;y++)ut(gd[y],g);break;case"source":ut("error",g);break;case"img":case"image":case"link":ut("error",g),ut("load",g);break;case"details":ut("toggle",g);break;case"input":br(g,E),ut("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!E.multiple},ut("invalid",g);break;case"textarea":Js(g,E),ut("invalid",g)}rc(d,E),y=null;for(var R in E)if(E.hasOwnProperty(R)){var O=E[R];R==="children"?typeof O=="string"?g.textContent!==O&&(E.suppressHydrationWarning!==!0&&mp(g.textContent,O,i),y=["children",O]):typeof O=="number"&&g.textContent!==""+O&&(E.suppressHydrationWarning!==!0&&mp(g.textContent,O,i),y=["children",""+O]):s.hasOwnProperty(R)&&O!=null&&R==="onScroll"&&ut("scroll",g)}switch(d){case"input":je(g),Qs(g,E,!0);break;case"textarea":je(g),Yf(g);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(g.onclick=gp)}g=y,a.updateQueue=g,g!==null&&(a.flags|=4)}else{R=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ya(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=R.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=R.createElement(d,{is:g.is}):(i=R.createElement(d),d==="select"&&(R=i,g.multiple?R.multiple=!0:g.size&&(R.size=g.size))):i=R.createElementNS(i,d),i[xs]=a,i[wd]=g,CA(i,a,!1,!1),a.stateNode=i;e:{switch(R=Ju(d,g),d){case"dialog":ut("cancel",i),ut("close",i),y=g;break;case"iframe":case"object":case"embed":ut("load",i),y=g;break;case"video":case"audio":for(y=0;y<gd.length;y++)ut(gd[y],i);y=g;break;case"source":ut("error",i),y=g;break;case"img":case"image":case"link":ut("error",i),ut("load",i),y=g;break;case"details":ut("toggle",i),y=g;break;case"input":br(i,g),y=kt(i,g),ut("invalid",i);break;case"option":y=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},y=Z({},g,{value:void 0}),ut("invalid",i);break;case"textarea":Js(i,g),y=ln(i,g),ut("invalid",i);break;default:y=g}rc(d,y),O=y;for(E in O)if(O.hasOwnProperty(E)){var H=O[E];E==="style"?qf(i,H):E==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&nc(i,H)):E==="children"?typeof H=="string"?(d!=="textarea"||H!=="")&&xr(i,H):typeof H=="number"&&xr(i,""+H):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?H!=null&&E==="onScroll"&&ut("scroll",i):H!=null&&T(i,E,H,R))}switch(d){case"input":je(i),Qs(i,g,!1);break;case"textarea":je(i),Yf(i);break;case"option":g.value!=null&&i.setAttribute("value",""+me(g.value));break;case"select":i.multiple=!!g.multiple,E=g.value,E!=null?Ji(i,!!g.multiple,E,!1):g.defaultValue!=null&&Ji(i,!!g.multiple,g.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=gp)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return bn(a),null;case 6:if(i&&a.stateNode!=null)kA(i,a,i.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(t(166));if(d=ka(Ed.current),ka(Ss.current),Ap(a)){if(g=a.stateNode,d=a.memoizedProps,g[xs]=a,(E=g.nodeValue!==d)&&(i=rr,i!==null))switch(i.tag){case 3:mp(g.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&mp(g.nodeValue,d,(i.mode&1)!==0)}E&&(a.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[xs]=a,a.stateNode=g}return bn(a),null;case 13:if(dt(gt),g=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ft&&sr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)RS(),gc(),a.flags|=98560,E=!1;else if(E=Ap(a),g!==null&&g.dehydrated!==null){if(i===null){if(!E)throw Error(t(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[xs]=a}else gc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bn(a),E=!1}else Vr!==null&&(jy(Vr),Vr=null),E=!0;if(!E)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(gt.current&1)!==0?Bt===0&&(Bt=3):Hy())),a.updateQueue!==null&&(a.flags|=4),bn(a),null);case 4:return bc(),ky(i,a),i===null&&vd(a.stateNode.containerInfo),bn(a),null;case 10:return ty(a.type._context),bn(a),null;case 17:return Hn(a.type)&&yp(),bn(a),null;case 19:if(dt(gt),E=a.memoizedState,E===null)return bn(a),null;if(g=(a.flags&128)!==0,R=E.rendering,R===null)if(g)Pd(E,!1);else{if(Bt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(R=Pp(i),R!==null){for(a.flags|=128,Pd(E,!1),g=R.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=d,d=a.child;d!==null;)E=d,i=g,E.flags&=14680066,R=E.alternate,R===null?(E.childLanes=0,E.lanes=i,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=R.childLanes,E.lanes=R.lanes,E.child=R.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=R.memoizedProps,E.memoizedState=R.memoizedState,E.updateQueue=R.updateQueue,E.type=R.type,i=R.dependencies,E.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return lt(gt,gt.current&1|2),a.child}i=i.sibling}E.tail!==null&&Pt()>Ec&&(a.flags|=128,g=!0,Pd(E,!1),a.lanes=4194304)}else{if(!g)if(i=Pp(R),i!==null){if(a.flags|=128,g=!0,d=i.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),Pd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!R.alternate&&!ft)return bn(a),null}else 2*Pt()-E.renderingStartTime>Ec&&d!==1073741824&&(a.flags|=128,g=!0,Pd(E,!1),a.lanes=4194304);E.isBackwards?(R.sibling=a.child,a.child=R):(d=E.last,d!==null?d.sibling=R:a.child=R,E.last=R)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=Pt(),a.sibling=null,d=gt.current,lt(gt,g?d&1|2:d&1),a):(bn(a),null);case 22:case 23:return zy(),g=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(ir&1073741824)!==0&&(bn(a),a.subtreeFlags&6&&(a.flags|=8192)):bn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function wM(i,a){switch(qv(a),a.tag){case 1:return Hn(a.type)&&yp(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return bc(),dt(zn),dt(yn),ly(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return oy(a),null;case 13:if(dt(gt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));gc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return dt(gt),null;case 4:return bc(),null;case 10:return ty(a.type._context),null;case 22:case 23:return zy(),null;case 24:return null;default:return null}}var jp=!1,xn=!1,bM=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Sc(i,a){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){At(i,a,g)}else d.current=null}function Ty(i,a,d){try{d()}catch(g){At(i,a,g)}}var TA=!1;function xM(i,a){if(zv=sp,i=oS(),Mv(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var y=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var R=0,O=-1,H=-1,Y=0,re=0,ie=i,ne=null;t:for(;;){for(var ge;ie!==d||y!==0&&ie.nodeType!==3||(O=R+y),ie!==E||g!==0&&ie.nodeType!==3||(H=R+g),ie.nodeType===3&&(R+=ie.nodeValue.length),(ge=ie.firstChild)!==null;)ne=ie,ie=ge;for(;;){if(ie===i)break t;if(ne===d&&++Y===y&&(O=R),ne===E&&++re===g&&(H=R),(ge=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=ge}d=O===-1||H===-1?null:{start:O,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(Hv={focusedElem:i,selectionRange:d},sp=!1,ye=a;ye!==null;)if(a=ye,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,ye=i;else for(;ye!==null;){a=ye;try{var we=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,Rt=we.memoizedState,U=a.stateNode,B=U.getSnapshotBeforeUpdate(a.elementType===a.type?Se:Gr(a.type,Se),Rt);U.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var V=a.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(le){At(a,a.return,le)}if(i=a.sibling,i!==null){i.return=a.return,ye=i;break}ye=a.return}return we=TA,TA=!1,we}function Rd(i,a,d){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var y=g=g.next;do{if((y.tag&i)===i){var E=y.destroy;y.destroy=void 0,E!==void 0&&Ty(a,d,E)}y=y.next}while(y!==g)}}function $p(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&i)===i){var g=d.create;d.destroy=g()}d=d.next}while(d!==a)}}function Py(i){var a=i.ref;if(a!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof a=="function"?a(i):a.current=i}}function PA(i){var a=i.alternate;a!==null&&(i.alternate=null,PA(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[xs],delete a[wd],delete a[Vv],delete a[rM],delete a[sM])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function RA(i){return i.tag===5||i.tag===3||i.tag===4}function NA(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||RA(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ry(i,a,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(i,a):d.insertBefore(i,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(i,d)):(a=d,a.appendChild(i)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=gp));else if(g!==4&&(i=i.child,i!==null))for(Ry(i,a,d),i=i.sibling;i!==null;)Ry(i,a,d),i=i.sibling}function Ny(i,a,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?d.insertBefore(i,a):d.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Ny(i,a,d),i=i.sibling;i!==null;)Ny(i,a,d),i=i.sibling}var un=null,Yr=!1;function yo(i,a,d){for(d=d.child;d!==null;)MA(i,a,d),d=d.sibling}function MA(i,a,d){if(bs&&typeof bs.onCommitFiberUnmount=="function")try{bs.onCommitFiberUnmount(Jf,d)}catch{}switch(d.tag){case 5:xn||Sc(d,a);case 6:var g=un,y=Yr;un=null,yo(i,a,d),un=g,Yr=y,un!==null&&(Yr?(i=un,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):un.removeChild(d.stateNode));break;case 18:un!==null&&(Yr?(i=un,d=d.stateNode,i.nodeType===8?Uv(i.parentNode,d):i.nodeType===1&&Uv(i,d),ld(i)):Uv(un,d.stateNode));break;case 4:g=un,y=Yr,un=d.stateNode.containerInfo,Yr=!0,yo(i,a,d),un=g,Yr=y;break;case 0:case 11:case 14:case 15:if(!xn&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){y=g=g.next;do{var E=y,R=E.destroy;E=E.tag,R!==void 0&&((E&2)!==0||(E&4)!==0)&&Ty(d,a,R),y=y.next}while(y!==g)}yo(i,a,d);break;case 1:if(!xn&&(Sc(d,a),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(O){At(d,a,O)}yo(i,a,d);break;case 21:yo(i,a,d);break;case 22:d.mode&1?(xn=(g=xn)||d.memoizedState!==null,yo(i,a,d),xn=g):yo(i,a,d);break;default:yo(i,a,d)}}function IA(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new bM),a.forEach(function(g){var y=RM.bind(null,i,g);d.has(g)||(d.add(g),g.then(y,y))})}}function Xr(i,a){var d=a.deletions;if(d!==null)for(var g=0;g<d.length;g++){var y=d[g];try{var E=i,R=a,O=R;e:for(;O!==null;){switch(O.tag){case 5:un=O.stateNode,Yr=!1;break e;case 3:un=O.stateNode.containerInfo,Yr=!0;break e;case 4:un=O.stateNode.containerInfo,Yr=!0;break e}O=O.return}if(un===null)throw Error(t(160));MA(E,R,y),un=null,Yr=!1;var H=y.alternate;H!==null&&(H.return=null),y.return=null}catch(Y){At(y,a,Y)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)LA(a,i),a=a.sibling}function LA(i,a){var d=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Xr(a,i),Es(i),g&4){try{Rd(3,i,i.return),$p(3,i)}catch(Se){At(i,i.return,Se)}try{Rd(5,i,i.return)}catch(Se){At(i,i.return,Se)}}break;case 1:Xr(a,i),Es(i),g&512&&d!==null&&Sc(d,d.return);break;case 5:if(Xr(a,i),Es(i),g&512&&d!==null&&Sc(d,d.return),i.flags&32){var y=i.stateNode;try{xr(y,"")}catch(Se){At(i,i.return,Se)}}if(g&4&&(y=i.stateNode,y!=null)){var E=i.memoizedProps,R=d!==null?d.memoizedProps:E,O=i.type,H=i.updateQueue;if(i.updateQueue=null,H!==null)try{O==="input"&&E.type==="radio"&&E.name!=null&&er(y,E),Ju(O,R);var Y=Ju(O,E);for(R=0;R<H.length;R+=2){var re=H[R],ie=H[R+1];re==="style"?qf(y,ie):re==="dangerouslySetInnerHTML"?nc(y,ie):re==="children"?xr(y,ie):T(y,re,ie,Y)}switch(O){case"input":an(y,E);break;case"textarea":Gf(y,E);break;case"select":var ne=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var ge=E.value;ge!=null?Ji(y,!!E.multiple,ge,!1):ne!==!!E.multiple&&(E.defaultValue!=null?Ji(y,!!E.multiple,E.defaultValue,!0):Ji(y,!!E.multiple,E.multiple?[]:"",!1))}y[wd]=E}catch(Se){At(i,i.return,Se)}}break;case 6:if(Xr(a,i),Es(i),g&4){if(i.stateNode===null)throw Error(t(162));y=i.stateNode,E=i.memoizedProps;try{y.nodeValue=E}catch(Se){At(i,i.return,Se)}}break;case 3:if(Xr(a,i),Es(i),g&4&&d!==null&&d.memoizedState.isDehydrated)try{ld(a.containerInfo)}catch(Se){At(i,i.return,Se)}break;case 4:Xr(a,i),Es(i);break;case 13:Xr(a,i),Es(i),y=i.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(Ly=Pt())),g&4&&IA(i);break;case 22:if(re=d!==null&&d.memoizedState!==null,i.mode&1?(xn=(Y=xn)||re,Xr(a,i),xn=Y):Xr(a,i),Es(i),g&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!re&&(i.mode&1)!==0)for(ye=i,re=i.child;re!==null;){for(ie=ye=re;ye!==null;){switch(ne=ye,ge=ne.child,ne.tag){case 0:case 11:case 14:case 15:Rd(4,ne,ne.return);break;case 1:Sc(ne,ne.return);var we=ne.stateNode;if(typeof we.componentWillUnmount=="function"){g=ne,d=ne.return;try{a=g,we.props=a.memoizedProps,we.state=a.memoizedState,we.componentWillUnmount()}catch(Se){At(g,d,Se)}}break;case 5:Sc(ne,ne.return);break;case 22:if(ne.memoizedState!==null){FA(ie);continue}}ge!==null?(ge.return=ne,ye=ge):FA(ie)}re=re.sibling}e:for(re=null,ie=i;;){if(ie.tag===5){if(re===null){re=ie;try{y=ie.stateNode,Y?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(O=ie.stateNode,H=ie.memoizedProps.style,R=H!=null&&H.hasOwnProperty("display")?H.display:null,O.style.display=Xf("display",R))}catch(Se){At(i,i.return,Se)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=Y?"":ie.memoizedProps}catch(Se){At(i,i.return,Se)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Xr(a,i),Es(i),g&4&&IA(i);break;case 21:break;default:Xr(a,i),Es(i)}}function Es(i){var a=i.flags;if(a&2){try{e:{for(var d=i.return;d!==null;){if(RA(d)){var g=d;break e}d=d.return}throw Error(t(160))}switch(g.tag){case 5:var y=g.stateNode;g.flags&32&&(xr(y,""),g.flags&=-33);var E=NA(i);Ny(i,E,y);break;case 3:case 4:var R=g.stateNode.containerInfo,O=NA(i);Ry(i,O,R);break;default:throw Error(t(161))}}catch(H){At(i,i.return,H)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function SM(i,a,d){ye=i,DA(i)}function DA(i,a,d){for(var g=(i.mode&1)!==0;ye!==null;){var y=ye,E=y.child;if(y.tag===22&&g){var R=y.memoizedState!==null||jp;if(!R){var O=y.alternate,H=O!==null&&O.memoizedState!==null||xn;O=jp;var Y=xn;if(jp=R,(xn=H)&&!Y)for(ye=y;ye!==null;)R=ye,H=R.child,R.tag===22&&R.memoizedState!==null?jA(y):H!==null?(H.return=R,ye=H):jA(y);for(;E!==null;)ye=E,DA(E),E=E.sibling;ye=y,jp=O,xn=Y}OA(i)}else(y.subtreeFlags&8772)!==0&&E!==null?(E.return=y,ye=E):OA(i)}}function OA(i){for(;ye!==null;){var a=ye;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:xn||$p(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!xn)if(d===null)g.componentDidMount();else{var y=a.elementType===a.type?d.memoizedProps:Gr(a.type,d.memoizedProps);g.componentDidUpdate(y,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&FS(a,E,g);break;case 3:var R=a.updateQueue;if(R!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}FS(a,R,d)}break;case 5:var O=a.stateNode;if(d===null&&a.flags&4){d=O;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&d.focus();break;case"img":H.src&&(d.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Y=a.alternate;if(Y!==null){var re=Y.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&ld(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}xn||a.flags&512&&Py(a)}catch(ne){At(a,a.return,ne)}}if(a===i){ye=null;break}if(d=a.sibling,d!==null){d.return=a.return,ye=d;break}ye=a.return}}function FA(i){for(;ye!==null;){var a=ye;if(a===i){ye=null;break}var d=a.sibling;if(d!==null){d.return=a.return,ye=d;break}ye=a.return}}function jA(i){for(;ye!==null;){var a=ye;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{$p(4,a)}catch(H){At(a,d,H)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var y=a.return;try{g.componentDidMount()}catch(H){At(a,y,H)}}var E=a.return;try{Py(a)}catch(H){At(a,E,H)}break;case 5:var R=a.return;try{Py(a)}catch(H){At(a,R,H)}}}catch(H){At(a,a.return,H)}if(a===i){ye=null;break}var O=a.sibling;if(O!==null){O.return=a.return,ye=O;break}ye=a.return}}var AM=Math.ceil,zp=M.ReactCurrentDispatcher,My=M.ReactCurrentOwner,Tr=M.ReactCurrentBatchConfig,Ke=0,Zt=null,Lt=null,dn=0,ir=0,Ac=fo(0),Bt=0,Nd=null,Pa=0,Hp=0,Iy=0,Md=null,Wn=null,Ly=0,Ec=1/0,ai=null,Bp=!1,Dy=null,wo=null,Wp=!1,bo=null,Up=0,Id=0,Oy=null,Vp=-1,Gp=0;function Rn(){return(Ke&6)!==0?Pt():Vp!==-1?Vp:Vp=Pt()}function xo(i){return(i.mode&1)===0?1:(Ke&2)!==0&&dn!==0?dn&-dn:oM.transition!==null?(Gp===0&&(Gp=Nx()),Gp):(i=et,i!==0||(i=window.event,i=i===void 0?16:zx(i.type)),i)}function qr(i,a,d,g){if(50<Id)throw Id=0,Oy=null,Error(t(185));rd(i,d,g),((Ke&2)===0||i!==Zt)&&(i===Zt&&((Ke&2)===0&&(Hp|=d),Bt===4&&So(i,dn)),Un(i,g),d===1&&Ke===0&&(a.mode&1)===0&&(Ec=Pt()+500,bp&&mo()))}function Un(i,a){var d=i.callbackNode;oN(i,a);var g=tp(i,i===Zt?dn:0);if(g===0)d!==null&&Tx(d),i.callbackNode=null,i.callbackPriority=0;else if(a=g&-g,i.callbackPriority!==a){if(d!=null&&Tx(d),a===1)i.tag===0?iM(zA.bind(null,i)):CS(zA.bind(null,i)),tM(function(){(Ke&6)===0&&mo()}),d=null;else{switch(Mx(g)){case 1:d=mv;break;case 4:d=Px;break;case 16:d=Qf;break;case 536870912:d=Rx;break;default:d=Qf}d=XA(d,$A.bind(null,i))}i.callbackPriority=a,i.callbackNode=d}}function $A(i,a){if(Vp=-1,Gp=0,(Ke&6)!==0)throw Error(t(327));var d=i.callbackNode;if(Cc()&&i.callbackNode!==d)return null;var g=tp(i,i===Zt?dn:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||a)a=Yp(i,g);else{a=g;var y=Ke;Ke|=2;var E=BA();(Zt!==i||dn!==a)&&(ai=null,Ec=Pt()+500,Na(i,a));do try{_M();break}catch(O){HA(i,O)}while(!0);ey(),zp.current=E,Ke=y,Lt!==null?a=0:(Zt=null,dn=0,a=Bt)}if(a!==0){if(a===2&&(y=gv(i),y!==0&&(g=y,a=Fy(i,y))),a===1)throw d=Nd,Na(i,0),So(i,g),Un(i,Pt()),d;if(a===6)So(i,g);else{if(y=i.current.alternate,(g&30)===0&&!EM(y)&&(a=Yp(i,g),a===2&&(E=gv(i),E!==0&&(g=E,a=Fy(i,E))),a===1))throw d=Nd,Na(i,0),So(i,g),Un(i,Pt()),d;switch(i.finishedWork=y,i.finishedLanes=g,a){case 0:case 1:throw Error(t(345));case 2:Ma(i,Wn,ai);break;case 3:if(So(i,g),(g&130023424)===g&&(a=Ly+500-Pt(),10<a)){if(tp(i,0)!==0)break;if(y=i.suspendedLanes,(y&g)!==g){Rn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=Wv(Ma.bind(null,i,Wn,ai),a);break}Ma(i,Wn,ai);break;case 4:if(So(i,g),(g&4194240)===g)break;for(a=i.eventTimes,y=-1;0<g;){var R=31-Wr(g);E=1<<R,R=a[R],R>y&&(y=R),g&=~E}if(g=y,g=Pt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*AM(g/1960))-g,10<g){i.timeoutHandle=Wv(Ma.bind(null,i,Wn,ai),g);break}Ma(i,Wn,ai);break;case 5:Ma(i,Wn,ai);break;default:throw Error(t(329))}}}return Un(i,Pt()),i.callbackNode===d?$A.bind(null,i):null}function Fy(i,a){var d=Md;return i.current.memoizedState.isDehydrated&&(Na(i,a).flags|=256),i=Yp(i,a),i!==2&&(a=Wn,Wn=d,a!==null&&jy(a)),i}function jy(i){Wn===null?Wn=i:Wn.push.apply(Wn,i)}function EM(i){for(var a=i;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var y=d[g],E=y.getSnapshot;y=y.value;try{if(!Ur(E(),y))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function So(i,a){for(a&=~Iy,a&=~Hp,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var d=31-Wr(a),g=1<<d;i[d]=-1,a&=~g}}function zA(i){if((Ke&6)!==0)throw Error(t(327));Cc();var a=tp(i,0);if((a&1)===0)return Un(i,Pt()),null;var d=Yp(i,a);if(i.tag!==0&&d===2){var g=gv(i);g!==0&&(a=g,d=Fy(i,g))}if(d===1)throw d=Nd,Na(i,0),So(i,a),Un(i,Pt()),d;if(d===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Ma(i,Wn,ai),Un(i,Pt()),null}function $y(i,a){var d=Ke;Ke|=1;try{return i(a)}finally{Ke=d,Ke===0&&(Ec=Pt()+500,bp&&mo())}}function Ra(i){bo!==null&&bo.tag===0&&(Ke&6)===0&&Cc();var a=Ke;Ke|=1;var d=Tr.transition,g=et;try{if(Tr.transition=null,et=1,i)return i()}finally{et=g,Tr.transition=d,Ke=a,(Ke&6)===0&&mo()}}function zy(){ir=Ac.current,dt(Ac)}function Na(i,a){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,eM(d)),Lt!==null)for(d=Lt.return;d!==null;){var g=d;switch(qv(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&yp();break;case 3:bc(),dt(zn),dt(yn),ly();break;case 5:oy(g);break;case 4:bc();break;case 13:dt(gt);break;case 19:dt(gt);break;case 10:ty(g.type._context);break;case 22:case 23:zy()}d=d.return}if(Zt=i,Lt=i=Ao(i.current,null),dn=ir=a,Bt=0,Nd=null,Iy=Hp=Pa=0,Wn=Md=null,_a!==null){for(a=0;a<_a.length;a++)if(d=_a[a],g=d.interleaved,g!==null){d.interleaved=null;var y=g.next,E=d.pending;if(E!==null){var R=E.next;E.next=y,g.next=R}d.pending=g}_a=null}return i}function HA(i,a){do{var d=Lt;try{if(ey(),Rp.current=Lp,Np){for(var g=vt.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}Np=!1}if(Ta=0,Jt=Ht=vt=null,Cd=!1,_d=0,My.current=null,d===null||d.return===null){Bt=1,Nd=a,Lt=null;break}e:{var E=i,R=d.return,O=d,H=a;if(a=dn,O.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var Y=H,re=O,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var ge=hA(R);if(ge!==null){ge.flags&=-257,fA(ge,R,O,E,a),ge.mode&1&&dA(E,Y,a),a=ge,H=Y;var we=a.updateQueue;if(we===null){var Se=new Set;Se.add(H),a.updateQueue=Se}else we.add(H);break e}else{if((a&1)===0){dA(E,Y,a),Hy();break e}H=Error(t(426))}}else if(ft&&O.mode&1){var Rt=hA(R);if(Rt!==null){(Rt.flags&65536)===0&&(Rt.flags|=256),fA(Rt,R,O,E,a),Jv(xc(H,O));break e}}E=H=xc(H,O),Bt!==4&&(Bt=2),Md===null?Md=[E]:Md.push(E),E=R;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var U=cA(E,H,a);OS(E,U);break e;case 1:O=H;var B=E.type,V=E.stateNode;if((E.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(wo===null||!wo.has(V)))){E.flags|=65536,a&=-a,E.lanes|=a;var le=uA(E,O,a);OS(E,le);break e}}E=E.return}while(E!==null)}UA(d)}catch(Ee){a=Ee,Lt===d&&d!==null&&(Lt=d=d.return);continue}break}while(!0)}function BA(){var i=zp.current;return zp.current=Lp,i===null?Lp:i}function Hy(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Zt===null||(Pa&268435455)===0&&(Hp&268435455)===0||So(Zt,dn)}function Yp(i,a){var d=Ke;Ke|=2;var g=BA();(Zt!==i||dn!==a)&&(ai=null,Na(i,a));do try{CM();break}catch(y){HA(i,y)}while(!0);if(ey(),Ke=d,zp.current=g,Lt!==null)throw Error(t(261));return Zt=null,dn=0,Bt}function CM(){for(;Lt!==null;)WA(Lt)}function _M(){for(;Lt!==null&&!QR();)WA(Lt)}function WA(i){var a=YA(i.alternate,i,ir);i.memoizedProps=i.pendingProps,a===null?UA(i):Lt=a,My.current=null}function UA(i){var a=i;do{var d=a.alternate;if(i=a.return,(a.flags&32768)===0){if(d=yM(d,a,ir),d!==null){Lt=d;return}}else{if(d=wM(d,a),d!==null){d.flags&=32767,Lt=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Bt=6,Lt=null;return}}if(a=a.sibling,a!==null){Lt=a;return}Lt=a=i}while(a!==null);Bt===0&&(Bt=5)}function Ma(i,a,d){var g=et,y=Tr.transition;try{Tr.transition=null,et=1,kM(i,a,d,g)}finally{Tr.transition=y,et=g}return null}function kM(i,a,d,g){do Cc();while(bo!==null);if((Ke&6)!==0)throw Error(t(327));d=i.finishedWork;var y=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var E=d.lanes|d.childLanes;if(aN(i,E),i===Zt&&(Lt=Zt=null,dn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Wp||(Wp=!0,XA(Qf,function(){return Cc(),null})),E=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||E){E=Tr.transition,Tr.transition=null;var R=et;et=1;var O=Ke;Ke|=4,My.current=null,xM(i,d),LA(d,i),YN(Hv),sp=!!zv,Hv=zv=null,i.current=d,SM(d),JR(),Ke=O,et=R,Tr.transition=E}else i.current=d;if(Wp&&(Wp=!1,bo=i,Up=y),E=i.pendingLanes,E===0&&(wo=null),tN(d.stateNode),Un(i,Pt()),a!==null)for(g=i.onRecoverableError,d=0;d<a.length;d++)y=a[d],g(y.value,{componentStack:y.stack,digest:y.digest});if(Bp)throw Bp=!1,i=Dy,Dy=null,i;return(Up&1)!==0&&i.tag!==0&&Cc(),E=i.pendingLanes,(E&1)!==0?i===Oy?Id++:(Id=0,Oy=i):Id=0,mo(),null}function Cc(){if(bo!==null){var i=Mx(Up),a=Tr.transition,d=et;try{if(Tr.transition=null,et=16>i?16:i,bo===null)var g=!1;else{if(i=bo,bo=null,Up=0,(Ke&6)!==0)throw Error(t(331));var y=Ke;for(Ke|=4,ye=i.current;ye!==null;){var E=ye,R=E.child;if((ye.flags&16)!==0){var O=E.deletions;if(O!==null){for(var H=0;H<O.length;H++){var Y=O[H];for(ye=Y;ye!==null;){var re=ye;switch(re.tag){case 0:case 11:case 15:Rd(8,re,E)}var ie=re.child;if(ie!==null)ie.return=re,ye=ie;else for(;ye!==null;){re=ye;var ne=re.sibling,ge=re.return;if(PA(re),re===Y){ye=null;break}if(ne!==null){ne.return=ge,ye=ne;break}ye=ge}}}var we=E.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var Rt=Se.sibling;Se.sibling=null,Se=Rt}while(Se!==null)}}ye=E}}if((E.subtreeFlags&2064)!==0&&R!==null)R.return=E,ye=R;else e:for(;ye!==null;){if(E=ye,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Rd(9,E,E.return)}var U=E.sibling;if(U!==null){U.return=E.return,ye=U;break e}ye=E.return}}var B=i.current;for(ye=B;ye!==null;){R=ye;var V=R.child;if((R.subtreeFlags&2064)!==0&&V!==null)V.return=R,ye=V;else e:for(R=B;ye!==null;){if(O=ye,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:$p(9,O)}}catch(Ee){At(O,O.return,Ee)}if(O===R){ye=null;break e}var le=O.sibling;if(le!==null){le.return=O.return,ye=le;break e}ye=O.return}}if(Ke=y,mo(),bs&&typeof bs.onPostCommitFiberRoot=="function")try{bs.onPostCommitFiberRoot(Jf,i)}catch{}g=!0}return g}finally{et=d,Tr.transition=a}}return!1}function VA(i,a,d){a=xc(d,a),a=cA(i,a,1),i=vo(i,a,1),a=Rn(),i!==null&&(rd(i,1,a),Un(i,a))}function At(i,a,d){if(i.tag===3)VA(i,i,d);else for(;a!==null;){if(a.tag===3){VA(a,i,d);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(wo===null||!wo.has(g))){i=xc(d,i),i=uA(a,i,1),a=vo(a,i,1),i=Rn(),a!==null&&(rd(a,1,i),Un(a,i));break}}a=a.return}}function TM(i,a,d){var g=i.pingCache;g!==null&&g.delete(a),a=Rn(),i.pingedLanes|=i.suspendedLanes&d,Zt===i&&(dn&d)===d&&(Bt===4||Bt===3&&(dn&130023424)===dn&&500>Pt()-Ly?Na(i,0):Iy|=d),Un(i,a)}function GA(i,a){a===0&&((i.mode&1)===0?a=1:(a=ep,ep<<=1,(ep&130023424)===0&&(ep=4194304)));var d=Rn();i=si(i,a),i!==null&&(rd(i,a,d),Un(i,d))}function PM(i){var a=i.memoizedState,d=0;a!==null&&(d=a.retryLane),GA(i,d)}function RM(i,a){var d=0;switch(i.tag){case 13:var g=i.stateNode,y=i.memoizedState;y!==null&&(d=y.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(a),GA(i,d)}var YA;YA=function(i,a,d){if(i!==null)if(i.memoizedProps!==a.pendingProps||zn.current)Bn=!0;else{if((i.lanes&d)===0&&(a.flags&128)===0)return Bn=!1,vM(i,a,d);Bn=(i.flags&131072)!==0}else Bn=!1,ft&&(a.flags&1048576)!==0&&_S(a,Sp,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;Fp(i,a),i=a.pendingProps;var y=fc(a,yn.current);wc(a,d),y=dy(null,a,g,i,y,d);var E=hy();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Hn(g)?(E=!0,wp(a)):E=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,sy(a),y.updater=Dp,a.stateNode=y,y._reactInternals=a,yy(a,g,i,d),a=Sy(null,a,g,!0,E,d)):(a.tag=0,ft&&E&&Xv(a),Pn(null,a,y,d),a=a.child),a;case 16:g=a.elementType;e:{switch(Fp(i,a),i=a.pendingProps,y=g._init,g=y(g._payload),a.type=g,y=a.tag=MM(g),i=Gr(g,i),y){case 0:a=xy(null,a,g,i,d);break e;case 1:a=wA(null,a,g,i,d);break e;case 11:a=pA(null,a,g,i,d);break e;case 14:a=mA(null,a,g,Gr(g.type,i),d);break e}throw Error(t(306,g,""))}return a;case 0:return g=a.type,y=a.pendingProps,y=a.elementType===g?y:Gr(g,y),xy(i,a,g,y,d);case 1:return g=a.type,y=a.pendingProps,y=a.elementType===g?y:Gr(g,y),wA(i,a,g,y,d);case 3:e:{if(bA(a),i===null)throw Error(t(387));g=a.pendingProps,E=a.memoizedState,y=E.element,DS(i,a),Tp(a,g,null,d);var R=a.memoizedState;if(g=R.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){y=xc(Error(t(423)),a),a=xA(i,a,g,d,y);break e}else if(g!==y){y=xc(Error(t(424)),a),a=xA(i,a,g,d,y);break e}else for(sr=ho(a.stateNode.containerInfo.firstChild),rr=a,ft=!0,Vr=null,d=IS(a,null,g,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(gc(),g===y){a=oi(i,a,d);break e}Pn(i,a,g,d)}a=a.child}return a;case 5:return jS(a),i===null&&Qv(a),g=a.type,y=a.pendingProps,E=i!==null?i.memoizedProps:null,R=y.children,Bv(g,y)?R=null:E!==null&&Bv(g,E)&&(a.flags|=32),yA(i,a),Pn(i,a,R,d),a.child;case 6:return i===null&&Qv(a),null;case 13:return SA(i,a,d);case 4:return iy(a,a.stateNode.containerInfo),g=a.pendingProps,i===null?a.child=vc(a,null,g,d):Pn(i,a,g,d),a.child;case 11:return g=a.type,y=a.pendingProps,y=a.elementType===g?y:Gr(g,y),pA(i,a,g,y,d);case 7:return Pn(i,a,a.pendingProps,d),a.child;case 8:return Pn(i,a,a.pendingProps.children,d),a.child;case 12:return Pn(i,a,a.pendingProps.children,d),a.child;case 10:e:{if(g=a.type._context,y=a.pendingProps,E=a.memoizedProps,R=y.value,lt(Cp,g._currentValue),g._currentValue=R,E!==null)if(Ur(E.value,R)){if(E.children===y.children&&!zn.current){a=oi(i,a,d);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var O=E.dependencies;if(O!==null){R=E.child;for(var H=O.firstContext;H!==null;){if(H.context===g){if(E.tag===1){H=ii(-1,d&-d),H.tag=2;var Y=E.updateQueue;if(Y!==null){Y=Y.shared;var re=Y.pending;re===null?H.next=H:(H.next=re.next,re.next=H),Y.pending=H}}E.lanes|=d,H=E.alternate,H!==null&&(H.lanes|=d),ny(E.return,d,a),O.lanes|=d;break}H=H.next}}else if(E.tag===10)R=E.type===a.type?null:E.child;else if(E.tag===18){if(R=E.return,R===null)throw Error(t(341));R.lanes|=d,O=R.alternate,O!==null&&(O.lanes|=d),ny(R,d,a),R=E.sibling}else R=E.child;if(R!==null)R.return=E;else for(R=E;R!==null;){if(R===a){R=null;break}if(E=R.sibling,E!==null){E.return=R.return,R=E;break}R=R.return}E=R}Pn(i,a,y.children,d),a=a.child}return a;case 9:return y=a.type,g=a.pendingProps.children,wc(a,d),y=_r(y),g=g(y),a.flags|=1,Pn(i,a,g,d),a.child;case 14:return g=a.type,y=Gr(g,a.pendingProps),y=Gr(g.type,y),mA(i,a,g,y,d);case 15:return gA(i,a,a.type,a.pendingProps,d);case 17:return g=a.type,y=a.pendingProps,y=a.elementType===g?y:Gr(g,y),Fp(i,a),a.tag=1,Hn(g)?(i=!0,wp(a)):i=!1,wc(a,d),aA(a,g,y),yy(a,g,y,d),Sy(null,a,g,!0,i,d);case 19:return EA(i,a,d);case 22:return vA(i,a,d)}throw Error(t(156,a.tag))};function XA(i,a){return kx(i,a)}function NM(i,a,d,g){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(i,a,d,g){return new NM(i,a,d,g)}function By(i){return i=i.prototype,!(!i||!i.isReactComponent)}function MM(i){if(typeof i=="function")return By(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ue)return 11;if(i===ae)return 14}return 2}function Ao(i,a){var d=i.alternate;return d===null?(d=Pr(i.tag,a,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=a,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,a=i.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function Xp(i,a,d,g,y,E){var R=2;if(g=i,typeof i=="function")By(i)&&(R=1);else if(typeof i=="string")R=5;else e:switch(i){case F:return Ia(d.children,y,E,a);case j:R=8,y|=8;break;case W:return i=Pr(12,d,a,y|2),i.elementType=W,i.lanes=E,i;case oe:return i=Pr(13,d,a,y),i.elementType=oe,i.lanes=E,i;case he:return i=Pr(19,d,a,y),i.elementType=he,i.lanes=E,i;case J:return qp(d,y,E,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case X:R=10;break e;case Q:R=9;break e;case ue:R=11;break e;case ae:R=14;break e;case q:R=16,g=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=Pr(R,d,a,y),a.elementType=i,a.type=g,a.lanes=E,a}function Ia(i,a,d,g){return i=Pr(7,i,g,a),i.lanes=d,i}function qp(i,a,d,g){return i=Pr(22,i,g,a),i.elementType=J,i.lanes=d,i.stateNode={isHidden:!1},i}function Wy(i,a,d){return i=Pr(6,i,null,a),i.lanes=d,i}function Uy(i,a,d){return a=Pr(4,i.children!==null?i.children:[],i.key,a),a.lanes=d,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function IM(i,a,d,g,y){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vv(0),this.expirationTimes=vv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vv(0),this.identifierPrefix=g,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Vy(i,a,d,g,y,E,R,O,H){return i=new IM(i,a,d,O,H),a===1?(a=1,E===!0&&(a|=8)):a=0,E=Pr(3,null,null,a),i.current=E,E.stateNode=i,E.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},sy(E),i}function LM(i,a,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:g==null?null:""+g,children:i,containerInfo:a,implementation:d}}function qA(i){if(!i)return po;i=i._reactInternals;e:{if(xa(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Hn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var d=i.type;if(Hn(d))return AS(i,d,a)}return a}function KA(i,a,d,g,y,E,R,O,H){return i=Vy(d,g,!0,i,y,E,R,O,H),i.context=qA(null),d=i.current,g=Rn(),y=xo(d),E=ii(g,y),E.callback=a??null,vo(d,E,y),i.current.lanes=y,rd(i,y,g),Un(i,g),i}function Kp(i,a,d,g){var y=a.current,E=Rn(),R=xo(y);return d=qA(d),a.context===null?a.context=d:a.pendingContext=d,a=ii(E,R),a.payload={element:i},g=g===void 0?null:g,g!==null&&(a.callback=g),i=vo(y,a,R),i!==null&&(qr(i,y,R,E),kp(i,y,R)),R}function Qp(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function QA(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<a?d:a}}function Gy(i,a){QA(i,a),(i=i.alternate)&&QA(i,a)}function DM(){return null}var JA=typeof reportError=="function"?reportError:function(i){console.error(i)};function Yy(i){this._internalRoot=i}Jp.prototype.render=Yy.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));Kp(i,a,null,null)},Jp.prototype.unmount=Yy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Ra(function(){Kp(null,i,null,null)}),a[ei]=null}};function Jp(i){this._internalRoot=i}Jp.prototype.unstable_scheduleHydration=function(i){if(i){var a=Dx();i={blockedOn:null,target:i,priority:a};for(var d=0;d<lo.length&&a!==0&&a<lo[d].priority;d++);lo.splice(d,0,i),d===0&&jx(i)}};function Xy(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Zp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ZA(){}function OM(i,a,d,g,y){if(y){if(typeof g=="function"){var E=g;g=function(){var Y=Qp(R);E.call(Y)}}var R=KA(a,g,i,0,null,!1,!1,"",ZA);return i._reactRootContainer=R,i[ei]=R.current,vd(i.nodeType===8?i.parentNode:i),Ra(),R}for(;y=i.lastChild;)i.removeChild(y);if(typeof g=="function"){var O=g;g=function(){var Y=Qp(H);O.call(Y)}}var H=Vy(i,0,!1,null,null,!1,!1,"",ZA);return i._reactRootContainer=H,i[ei]=H.current,vd(i.nodeType===8?i.parentNode:i),Ra(function(){Kp(a,H,d,g)}),H}function em(i,a,d,g,y){var E=d._reactRootContainer;if(E){var R=E;if(typeof y=="function"){var O=y;y=function(){var H=Qp(R);O.call(H)}}Kp(a,R,i,y)}else R=OM(d,a,i,y,g);return Qp(R)}Ix=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var d=nd(a.pendingLanes);d!==0&&(yv(a,d|1),Un(a,Pt()),(Ke&6)===0&&(Ec=Pt()+500,mo()))}break;case 13:Ra(function(){var g=si(i,1);if(g!==null){var y=Rn();qr(g,i,1,y)}}),Gy(i,1)}},wv=function(i){if(i.tag===13){var a=si(i,134217728);if(a!==null){var d=Rn();qr(a,i,134217728,d)}Gy(i,134217728)}},Lx=function(i){if(i.tag===13){var a=xo(i),d=si(i,a);if(d!==null){var g=Rn();qr(d,i,a,g)}Gy(i,a)}},Dx=function(){return et},Ox=function(i,a){var d=et;try{return et=i,a()}finally{et=d}},Zu=function(i,a,d){switch(a){case"input":if(an(i,d),a=d.name,d.type==="radio"&&a!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var g=d[a];if(g!==i&&g.form===i.form){var y=vp(g);if(!y)throw Error(t(90));$e(g),an(g,y)}}}break;case"textarea":Gf(i,d);break;case"select":a=d.value,a!=null&&Ji(i,!!d.multiple,a,!1)}},zt=$y,vn=Ra;var FM={usingClientEntryPoint:!1,Events:[bd,dc,vp,Fe,Tt,$y]},Ld={findFiberByHostInstance:Sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jM={bundleType:Ld.bundleType,version:Ld.version,rendererPackageName:Ld.rendererPackageName,rendererConfig:Ld.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Cx(i),i===null?null:i.stateNode},findFiberByHostInstance:Ld.findFiberByHostInstance||DM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tm.isDisabled&&tm.supportsFiber)try{Jf=tm.inject(jM),bs=tm}catch{}}return Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FM,Vn.createPortal=function(i,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xy(a))throw Error(t(200));return LM(i,a,null,d)},Vn.createRoot=function(i,a){if(!Xy(i))throw Error(t(299));var d=!1,g="",y=JA;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Vy(i,1,!1,null,null,d,!1,g,y),i[ei]=a.current,vd(i.nodeType===8?i.parentNode:i),new Yy(a)},Vn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Cx(a),i=i===null?null:i.stateNode,i},Vn.flushSync=function(i){return Ra(i)},Vn.hydrate=function(i,a,d){if(!Zp(a))throw Error(t(200));return em(null,i,a,!0,d)},Vn.hydrateRoot=function(i,a,d){if(!Xy(i))throw Error(t(405));var g=d!=null&&d.hydratedSources||null,y=!1,E="",R=JA;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onRecoverableError!==void 0&&(R=d.onRecoverableError)),a=KA(a,null,i,1,d??null,y,!1,E,R),i[ei]=a.current,vd(i),g)for(i=0;i<g.length;i++)d=g[i],y=d._getVersion,y=y(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,y]:a.mutableSourceEagerHydrationData.push(d,y);return new Jp(a)},Vn.render=function(i,a,d){if(!Zp(a))throw Error(t(200));return em(null,i,a,!1,d)},Vn.unmountComponentAtNode=function(i){if(!Zp(i))throw Error(t(40));return i._reactRootContainer?(Ra(function(){em(null,null,i,!1,function(){i._reactRootContainer=null,i[ei]=null})}),!0):!1},Vn.unstable_batchedUpdates=$y,Vn.unstable_renderSubtreeIntoContainer=function(i,a,d,g){if(!Zp(d))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return em(i,a,d,!1,g)},Vn.version="18.3.1-next-f1338f8080-20240426",Vn}var lE;function B1(){if(lE)return Jy.exports;lE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jy.exports=XM(),Jy.exports}var cE;function qM(){if(cE)return nm;cE=1;var r=B1();return nm.createRoot=r.createRoot,nm.hydrateRoot=r.hydrateRoot,nm}var KM=qM(),Od={},uE;function QM(){if(uE)return Od;uE=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.parse=l,Od.serialize=h;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,w){const b=new o,x=v.length;if(x<2)return b;const C=(w==null?void 0:w.decode)||p;let _=0;do{const k=v.indexOf("=",_);if(k===-1)break;const T=v.indexOf(";",_),M=T===-1?x:T;if(k>M){_=v.lastIndexOf(";",k-1)+1;continue}const L=c(v,_,k),D=u(v,k,L),F=v.slice(L,D);if(b[F]===void 0){let j=c(v,k+1,M),W=u(v,M,j);const X=C(v.slice(j,W));b[F]=X}_=M+1}while(_<x);return b}function c(v,w,b){do{const x=v.charCodeAt(w);if(x!==32&&x!==9)return w}while(++w<b);return b}function u(v,w,b){for(;w>b;){const x=v.charCodeAt(--w);if(x!==32&&x!==9)return w+1}return b}function h(v,w,b){const x=(b==null?void 0:b.encode)||encodeURIComponent;if(!r.test(v))throw new TypeError(`argument name is invalid: ${v}`);const C=x(w);if(!e.test(C))throw new TypeError(`argument val is invalid: ${w}`);let _=v+"="+C;if(!b)return _;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);_+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);_+="; Domain="+b.domain}if(b.path){if(!n.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);_+="; Path="+b.path}if(b.expires){if(!m(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);_+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(_+="; HttpOnly"),b.secure&&(_+="; Secure"),b.partitioned&&(_+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return _}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function m(v){return s.call(v)==="[object Date]"}return Od}QM();var dE="popstate";function JM(r={}){function e(s,o){let{pathname:l="/",search:c="",hash:u=""}=Kl(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),E0("",{pathname:l,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let u=s.location.href,h=u.indexOf("#");c=h===-1?u:u.slice(0,h)}return c+"#"+(typeof o=="string"?o:hh(o))}function n(s,o){ps(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return eI(e,t,n,r)}function St(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ps(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZM(){return Math.random().toString(36).substring(2,10)}function hE(r,e){return{usr:r.state,key:r.key,idx:e}}function E0(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Kl(e):e,state:t,key:e&&e.key||n||ZM()}}function hh({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Kl(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function eI(r,e,t,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,l=s.history,c="POP",u=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function m(){c="POP";let C=p(),_=C==null?null:C-h;h=C,u&&u({action:c,location:x.location,delta:_})}function v(C,_){c="PUSH";let k=E0(x.location,C,_);t&&t(k,C),h=p()+1;let T=hE(k,h),M=x.createHref(k);try{l.pushState(T,"",M)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(M)}o&&u&&u({action:c,location:x.location,delta:1})}function w(C,_){c="REPLACE";let k=E0(x.location,C,_);t&&t(k,C),h=p();let T=hE(k,h),M=x.createHref(k);l.replaceState(T,"",M),o&&u&&u({action:c,location:x.location,delta:0})}function b(C){return tI(C)}let x={get action(){return c},get location(){return r(s,l)},listen(C){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(dE,m),u=C,()=>{s.removeEventListener(dE,m),u=null}},createHref(C){return e(s,C)},createURL:b,encodeLocation(C){let _=b(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:w,go(C){return l.go(C)}};return x}function tI(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),St(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:hh(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function W1(r,e,t="/"){return nI(r,e,t,!1)}function nI(r,e,t,n){let s=typeof e=="string"?Kl(e):e,o=Vi(s.pathname||"/",t);if(o==null)return null;let l=U1(r);rI(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let h=pI(o);c=hI(l[u],h,n)}return c}function U1(r,e=[],t=[],n=""){let s=(o,l,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};u.relativePath.startsWith("/")&&(St(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let h=zi([n,u.relativePath]),p=t.concat(u);o.children&&o.children.length>0&&(St(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),U1(o.children,e,p,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:uI(h,o.index),routesMeta:p})};return r.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let u of V1(o.path))s(o,l,u)}),e}function V1(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let l=V1(n.join("/")),c=[];return c.push(...l.map(u=>u===""?o:[o,u].join("/"))),s&&c.push(...l),c.map(u=>r.startsWith("/")&&u===""?"/":u)}function rI(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:dI(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var sI=/^:[\w-]+$/,iI=3,oI=2,aI=1,lI=10,cI=-2,fE=r=>r==="*";function uI(r,e){let t=r.split("/"),n=t.length;return t.some(fE)&&(n+=cI),e&&(n+=oI),t.filter(s=>!fE(s)).reduce((s,o)=>s+(sI.test(o)?iI:o===""?aI:lI),n)}function dI(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function hI(r,e,t=!1){let{routesMeta:n}=r,s={},o="/",l=[];for(let c=0;c<n.length;++c){let u=n[c],h=c===n.length-1,p=o==="/"?e:e.slice(o.length)||"/",m=tg({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),v=u.route;if(!m&&h&&t&&!n[n.length-1].route.index&&(m=tg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:zi([o,m.pathname]),pathnameBase:yI(zi([o,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(o=zi([o,m.pathnameBase]))}return l}function tg(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=fI(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:m},v)=>{if(p==="*"){let b=c[v]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const w=c[v];return m&&!w?h[p]=void 0:h[p]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:r}}function fI(r,e=!1,t=!0){ps(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function pI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ps(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Vi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function mI(r,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?Kl(r):r;return{pathname:t?t.startsWith("/")?t:gI(t,e):e,search:wI(n),hash:bI(s)}}function gI(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function t0(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vI(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function G1(r){let e=vI(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Y1(r,e,t,n=!1){let s;typeof r=="string"?s=Kl(r):(s={...r},St(!s.pathname||!s.pathname.includes("?"),t0("?","pathname","search",s)),St(!s.pathname||!s.pathname.includes("#"),t0("#","pathname","hash",s)),St(!s.search||!s.search.includes("#"),t0("#","search","hash",s)));let o=r===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),m-=1;s.pathname=v.join("/")}c=m>=0?e[m]:"/"}let u=mI(s,c),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var zi=r=>r.join("/").replace(/\/\/+/g,"/"),yI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),wI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,bI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function xI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var X1=["POST","PUT","PATCH","DELETE"];new Set(X1);var SI=["GET",...X1];new Set(SI);var Vu=S.createContext(null);Vu.displayName="DataRouter";var Dg=S.createContext(null);Dg.displayName="DataRouterState";var q1=S.createContext({isTransitioning:!1});q1.displayName="ViewTransition";var AI=S.createContext(new Map);AI.displayName="Fetchers";var EI=S.createContext(null);EI.displayName="Await";var Xs=S.createContext(null);Xs.displayName="Navigation";var Df=S.createContext(null);Df.displayName="Location";var Qi=S.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var mb=S.createContext(null);mb.displayName="RouteError";function CI(r,{relative:e}={}){St(Of(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=S.useContext(Xs),{hash:s,pathname:o,search:l}=Ff(r,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:zi([t,o])),n.createHref({pathname:c,search:l,hash:s})}function Of(){return S.useContext(Df)!=null}function Ql(){return St(Of(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Df).location}var K1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q1(r){S.useContext(Xs).static||S.useLayoutEffect(r)}function _I(){let{isDataRoute:r}=S.useContext(Qi);return r?$I():kI()}function kI(){St(Of(),"useNavigate() may be used only in the context of a <Router> component.");let r=S.useContext(Vu),{basename:e,navigator:t}=S.useContext(Xs),{matches:n}=S.useContext(Qi),{pathname:s}=Ql(),o=JSON.stringify(G1(n)),l=S.useRef(!1);return Q1(()=>{l.current=!0}),S.useCallback((u,h={})=>{if(ps(l.current,K1),!l.current)return;if(typeof u=="number"){t.go(u);return}let p=Y1(u,JSON.parse(o),s,h.relative==="path");r==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:zi([e,p.pathname])),(h.replace?t.replace:t.push)(p,h.state,h)},[e,t,o,s,r])}S.createContext(null);function Ff(r,{relative:e}={}){let{matches:t}=S.useContext(Qi),{pathname:n}=Ql(),s=JSON.stringify(G1(t));return S.useMemo(()=>Y1(r,JSON.parse(s),n,e==="path"),[r,s,n,e])}function TI(r,e){return J1(r,e)}function J1(r,e,t,n){var k;St(Of(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=S.useContext(Xs),{matches:l}=S.useContext(Qi),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let T=m&&m.path||"";Z1(h,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let v=Ql(),w;if(e){let T=typeof e=="string"?Kl(e):e;St(p==="/"||((k=T.pathname)==null?void 0:k.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),w=T}else w=v;let b=w.pathname||"/",x=b;if(p!=="/"){let T=p.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=!o&&t&&t.matches&&t.matches.length>0?t.matches:W1(r,{pathname:x});ps(m||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ps(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=II(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:zi([p,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:zi([p,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),l,t,n);return e&&_?S.createElement(Df.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},_):_}function PI(){let r=jI(),e=xI(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:s},t):null,l)}var RI=S.createElement(PI,null),NI=class extends S.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?S.createElement(Qi.Provider,{value:this.props.routeContext},S.createElement(mb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MI({routeContext:r,match:e,children:t}){let n=S.useContext(Vu);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Qi.Provider,{value:r},t)}function II(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,o=t==null?void 0:t.errors;if(o!=null){let u=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);St(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(t)for(let u=0;u<s.length;u++){let h=s[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:m}=t,v=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,h,p)=>{let m,v=!1,w=null,b=null;t&&(m=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||RI,l&&(c<0&&p===0?(Z1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):c===p&&(v=!0,b=h.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,p+1)),C=()=>{let _;return m?_=w:v?_=b:h.route.Component?_=S.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,S.createElement(MI,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:t!=null},children:_})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?S.createElement(NI,{location:t.location,revalidation:t.revalidation,component:w,error:m,children:C(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):C()},null)}function gb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LI(r){let e=S.useContext(Vu);return St(e,gb(r)),e}function DI(r){let e=S.useContext(Dg);return St(e,gb(r)),e}function OI(r){let e=S.useContext(Qi);return St(e,gb(r)),e}function vb(r){let e=OI(r),t=e.matches[e.matches.length-1];return St(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function FI(){return vb("useRouteId")}function jI(){var n;let r=S.useContext(mb),e=DI("useRouteError"),t=vb("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function $I(){let{router:r}=LI("useNavigate"),e=vb("useNavigate"),t=S.useRef(!1);return Q1(()=>{t.current=!0}),S.useCallback(async(s,o={})=>{ps(t.current,K1),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...o}))},[r,e])}var pE={};function Z1(r,e,t){!e&&!pE[r]&&(pE[r]=!0,ps(!1,t))}S.memo(zI);function zI({routes:r,future:e,state:t}){return J1(r,void 0,t,e)}function wm(r){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HI({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:o=!1}){St(!Of(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof t=="string"&&(t=Kl(t));let{pathname:u="/",search:h="",hash:p="",state:m=null,key:v="default"}=t,w=S.useMemo(()=>{let b=Vi(u,l);return b==null?null:{location:{pathname:b,search:h,hash:p,state:m,key:v},navigationType:n}},[l,u,h,p,m,v,n]);return ps(w!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:S.createElement(Xs.Provider,{value:c},S.createElement(Df.Provider,{children:e,value:w}))}function BI({children:r,location:e}){return TI(C0(r),e)}function C0(r,e=[]){let t=[];return S.Children.forEach(r,(n,s)=>{if(!S.isValidElement(n))return;let o=[...e,s];if(n.type===S.Fragment){t.push.apply(t,C0(n.props.children,o));return}St(n.type===wm,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=C0(n.props.children,o)),t.push(l)}),t}var bm="get",xm="application/x-www-form-urlencoded";function Og(r){return r!=null&&typeof r.tagName=="string"}function WI(r){return Og(r)&&r.tagName.toLowerCase()==="button"}function UI(r){return Og(r)&&r.tagName.toLowerCase()==="form"}function VI(r){return Og(r)&&r.tagName.toLowerCase()==="input"}function GI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function YI(r,e){return r.button===0&&(!e||e==="_self")&&!GI(r)}var rm=null;function XI(){if(rm===null)try{new FormData(document.createElement("form"),0),rm=!1}catch{rm=!0}return rm}var qI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function n0(r){return r!=null&&!qI.has(r)?(ps(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xm}"`),null):r}function KI(r,e){let t,n,s,o,l;if(UI(r)){let c=r.getAttribute("action");n=c?Vi(c,e):null,t=r.getAttribute("method")||bm,s=n0(r.getAttribute("enctype"))||xm,o=new FormData(r)}else if(WI(r)||VI(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=r.getAttribute("formaction")||c.getAttribute("action");if(n=u?Vi(u,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||bm,s=n0(r.getAttribute("formenctype"))||n0(c.getAttribute("enctype"))||xm,o=new FormData(c,r),!XI()){let{name:h,type:p,value:m}=r;if(p==="image"){let v=h?`${h}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else h&&o.append(h,m)}}else{if(Og(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=bm,n=null,s=xm,l=r}return o&&s==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:o,body:l}}function yb(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function QI(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JI(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ZI(r,e,t){let n=await Promise.all(r.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await QI(o,t);return l.links?l.links():[]}return[]}));return rL(n.flat(1).filter(JI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function mE(r,e,t,n,s,o){let l=(u,h)=>t[h]?u.route.id!==t[h].route.id:!0,c=(u,h)=>{var p;return t[h].pathname!==u.pathname||((p=t[h].route.path)==null?void 0:p.endsWith("*"))&&t[h].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,h)=>l(u,h)||c(u,h)):o==="data"?e.filter((u,h)=>{var m;let p=n.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(l(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(r,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function eL(r,e,{includeHydrateFallback:t}={}){return tL(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function tL(r){return[...new Set(r)]}function nL(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function rL(r,e){let t=new Set;return new Set(e),r.reduce((n,s)=>{let o=JSON.stringify(nL(s));return t.has(o)||(t.add(o),n.push({key:o,link:s})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sL=new Set([100,101,204,205]);function iL(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Vi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function eC(){let r=S.useContext(Vu);return yb(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function oL(){let r=S.useContext(Dg);return yb(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wb=S.createContext(void 0);wb.displayName="FrameworkContext";function tC(){let r=S.useContext(wb);return yb(r,"You must render this element inside a <HydratedRouter> element"),r}function aL(r,e){let t=S.useContext(wb),[n,s]=S.useState(!1),[o,l]=S.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=e,v=S.useRef(null);S.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let x=_=>{_.forEach(k=>{l(k.isIntersecting)})},C=new IntersectionObserver(x,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[r]),S.useEffect(()=>{if(n){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[n]);let w=()=>{s(!0)},b=()=>{s(!1),l(!1)};return t?r!=="intent"?[o,v,{}]:[o,v,{onFocus:Fd(c,w),onBlur:Fd(u,b),onMouseEnter:Fd(h,w),onMouseLeave:Fd(p,b),onTouchStart:Fd(m,w)}]:[!1,v,{}]}function Fd(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function lL({page:r,...e}){let{router:t}=eC(),n=S.useMemo(()=>W1(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?S.createElement(uL,{page:r,matches:n,...e}):null}function cL(r){let{manifest:e,routeModules:t}=tC(),[n,s]=S.useState([]);return S.useEffect(()=>{let o=!1;return ZI(r,e,t).then(l=>{o||s(l)}),()=>{o=!0}},[r,e,t]),n}function uL({page:r,matches:e,...t}){let n=Ql(),{manifest:s,routeModules:o}=tC(),{basename:l}=eC(),{loaderData:c,matches:u}=oL(),h=S.useMemo(()=>mE(r,e,u,s,n,"data"),[r,e,u,s,n]),p=S.useMemo(()=>mE(r,e,u,s,n,"assets"),[r,e,u,s,n]),m=S.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let b=new Set,x=!1;if(e.forEach(_=>{var T;let k=s.routes[_.route.id];!k||!k.hasLoader||(!h.some(M=>M.route.id===_.route.id)&&_.route.id in c&&((T=o[_.route.id])!=null&&T.shouldRevalidate)||k.hasClientLoader?x=!0:b.add(_.route.id))}),b.size===0)return[];let C=iL(r,l);return x&&b.size>0&&C.searchParams.set("_routes",e.filter(_=>b.has(_.route.id)).map(_=>_.route.id).join(",")),[C.pathname+C.search]},[l,c,n,s,h,e,r,o]),v=S.useMemo(()=>eL(p,s),[p,s]),w=cL(p);return S.createElement(S.Fragment,null,m.map(b=>S.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>S.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),w.map(({key:b,link:x})=>S.createElement("link",{key:b,...x})))}function dL(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var nC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nC&&(window.__reactRouterVersion="7.6.0")}catch{}function hL({basename:r,children:e,window:t}){let n=S.useRef();n.current==null&&(n.current=JM({window:t,v5Compat:!0}));let s=n.current,[o,l]=S.useState({action:s.action,location:s.location}),c=S.useCallback(u=>{S.startTransition(()=>l(u))},[l]);return S.useLayoutEffect(()=>s.listen(c),[s,c]),S.createElement(HI,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:s})}var rC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sC=S.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:o,replace:l,state:c,target:u,to:h,preventScrollReset:p,viewTransition:m,...v},w){let{basename:b}=S.useContext(Xs),x=typeof h=="string"&&rC.test(h),C,_=!1;if(typeof h=="string"&&x&&(C=h,nC))try{let W=new URL(window.location.href),X=h.startsWith("//")?new URL(W.protocol+h):new URL(h),Q=Vi(X.pathname,b);X.origin===W.origin&&Q!=null?h=Q+X.search+X.hash:_=!0}catch{ps(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=CI(h,{relative:s}),[T,M,L]=aL(n,v),D=mL(h,{replace:l,state:c,target:u,preventScrollReset:p,relative:s,viewTransition:m});function F(W){e&&e(W),W.defaultPrevented||D(W)}let j=S.createElement("a",{...v,...L,href:C||k,onClick:_||o?e:F,ref:dL(w,M),target:u,"data-discover":!x&&t==="render"?"true":void 0});return T&&!x?S.createElement(S.Fragment,null,j,S.createElement(lL,{page:k})):j});sC.displayName="Link";var iC=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:o,to:l,viewTransition:c,children:u,...h},p){let m=Ff(l,{relative:h.relative}),v=Ql(),w=S.useContext(Dg),{navigator:b,basename:x}=S.useContext(Xs),C=w!=null&&bL(m)&&c===!0,_=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,k=v.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(k=k.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&x&&(T=Vi(T,x)||T);const M=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let L=k===_||!s&&k.startsWith(_)&&k.charAt(M)==="/",D=T!=null&&(T===_||!s&&T.startsWith(_)&&T.charAt(_.length)==="/"),F={isActive:L,isPending:D,isTransitioning:C},j=L?e:void 0,W;typeof n=="function"?W=n(F):W=[n,L?"active":null,D?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let X=typeof o=="function"?o(F):o;return S.createElement(sC,{...h,"aria-current":j,className:W,ref:p,style:X,to:l,viewTransition:c},typeof u=="function"?u(F):u)});iC.displayName="NavLink";var fL=S.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:o,method:l=bm,action:c,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:m,...v},w)=>{let b=yL(),x=wL(c,{relative:h}),C=l.toLowerCase()==="get"?"get":"post",_=typeof c=="string"&&rC.test(c),k=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,L=(M==null?void 0:M.getAttribute("formmethod"))||l;b(M||T.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:s,state:o,relative:h,preventScrollReset:p,viewTransition:m})};return S.createElement("form",{ref:w,method:C,action:x,onSubmit:n?u:k,...v,"data-discover":!_&&r==="render"?"true":void 0})});fL.displayName="Form";function pL(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oC(r){let e=S.useContext(Vu);return St(e,pL(r)),e}function mL(r,{target:e,replace:t,state:n,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=_I(),u=Ql(),h=Ff(r,{relative:o});return S.useCallback(p=>{if(YI(p,e)){p.preventDefault();let m=t!==void 0?t:hh(u)===hh(h);c(r,{replace:m,state:n,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,h,t,n,e,r,s,o,l])}var gL=0,vL=()=>`__${String(++gL)}__`;function yL(){let{router:r}=oC("useSubmit"),{basename:e}=S.useContext(Xs),t=FI();return S.useCallback(async(n,s={})=>{let{action:o,method:l,encType:c,formData:u,body:h}=KI(n,e);if(s.navigate===!1){let p=s.fetcherKey||vL();await r.fetch(p,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await r.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function wL(r,{relative:e}={}){let{basename:t}=S.useContext(Xs),n=S.useContext(Qi);St(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...Ff(r||".",{relative:e})},l=Ql();if(r==null){o.search=l.search;let c=new URLSearchParams(o.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();o.search=p?`?${p}`:""}}return(!r||r===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:zi([t,o.pathname])),hh(o)}function bL(r,e={}){let t=S.useContext(q1);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=oC("useViewTransitionState"),s=Ff(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Vi(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=Vi(t.nextLocation.pathname,n)||t.nextLocation.pathname;return tg(s.pathname,l)!=null||tg(s.pathname,o)!=null}[...sL];var Jl=B1();const Fg=z1(Jl);function gE(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function aC(...r){return e=>{let t=!1;const n=r.map(s=>{const o=gE(s,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():gE(r[s],null)}}}}function Ve(...r){return S.useCallback(aC(...r),r)}function $n(r){const e=xL(r),t=S.forwardRef((n,s)=>{const{children:o,...l}=n,c=S.Children.toArray(o),u=c.find(AL);if(u){const h=u.props.children,p=c.map(m=>m===u?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:m);return A.jsx(e,{...l,ref:s,children:S.isValidElement(h)?S.cloneElement(h,void 0,p):null})}return A.jsx(e,{...l,ref:s,children:o})});return t.displayName=`${r}.Slot`,t}var jg=$n("Slot");function xL(r){const e=S.forwardRef((t,n)=>{const{children:s,...o}=t,l=S.isValidElement(s)?CL(s):void 0,c=Ve(l,n);if(S.isValidElement(s)){const u=EL(o,s.props);return s.type!==S.Fragment&&(u.ref=c),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var SL=Symbol("radix.slottable");function AL(r){return S.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===SL}function EL(r,e){const t={...e};for(const n in e){const s=r[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?t[n]=(...c)=>{const u=o(...c);return s(...c),u}:s&&(t[n]=s):n==="style"?t[n]={...s,...o}:n==="className"&&(t[n]=[s,o].filter(Boolean).join(" "))}return{...r,...t}}function CL(r){var n,s;let e=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(s=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function lC(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=lC(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function cC(){for(var r,e,t=0,n="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=lC(r))&&(n&&(n+=" "),n+=e);return n}const vE=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,yE=cC,$g=(r,e)=>t=>{var n;if((e==null?void 0:e.variants)==null)return yE(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(h=>{const p=t==null?void 0:t[h],m=o==null?void 0:o[h];if(p===null)return null;const v=vE(p)||vE(m);return s[h][v]}),c=t&&Object.entries(t).reduce((h,p)=>{let[m,v]=p;return v===void 0||(h[m]=v),h},{}),u=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,p)=>{let{class:m,className:v,...w}=p;return Object.entries(w).every(b=>{let[x,C]=b;return Array.isArray(C)?C.includes({...o,...c}[x]):{...o,...c}[x]===C})?[...h,m,v]:h},[]);return yE(r,l,u,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kL=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),wE=r=>{const e=kL(r);return e.charAt(0).toUpperCase()+e.slice(1)},uC=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),TL=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=S.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:l,...c},u)=>S.createElement("svg",{ref:u,...PL,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:uC("lucide",s),...!o&&!TL(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,p])=>S.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(r,e)=>{const t=S.forwardRef(({className:n,...s},o)=>S.createElement(RL,{ref:o,iconNode:e,className:uC(`lucide-${_L(wE(r))}`,`lucide-${r}`,n),...s}));return t.displayName=wE(r),t};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ML=_t("arrow-up-right",NL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],LL=_t("book-open",IL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bb=_t("check",DL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zg=_t("chevron-down",OL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jL=_t("chevron-right",FL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zL=_t("chevron-up",$L);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],BL=_t("circle-alert",HL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],UL=_t("circle-x",WL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],GL=_t("clock",VL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],XL=_t("file-text",YL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],KL=_t("hammer",qL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],JL=_t("house",QL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xb=_t("loader-circle",ZL);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],t2=_t("loader",e2);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],r2=_t("panel-left",n2);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dC=_t("plus",s2);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bE=_t("search",i2);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],a2=_t("send",o2);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]],c2=_t("sparkle",l2);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],d2=_t("trash-2",u2);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Sb=_t("upload",h2);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hg=_t("x",f2),r0=768;function p2(){const[r,e]=S.useState(void 0);return S.useEffect(()=>{const t=window.matchMedia(`(max-width: ${r0-1}px)`),n=()=>{e(window.innerWidth<r0)};return t.addEventListener("change",n),e(window.innerWidth<r0),()=>t.removeEventListener("change",n)},[]),!!r}const Ab="-",m2=r=>{const e=v2(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:l=>{const c=l.split(Ab);return c[0]===""&&c.length!==1&&c.shift(),hC(c,e)||g2(l)},getConflictingClassGroupIds:(l,c)=>{const u=t[l]||[];return c&&n[l]?[...u,...n[l]]:u}}},hC=(r,e)=>{var l;if(r.length===0)return e.classGroupId;const t=r[0],n=e.nextPart.get(t),s=n?hC(r.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=r.join(Ab);return(l=e.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},xE=/^\[(.+)\]$/,g2=r=>{if(xE.test(r)){const e=xE.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},v2=r=>{const{theme:e,classGroups:t}=r,n={nextPart:new Map,validators:[]};for(const s in t)_0(t[s],n,s,e);return n},_0=(r,e,t,n)=>{r.forEach(s=>{if(typeof s=="string"){const o=s===""?e:SE(e,s);o.classGroupId=t;return}if(typeof s=="function"){if(y2(s)){_0(s(n),e,t,n);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([o,l])=>{_0(l,SE(e,o),t,n)})})},SE=(r,e)=>{let t=r;return e.split(Ab).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},y2=r=>r.isThemeGetter,w2=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const s=(o,l)=>{t.set(o,l),e++,e>r&&(e=0,n=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return s(o,l),l},set(o,l){t.has(o)?t.set(o,l):s(o,l)}}},k0="!",T0=":",b2=T0.length,x2=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=s=>{const o=[];let l=0,c=0,u=0,h;for(let b=0;b<s.length;b++){let x=s[b];if(l===0&&c===0){if(x===T0){o.push(s.slice(u,b)),u=b+b2;continue}if(x==="/"){h=b;continue}}x==="["?l++:x==="]"?l--:x==="("?c++:x===")"&&c--}const p=o.length===0?s:s.substring(u),m=S2(p),v=m!==p,w=h&&h>u?h-u:void 0;return{modifiers:o,hasImportantModifier:v,baseClassName:m,maybePostfixModifierPosition:w}};if(e){const s=e+T0,o=n;n=l=>l.startsWith(s)?o(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const s=n;n=o=>t({className:o,parseClassName:s})}return n},S2=r=>r.endsWith(k0)?r.substring(0,r.length-1):r.startsWith(k0)?r.substring(1):r,A2=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let o=[];return n.forEach(l=>{l[0]==="["||e[l]?(s.push(...o.sort(),l),o=[]):o.push(l)}),s.push(...o.sort()),s}},E2=r=>({cache:w2(r.cacheSize),parseClassName:x2(r),sortModifiers:A2(r),...m2(r)}),C2=/\s+/,_2=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:o}=e,l=[],c=r.trim().split(C2);let u="";for(let h=c.length-1;h>=0;h-=1){const p=c[h],{isExternal:m,modifiers:v,hasImportantModifier:w,baseClassName:b,maybePostfixModifierPosition:x}=t(p);if(m){u=p+(u.length>0?" "+u:u);continue}let C=!!x,_=n(C?b.substring(0,x):b);if(!_){if(!C){u=p+(u.length>0?" "+u:u);continue}if(_=n(b),!_){u=p+(u.length>0?" "+u:u);continue}C=!1}const k=o(v).join(":"),T=w?k+k0:k,M=T+_;if(l.includes(M))continue;l.push(M);const L=s(_,C);for(let D=0;D<L.length;++D){const F=L[D];l.push(T+F)}u=p+(u.length>0?" "+u:u)}return u};function k2(){let r=0,e,t,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=fC(e))&&(n&&(n+=" "),n+=t);return n}const fC=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=fC(r[n]))&&(t&&(t+=" "),t+=e);return t};function T2(r,...e){let t,n,s,o=l;function l(u){const h=e.reduce((p,m)=>m(p),r());return t=E2(h),n=t.cache.get,s=t.cache.set,o=c,c(u)}function c(u){const h=n(u);if(h)return h;const p=_2(u,t);return s(u,p),p}return function(){return o(k2.apply(null,arguments))}}const Wt=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},pC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,P2=/^\d+\/\d+$/,R2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,N2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,I2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,L2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_c=r=>P2.test(r),We=r=>!!r&&!Number.isNaN(Number(r)),Co=r=>!!r&&Number.isInteger(Number(r)),s0=r=>r.endsWith("%")&&We(r.slice(0,-1)),li=r=>R2.test(r),D2=()=>!0,O2=r=>N2.test(r)&&!M2.test(r),gC=()=>!1,F2=r=>I2.test(r),j2=r=>L2.test(r),$2=r=>!be(r)&&!xe(r),z2=r=>Gu(r,wC,gC),be=r=>pC.test(r),La=r=>Gu(r,bC,O2),i0=r=>Gu(r,V2,We),AE=r=>Gu(r,vC,gC),H2=r=>Gu(r,yC,j2),sm=r=>Gu(r,xC,F2),xe=r=>mC.test(r),jd=r=>Yu(r,bC),B2=r=>Yu(r,G2),EE=r=>Yu(r,vC),W2=r=>Yu(r,wC),U2=r=>Yu(r,yC),im=r=>Yu(r,xC,!0),Gu=(r,e,t)=>{const n=pC.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},Yu=(r,e,t=!1)=>{const n=mC.exec(r);return n?n[1]?e(n[1]):t:!1},vC=r=>r==="position"||r==="percentage",yC=r=>r==="image"||r==="url",wC=r=>r==="length"||r==="size"||r==="bg-size",bC=r=>r==="length",V2=r=>r==="number",G2=r=>r==="family-name",xC=r=>r==="shadow",Y2=()=>{const r=Wt("color"),e=Wt("font"),t=Wt("text"),n=Wt("font-weight"),s=Wt("tracking"),o=Wt("leading"),l=Wt("breakpoint"),c=Wt("container"),u=Wt("spacing"),h=Wt("radius"),p=Wt("shadow"),m=Wt("inset-shadow"),v=Wt("text-shadow"),w=Wt("drop-shadow"),b=Wt("blur"),x=Wt("perspective"),C=Wt("aspect"),_=Wt("ease"),k=Wt("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...M(),xe,be],D=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],j=()=>[xe,be,u],W=()=>[_c,"full","auto",...j()],X=()=>[Co,"none","subgrid",xe,be],Q=()=>["auto",{span:["full",Co,xe,be]},Co,xe,be],ue=()=>[Co,"auto",xe,be],oe=()=>["auto","min","max","fr",xe,be],he=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...j()],J=()=>[_c,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],z=()=>[r,xe,be],te=()=>[...M(),EE,AE,{position:[xe,be]}],Z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",W2,z2,{size:[xe,be]}],G=()=>[s0,jd,La],ee=()=>["","none","full",h,xe,be],de=()=>["",We,jd,La],Ae=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[We,s0,EE,AE],me=()=>["","none",b,xe,be],Ce=()=>["none",We,xe,be],Te=()=>["none",We,xe,be],je=()=>[We,xe,be],$e=()=>[_c,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[li],breakpoint:[li],color:[D2],container:[li],"drop-shadow":[li],ease:["in","out","in-out"],font:[$2],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[li],shadow:[li],spacing:["px",We],text:[li],"text-shadow":[li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_c,be,xe,C]}],container:["container"],columns:[{columns:[We,be,xe,c]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[Co,"auto",xe,be]}],basis:[{basis:[_c,"full","auto",c,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,_c,"auto","initial","none",be]}],grow:[{grow:["",We,xe,be]}],shrink:[{shrink:["",We,xe,be]}],order:[{order:[Co,"first","last","none",xe,be]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:Q()}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:Q()}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":oe()}],"auto-rows":[{"auto-rows":oe()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...he(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...he()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":he()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[c,"screen",...J()]}],"min-w":[{"min-w":[c,"screen","none",...J()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...J()]}],h:[{h:["screen",...J()]}],"min-h":[{"min-h":["screen","none",...J()]}],"max-h":[{"max-h":["screen",...J()]}],"font-size":[{text:["base",t,jd,La]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,xe,i0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",s0,be]}],"font-family":[{font:[B2,be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,xe,be]}],"line-clamp":[{"line-clamp":[We,"none",xe,i0]}],leading:[{leading:[o,...j()]}],"list-image":[{"list-image":["none",xe,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",xe,La]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[We,"auto",xe,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:te()}],"bg-repeat":[{bg:Z()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Co,xe,be],radial:["",xe,be],conic:[Co,xe,be]},U2,H2]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,xe,be]}],"outline-w":[{outline:["",We,jd,La]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",p,im,sm]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",m,im,sm]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[We,La]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",v,im,sm]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[We,xe,be]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[xe,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:te()}],"mask-repeat":[{mask:Z()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,be]}],filter:[{filter:["","none",xe,be]}],blur:[{blur:me()}],brightness:[{brightness:[We,xe,be]}],contrast:[{contrast:[We,xe,be]}],"drop-shadow":[{"drop-shadow":["","none",w,im,sm]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",We,xe,be]}],"hue-rotate":[{"hue-rotate":[We,xe,be]}],invert:[{invert:["",We,xe,be]}],saturate:[{saturate:[We,xe,be]}],sepia:[{sepia:["",We,xe,be]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,be]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[We,xe,be]}],"backdrop-contrast":[{"backdrop-contrast":[We,xe,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,xe,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,xe,be]}],"backdrop-invert":[{"backdrop-invert":["",We,xe,be]}],"backdrop-opacity":[{"backdrop-opacity":[We,xe,be]}],"backdrop-saturate":[{"backdrop-saturate":[We,xe,be]}],"backdrop-sepia":[{"backdrop-sepia":["",We,xe,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",xe,be]}],ease:[{ease:["linear","initial",_,xe,be]}],delay:[{delay:[We,xe,be]}],animate:[{animate:["none",k,xe,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,xe,be]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:Te()}],"scale-x":[{"scale-x":Te()}],"scale-y":[{"scale-y":Te()}],"scale-z":[{"scale-z":Te()}],"scale-3d":["scale-3d"],skew:[{skew:je()}],"skew-x":[{"skew-x":je()}],"skew-y":[{"skew-y":je()}],transform:[{transform:[xe,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,be]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[We,jd,La,i0]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},X2=T2(Y2);function ke(...r){return X2(cC(r))}const q2=$g("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Dn({className:r,variant:e,size:t,asChild:n=!1,...s}){const o=n?jg:"button";return A.jsx(o,{"data-slot":"button",className:ke(q2({variant:e,size:t,className:r})),...s})}function Ua({className:r,type:e,...t}){return A.jsx("input",{type:e,"data-slot":"input",className:ke("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}function K2(r){const e=Q2(r),t=S.forwardRef((n,s)=>{const{children:o,...l}=n,c=S.Children.toArray(o),u=c.find(Z2);if(u){const h=u.props.children,p=c.map(m=>m===u?S.Children.count(h)>1?S.Children.only(null):S.isValidElement(h)?h.props.children:null:m);return A.jsx(e,{...l,ref:s,children:S.isValidElement(h)?S.cloneElement(h,void 0,p):null})}return A.jsx(e,{...l,ref:s,children:o})});return t.displayName=`${r}.Slot`,t}function Q2(r){const e=S.forwardRef((t,n)=>{const{children:s,...o}=t;if(S.isValidElement(s)){const l=tD(s),c=eD(o,s.props);return s.type!==S.Fragment&&(c.ref=n?aC(n,l):l),S.cloneElement(s,c)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var J2=Symbol("radix.slottable");function Z2(r){return S.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===J2}function eD(r,e){const t={...e};for(const n in e){const s=r[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?t[n]=(...c)=>{o(...c),s(...c)}:s&&(t[n]=s):n==="style"?t[n]={...s,...o}:n==="className"&&(t[n]=[s,o].filter(Boolean).join(" "))}return{...r,...t}}function tD(r){var n,s;let e=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(s=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var nD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ha=nD.reduce((r,e)=>{const t=K2(`Primitive.${e}`),n=S.forwardRef((s,o)=>{const{asChild:l,...c}=s,u=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(u,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{});function rD(r,e){r&&Jl.flushSync(()=>r.dispatchEvent(e))}function Pe(r,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(r==null||r(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function sD(r,e){const t=S.createContext(e),n=o=>{const{children:l,...c}=o,u=S.useMemo(()=>c,Object.values(c));return A.jsx(t.Provider,{value:u,children:l})};n.displayName=r+"Provider";function s(o){const l=S.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${r}\``)}return[n,s]}function zr(r,e=[]){let t=[];function n(o,l){const c=S.createContext(l),u=t.length;t=[...t,l];const h=m=>{var _;const{scope:v,children:w,...b}=m,x=((_=v==null?void 0:v[r])==null?void 0:_[u])||c,C=S.useMemo(()=>b,Object.values(b));return A.jsx(x.Provider,{value:C,children:w})};h.displayName=o+"Provider";function p(m,v){var x;const w=((x=v==null?void 0:v[r])==null?void 0:x[u])||c,b=S.useContext(w);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[h,p]}const s=()=>{const o=t.map(l=>S.createContext(l));return function(c){const u=(c==null?void 0:c[r])||o;return S.useMemo(()=>({[`__scope${r}`]:{...c,[r]:u}}),[c,u])}};return s.scopeName=r,[n,iD(s,...e)]}function iD(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const n=r.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=n.reduce((c,{useScope:u,scopeName:h})=>{const m=u(o)[`__scope${h}`];return{...c,...m}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var Ct=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},oD=H1[" useId ".trim().toString()]||(()=>{}),aD=0;function fs(r){const[e,t]=S.useState(oD());return Ct(()=>{t(n=>n??String(aD++))},[r]),e?`radix-${e}`:""}var lD=H1[" useInsertionEffect ".trim().toString()]||Ct;function Gi({prop:r,defaultProp:e,onChange:t=()=>{},caller:n}){const[s,o,l]=cD({defaultProp:e,onChange:t}),c=r!==void 0,u=c?r:s;{const p=S.useRef(r!==void 0);S.useEffect(()=>{const m=p.current;m!==c&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,n])}const h=S.useCallback(p=>{var m;if(c){const v=uD(p)?p(r):p;v!==r&&((m=l.current)==null||m.call(l,v))}else o(p)},[c,r,o,l]);return[u,h]}function cD({defaultProp:r,onChange:e}){const[t,n]=S.useState(r),s=S.useRef(t),o=S.useRef(e);return lD(()=>{o.current=e},[e]),S.useEffect(()=>{var l;s.current!==t&&((l=o.current)==null||l.call(o,t),s.current=t)},[t,s]),[t,n,o]}function uD(r){return typeof r=="function"}var dD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fa=dD.reduce((r,e)=>{const t=$n(`Primitive.${e}`),n=S.forwardRef((s,o)=>{const{asChild:l,...c}=s,u=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(u,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{});function hD(r,e){r&&Jl.flushSync(()=>r.dispatchEvent(e))}function Ft(r){const e=S.useRef(r);return S.useEffect(()=>{e.current=r}),S.useMemo(()=>(...t)=>{var n;return(n=e.current)==null?void 0:n.call(e,...t)},[])}function Eb(r,e=globalThis==null?void 0:globalThis.document){const t=Ft(r);S.useEffect(()=>{const n=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var fD="DismissableLayer",P0="dismissableLayer.update",pD="dismissableLayer.pointerDownOutside",mD="dismissableLayer.focusOutside",CE,SC=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),AC=S.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...u}=r,h=S.useContext(SC),[p,m]=S.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=S.useState({}),b=Ve(e,F=>m(F)),x=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(C),k=p?x.indexOf(p):-1,T=h.layersWithOutsidePointerEventsDisabled.size>0,M=k>=_,L=yD(F=>{const j=F.target,W=[...h.branches].some(X=>X.contains(j));!M||W||(s==null||s(F),l==null||l(F),F.defaultPrevented||c==null||c())},v),D=wD(F=>{const j=F.target;[...h.branches].some(X=>X.contains(j))||(o==null||o(F),l==null||l(F),F.defaultPrevented||c==null||c())},v);return Eb(F=>{k===h.layers.size-1&&(n==null||n(F),!F.defaultPrevented&&c&&(F.preventDefault(),c()))},v),S.useEffect(()=>{if(p)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(CE=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),_E(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=CE)}},[p,v,t,h]),S.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),_E())},[p,h]),S.useEffect(()=>{const F=()=>w({});return document.addEventListener(P0,F),()=>document.removeEventListener(P0,F)},[]),A.jsx(fa.div,{...u,ref:b,style:{pointerEvents:T?M?"auto":"none":void 0,...r.style},onFocusCapture:Pe(r.onFocusCapture,D.onFocusCapture),onBlurCapture:Pe(r.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Pe(r.onPointerDownCapture,L.onPointerDownCapture)})});AC.displayName=fD;var gD="DismissableLayerBranch",vD=S.forwardRef((r,e)=>{const t=S.useContext(SC),n=S.useRef(null),s=Ve(e,n);return S.useEffect(()=>{const o=n.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),A.jsx(fa.div,{...r,ref:s})});vD.displayName=gD;function yD(r,e=globalThis==null?void 0:globalThis.document){const t=Ft(r),n=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let u=function(){EC(pD,t,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function wD(r,e=globalThis==null?void 0:globalThis.document){const t=Ft(r),n=S.useRef(!1);return S.useEffect(()=>{const s=o=>{o.target&&!n.current&&EC(mD,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function _E(){const r=new CustomEvent(P0);document.dispatchEvent(r)}function EC(r,e,t,{discrete:n}){const s=t.originalEvent.target,o=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(r,e,{once:!0}),n?hD(s,o):s.dispatchEvent(o)}var bD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xD=bD.reduce((r,e)=>{const t=$n(`Primitive.${e}`),n=S.forwardRef((s,o)=>{const{asChild:l,...c}=s,u=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(u,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{}),o0="focusScope.autoFocusOnMount",a0="focusScope.autoFocusOnUnmount",kE={bubbles:!1,cancelable:!0},SD="FocusScope",Cb=S.forwardRef((r,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=r,[c,u]=S.useState(null),h=Ft(s),p=Ft(o),m=S.useRef(null),v=Ve(e,x=>u(x)),w=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(n){let x=function(T){if(w.paused||!c)return;const M=T.target;c.contains(M)?m.current=M:ko(m.current,{select:!0})},C=function(T){if(w.paused||!c)return;const M=T.relatedTarget;M!==null&&(c.contains(M)||ko(m.current,{select:!0}))},_=function(T){if(document.activeElement===document.body)for(const L of T)L.removedNodes.length>0&&ko(c)};document.addEventListener("focusin",x),document.addEventListener("focusout",C);const k=new MutationObserver(_);return c&&k.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",C),k.disconnect()}}},[n,c,w.paused]),S.useEffect(()=>{if(c){PE.add(w);const x=document.activeElement;if(!c.contains(x)){const _=new CustomEvent(o0,kE);c.addEventListener(o0,h),c.dispatchEvent(_),_.defaultPrevented||(AD(TD(CC(c)),{select:!0}),document.activeElement===x&&ko(c))}return()=>{c.removeEventListener(o0,h),setTimeout(()=>{const _=new CustomEvent(a0,kE);c.addEventListener(a0,p),c.dispatchEvent(_),_.defaultPrevented||ko(x??document.body,{select:!0}),c.removeEventListener(a0,p),PE.remove(w)},0)}}},[c,h,p,w]);const b=S.useCallback(x=>{if(!t&&!n||w.paused)return;const C=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(C&&_){const k=x.currentTarget,[T,M]=ED(k);T&&M?!x.shiftKey&&_===M?(x.preventDefault(),t&&ko(T,{select:!0})):x.shiftKey&&_===T&&(x.preventDefault(),t&&ko(M,{select:!0})):_===k&&x.preventDefault()}},[t,n,w.paused]);return A.jsx(xD.div,{tabIndex:-1,...l,ref:v,onKeyDown:b})});Cb.displayName=SD;function AD(r,{select:e=!1}={}){const t=document.activeElement;for(const n of r)if(ko(n,{select:e}),document.activeElement!==t)return}function ED(r){const e=CC(r),t=TE(e,r),n=TE(e.reverse(),r);return[t,n]}function CC(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function TE(r,e){for(const t of r)if(!CD(t,{upTo:e}))return t}function CD(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function _D(r){return r instanceof HTMLInputElement&&"select"in r}function ko(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&_D(r)&&e&&r.select()}}var PE=kD();function kD(){let r=[];return{add(e){const t=r[0];e!==t&&(t==null||t.pause()),r=RE(r,e),r.unshift(e)},remove(e){var t;r=RE(r,e),(t=r[0])==null||t.resume()}}}function RE(r,e){const t=[...r],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function TD(r){return r.filter(e=>e.tagName!=="A")}var PD="Portal",_C=S.forwardRef((r,e)=>{var c;const{container:t,...n}=r,[s,o]=S.useState(!1);Ct(()=>o(!0),[]);const l=t||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Fg.createPortal(A.jsx(fa.div,{...n,ref:e}),l):null});_C.displayName=PD;function RD(r,e){return S.useReducer((t,n)=>e[t][n]??t,r)}var Hr=r=>{const{present:e,children:t}=r,n=ND(e),s=typeof t=="function"?t({present:n.isPresent}):S.Children.only(t),o=Ve(n.ref,MD(s));return typeof t=="function"||n.isPresent?S.cloneElement(s,{ref:o}):null};Hr.displayName="Presence";function ND(r){const[e,t]=S.useState(),n=S.useRef(null),s=S.useRef(r),o=S.useRef("none"),l=r?"mounted":"unmounted",[c,u]=RD(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const h=om(n.current);o.current=c==="mounted"?h:"none"},[c]),Ct(()=>{const h=n.current,p=s.current;if(p!==r){const v=o.current,w=om(h);r?u("MOUNT"):w==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(p&&v!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=r}},[r,u]),Ct(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,m=w=>{const x=om(n.current).includes(w.animationName);if(w.target===e&&x&&(u("ANIMATION_END"),!s.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},v=w=>{w.target===e&&(o.current=om(n.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:S.useCallback(h=>{n.current=h?getComputedStyle(h):null,t(h)},[])}}function om(r){return(r==null?void 0:r.animationName)||"none"}function MD(r){var n,s;let e=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(s=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var l0=0;function kC(){S.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??NE()),document.body.insertAdjacentElement("beforeend",r[1]??NE()),l0++,()=>{l0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),l0--}},[])}function NE(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Vs=function(){return Vs=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Vs.apply(this,arguments)};function TC(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t}function ID(r,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var Sm="right-scroll-bar-position",Am="width-before-scroll-bar",LD="with-scroll-bars-hidden",DD="--removed-body-scroll-bar-size";function c0(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function OD(r,e){var t=S.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(n){var s=t.value;s!==n&&(t.value=n,t.callback(n,s))}}}})[0];return t.callback=e,t.facade}var FD=typeof window<"u"?S.useLayoutEffect:S.useEffect,ME=new WeakMap;function jD(r,e){var t=OD(null,function(n){return r.forEach(function(s){return c0(s,n)})});return FD(function(){var n=ME.get(t);if(n){var s=new Set(n),o=new Set(r),l=t.current;s.forEach(function(c){o.has(c)||c0(c,null)}),o.forEach(function(c){s.has(c)||c0(c,l)})}ME.set(t,r)},[r]),t}function $D(r){return r}function zD(r,e){e===void 0&&(e=$D);var t=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(o){var l=e(o,n);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(n=!0;t.length;){var l=t;t=[],l.forEach(o)}t={push:function(c){return o(c)},filter:function(){return t}}},assignMedium:function(o){n=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(o),l=t}var u=function(){var p=l;l=[],p.forEach(o)},h=function(){return Promise.resolve().then(u)};h(),t={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),t}}}};return s}function HD(r){r===void 0&&(r={});var e=zD(null);return e.options=Vs({async:!0,ssr:!1},r),e}var PC=function(r){var e=r.sideCar,t=TC(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,Vs({},t))};PC.isSideCarExport=!0;function BD(r,e){return r.useMedium(e),PC}var RC=HD(),u0=function(){},Bg=S.forwardRef(function(r,e){var t=S.useRef(null),n=S.useState({onScrollCapture:u0,onWheelCapture:u0,onTouchMoveCapture:u0}),s=n[0],o=n[1],l=r.forwardProps,c=r.children,u=r.className,h=r.removeScrollBar,p=r.enabled,m=r.shards,v=r.sideCar,w=r.noIsolation,b=r.inert,x=r.allowPinchZoom,C=r.as,_=C===void 0?"div":C,k=r.gapMode,T=TC(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=v,L=jD([t,e]),D=Vs(Vs({},T),s);return S.createElement(S.Fragment,null,p&&S.createElement(M,{sideCar:RC,removeScrollBar:h,shards:m,noIsolation:w,inert:b,setCallbacks:o,allowPinchZoom:!!x,lockRef:t,gapMode:k}),l?S.cloneElement(S.Children.only(c),Vs(Vs({},D),{ref:L})):S.createElement(_,Vs({},D,{className:u,ref:L}),c))});Bg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bg.classNames={fullWidth:Am,zeroRight:Sm};var WD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function UD(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=WD();return e&&r.setAttribute("nonce",e),r}function VD(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function GD(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var YD=function(){var r=0,e=null;return{add:function(t){r==0&&(e=UD())&&(VD(e,t),GD(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},XD=function(){var r=YD();return function(e,t){S.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},NC=function(){var r=XD(),e=function(t){var n=t.styles,s=t.dynamic;return r(n,s),null};return e},qD={left:0,top:0,right:0,gap:0},d0=function(r){return parseInt(r||"",10)||0},KD=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],n=e[r==="padding"?"paddingTop":"marginTop"],s=e[r==="padding"?"paddingRight":"marginRight"];return[d0(t),d0(n),d0(s)]},QD=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return qD;var e=KD(r),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},JD=NC(),zc="data-scroll-locked",ZD=function(r,e,t,n){var s=r.left,o=r.top,l=r.right,c=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(LD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(zc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sm,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Am,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Sm," .").concat(Sm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Am," .").concat(Am,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(zc,`] {
    `).concat(DD,": ").concat(c,`px;
  }
`)},IE=function(){var r=parseInt(document.body.getAttribute(zc)||"0",10);return isFinite(r)?r:0},eO=function(){S.useEffect(function(){return document.body.setAttribute(zc,(IE()+1).toString()),function(){var r=IE()-1;r<=0?document.body.removeAttribute(zc):document.body.setAttribute(zc,r.toString())}},[])},tO=function(r){var e=r.noRelative,t=r.noImportant,n=r.gapMode,s=n===void 0?"margin":n;eO();var o=S.useMemo(function(){return QD(s)},[s]);return S.createElement(JD,{styles:ZD(o,!e,s,t?"":"!important")})},R0=!1;if(typeof window<"u")try{var am=Object.defineProperty({},"passive",{get:function(){return R0=!0,!0}});window.addEventListener("test",am,am),window.removeEventListener("test",am,am)}catch{R0=!1}var kc=R0?{passive:!1}:!1,nO=function(r){return r.tagName==="TEXTAREA"},MC=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!nO(r)&&t[e]==="visible")},rO=function(r){return MC(r,"overflowY")},sO=function(r){return MC(r,"overflowX")},LE=function(r,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=IC(r,n);if(s){var o=LC(r,n),l=o[1],c=o[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},iO=function(r){var e=r.scrollTop,t=r.scrollHeight,n=r.clientHeight;return[e,t,n]},oO=function(r){var e=r.scrollLeft,t=r.scrollWidth,n=r.clientWidth;return[e,t,n]},IC=function(r,e){return r==="v"?rO(e):sO(e)},LC=function(r,e){return r==="v"?iO(e):oO(e)},aO=function(r,e){return r==="h"&&e==="rtl"?-1:1},lO=function(r,e,t,n,s){var o=aO(r,window.getComputedStyle(e).direction),l=o*n,c=t.target,u=e.contains(c),h=!1,p=l>0,m=0,v=0;do{var w=LC(r,c),b=w[0],x=w[1],C=w[2],_=x-C-o*b;(b||_)&&IC(r,c)&&(m+=_,v+=b),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(p&&Math.abs(m)<1||!p&&Math.abs(v)<1)&&(h=!0),h},lm=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},DE=function(r){return[r.deltaX,r.deltaY]},OE=function(r){return r&&"current"in r?r.current:r},cO=function(r,e){return r[0]===e[0]&&r[1]===e[1]},uO=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},dO=0,Tc=[];function hO(r){var e=S.useRef([]),t=S.useRef([0,0]),n=S.useRef(),s=S.useState(dO++)[0],o=S.useState(NC)[0],l=S.useRef(r);S.useEffect(function(){l.current=r},[r]),S.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(s));var x=ID([r.lockRef.current],(r.shards||[]).map(OE),!0).filter(Boolean);return x.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[r.inert,r.lockRef.current,r.shards]);var c=S.useCallback(function(x,C){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var _=lm(x),k=t.current,T="deltaX"in x?x.deltaX:k[0]-_[0],M="deltaY"in x?x.deltaY:k[1]-_[1],L,D=x.target,F=Math.abs(T)>Math.abs(M)?"h":"v";if("touches"in x&&F==="h"&&D.type==="range")return!1;var j=LE(F,D);if(!j)return!0;if(j?L=F:(L=F==="v"?"h":"v",j=LE(F,D)),!j)return!1;if(!n.current&&"changedTouches"in x&&(T||M)&&(n.current=L),!L)return!0;var W=n.current||L;return lO(W,C,x,W==="h"?T:M)},[]),u=S.useCallback(function(x){var C=x;if(!(!Tc.length||Tc[Tc.length-1]!==o)){var _="deltaY"in C?DE(C):lm(C),k=e.current.filter(function(L){return L.name===C.type&&(L.target===C.target||C.target===L.shadowParent)&&cO(L.delta,_)})[0];if(k&&k.should){C.cancelable&&C.preventDefault();return}if(!k){var T=(l.current.shards||[]).map(OE).filter(Boolean).filter(function(L){return L.contains(C.target)}),M=T.length>0?c(C,T[0]):!l.current.noIsolation;M&&C.cancelable&&C.preventDefault()}}},[]),h=S.useCallback(function(x,C,_,k){var T={name:x,delta:C,target:_,should:k,shadowParent:fO(_)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(M){return M!==T})},1)},[]),p=S.useCallback(function(x){t.current=lm(x),n.current=void 0},[]),m=S.useCallback(function(x){h(x.type,DE(x),x.target,c(x,r.lockRef.current))},[]),v=S.useCallback(function(x){h(x.type,lm(x),x.target,c(x,r.lockRef.current))},[]);S.useEffect(function(){return Tc.push(o),r.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",u,kc),document.addEventListener("touchmove",u,kc),document.addEventListener("touchstart",p,kc),function(){Tc=Tc.filter(function(x){return x!==o}),document.removeEventListener("wheel",u,kc),document.removeEventListener("touchmove",u,kc),document.removeEventListener("touchstart",p,kc)}},[]);var w=r.removeScrollBar,b=r.inert;return S.createElement(S.Fragment,null,b?S.createElement(o,{styles:uO(s)}):null,w?S.createElement(tO,{gapMode:r.gapMode}):null)}function fO(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const pO=BD(RC,hO);var _b=S.forwardRef(function(r,e){return S.createElement(Bg,Vs({},r,{ref:e,sideCar:pO}))});_b.classNames=Bg.classNames;var mO=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},Pc=new WeakMap,cm=new WeakMap,um={},h0=0,DC=function(r){return r&&(r.host||DC(r.parentNode))},gO=function(r,e){return e.map(function(t){if(r.contains(t))return t;var n=DC(t);return n&&r.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},vO=function(r,e,t,n){var s=gO(e,Array.isArray(r)?r:[r]);um[t]||(um[t]=new WeakMap);var o=um[t],l=[],c=new Set,u=new Set(s),h=function(m){!m||c.has(m)||(c.add(m),h(m.parentNode))};s.forEach(h);var p=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(v){if(c.has(v))p(v);else try{var w=v.getAttribute(n),b=w!==null&&w!=="false",x=(Pc.get(v)||0)+1,C=(o.get(v)||0)+1;Pc.set(v,x),o.set(v,C),l.push(v),x===1&&b&&cm.set(v,!0),C===1&&v.setAttribute(t,"true"),b||v.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",v,_)}})};return p(e),c.clear(),h0++,function(){l.forEach(function(m){var v=Pc.get(m)-1,w=o.get(m)-1;Pc.set(m,v),o.set(m,w),v||(cm.has(m)||m.removeAttribute(n),cm.delete(m)),w||m.removeAttribute(t)}),h0--,h0||(Pc=new WeakMap,Pc=new WeakMap,cm=new WeakMap,um={})}},OC=function(r,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(r)?r:[r]),s=mO(r);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),vO(n,s,t,"aria-hidden")):function(){return null}},Wg="Dialog",[FC,O5]=zr(Wg),[yO,vs]=FC(Wg),jC=r=>{const{__scopeDialog:e,children:t,open:n,defaultOpen:s,onOpenChange:o,modal:l=!0}=r,c=S.useRef(null),u=S.useRef(null),[h,p]=Gi({prop:n,defaultProp:s??!1,onChange:o,caller:Wg});return A.jsx(yO,{scope:e,triggerRef:c,contentRef:u,contentId:fs(),titleId:fs(),descriptionId:fs(),open:h,onOpenChange:p,onOpenToggle:S.useCallback(()=>p(m=>!m),[p]),modal:l,children:t})};jC.displayName=Wg;var $C="DialogTrigger",zC=S.forwardRef((r,e)=>{const{__scopeDialog:t,...n}=r,s=vs($C,t),o=Ve(e,s.triggerRef);return A.jsx(fa.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Pb(s.open),...n,ref:o,onClick:Pe(r.onClick,s.onOpenToggle)})});zC.displayName=$C;var kb="DialogPortal",[wO,HC]=FC(kb,{forceMount:void 0}),BC=r=>{const{__scopeDialog:e,forceMount:t,children:n,container:s}=r,o=vs(kb,e);return A.jsx(wO,{scope:e,forceMount:t,children:S.Children.map(n,l=>A.jsx(Hr,{present:t||o.open,children:A.jsx(_C,{asChild:!0,container:s,children:l})}))})};BC.displayName=kb;var ng="DialogOverlay",WC=S.forwardRef((r,e)=>{const t=HC(ng,r.__scopeDialog),{forceMount:n=t.forceMount,...s}=r,o=vs(ng,r.__scopeDialog);return o.modal?A.jsx(Hr,{present:n||o.open,children:A.jsx(xO,{...s,ref:e})}):null});WC.displayName=ng;var bO=$n("DialogOverlay.RemoveScroll"),xO=S.forwardRef((r,e)=>{const{__scopeDialog:t,...n}=r,s=vs(ng,t);return A.jsx(_b,{as:bO,allowPinchZoom:!0,shards:[s.contentRef],children:A.jsx(fa.div,{"data-state":Pb(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Hl="DialogContent",UC=S.forwardRef((r,e)=>{const t=HC(Hl,r.__scopeDialog),{forceMount:n=t.forceMount,...s}=r,o=vs(Hl,r.__scopeDialog);return A.jsx(Hr,{present:n||o.open,children:o.modal?A.jsx(SO,{...s,ref:e}):A.jsx(AO,{...s,ref:e})})});UC.displayName=Hl;var SO=S.forwardRef((r,e)=>{const t=vs(Hl,r.__scopeDialog),n=S.useRef(null),s=Ve(e,t.contentRef,n);return S.useEffect(()=>{const o=n.current;if(o)return OC(o)},[]),A.jsx(VC,{...r,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(r.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Pe(r.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:Pe(r.onFocusOutside,o=>o.preventDefault())})}),AO=S.forwardRef((r,e)=>{const t=vs(Hl,r.__scopeDialog),n=S.useRef(!1),s=S.useRef(!1);return A.jsx(VC,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=r.onCloseAutoFocus)==null||l.call(r,o),o.defaultPrevented||(n.current||(c=t.triggerRef.current)==null||c.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var u,h;(u=r.onInteractOutside)==null||u.call(r,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((h=t.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),VC=S.forwardRef((r,e)=>{const{__scopeDialog:t,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=r,c=vs(Hl,t),u=S.useRef(null),h=Ve(e,u);return kC(),A.jsxs(A.Fragment,{children:[A.jsx(Cb,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:A.jsx(AC,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Pb(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),A.jsxs(A.Fragment,{children:[A.jsx(EO,{titleId:c.titleId}),A.jsx(_O,{contentRef:u,descriptionId:c.descriptionId})]})]})}),Tb="DialogTitle",GC=S.forwardRef((r,e)=>{const{__scopeDialog:t,...n}=r,s=vs(Tb,t);return A.jsx(fa.h2,{id:s.titleId,...n,ref:e})});GC.displayName=Tb;var YC="DialogDescription",XC=S.forwardRef((r,e)=>{const{__scopeDialog:t,...n}=r,s=vs(YC,t);return A.jsx(fa.p,{id:s.descriptionId,...n,ref:e})});XC.displayName=YC;var qC="DialogClose",KC=S.forwardRef((r,e)=>{const{__scopeDialog:t,...n}=r,s=vs(qC,t);return A.jsx(fa.button,{type:"button",...n,ref:e,onClick:Pe(r.onClick,()=>s.onOpenChange(!1))})});KC.displayName=qC;function Pb(r){return r?"open":"closed"}var QC="DialogTitleWarning",[F5,JC]=sD(QC,{contentName:Hl,titleName:Tb,docsSlug:"dialog"}),EO=({titleId:r})=>{const e=JC(QC),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{r&&(document.getElementById(r)||console.error(t))},[t,r]),null},CO="DialogDescriptionWarning",_O=({contentRef:r,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JC(CO).contentName}}.`;return S.useEffect(()=>{var o;const s=(o=r.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,r,e]),null},ZC=jC,kO=zC,e_=BC,t_=WC,n_=UC,r_=GC,TO=XC,Rb=KC;function PO({...r}){return A.jsx(ZC,{"data-slot":"sheet",...r})}function RO({...r}){return A.jsx(e_,{"data-slot":"sheet-portal",...r})}function NO({className:r,...e}){return A.jsx(t_,{"data-slot":"sheet-overlay",className:ke("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...e})}function MO({className:r,children:e,side:t="right",...n}){return A.jsxs(RO,{children:[A.jsx(NO,{}),A.jsxs(n_,{"data-slot":"sheet-content",className:ke("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",t==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",t==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",t==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",t==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",r),...n,children:[e,A.jsxs(Rb,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[A.jsx(Hg,{className:"size-4"}),A.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function IO({className:r,...e}){return A.jsx("div",{"data-slot":"sheet-header",className:ke("flex flex-col gap-1.5 p-4",r),...e})}function LO({className:r,...e}){return A.jsx(r_,{"data-slot":"sheet-title",className:ke("text-foreground font-semibold",r),...e})}function DO({className:r,...e}){return A.jsx(TO,{"data-slot":"sheet-description",className:ke("text-muted-foreground text-sm",r),...e})}var OO="DismissableLayer",N0="dismissableLayer.update",FO="dismissableLayer.pointerDownOutside",jO="dismissableLayer.focusOutside",FE,s_=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),i_=S.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...u}=r,h=S.useContext(s_),[p,m]=S.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=S.useState({}),b=Ve(e,F=>m(F)),x=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(C),k=p?x.indexOf(p):-1,T=h.layersWithOutsidePointerEventsDisabled.size>0,M=k>=_,L=HO(F=>{const j=F.target,W=[...h.branches].some(X=>X.contains(j));!M||W||(s==null||s(F),l==null||l(F),F.defaultPrevented||c==null||c())},v),D=BO(F=>{const j=F.target;[...h.branches].some(X=>X.contains(j))||(o==null||o(F),l==null||l(F),F.defaultPrevented||c==null||c())},v);return Eb(F=>{k===h.layers.size-1&&(n==null||n(F),!F.defaultPrevented&&c&&(F.preventDefault(),c()))},v),S.useEffect(()=>{if(p)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(FE=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),jE(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=FE)}},[p,v,t,h]),S.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),jE())},[p,h]),S.useEffect(()=>{const F=()=>w({});return document.addEventListener(N0,F),()=>document.removeEventListener(N0,F)},[]),A.jsx(ha.div,{...u,ref:b,style:{pointerEvents:T?M?"auto":"none":void 0,...r.style},onFocusCapture:Pe(r.onFocusCapture,D.onFocusCapture),onBlurCapture:Pe(r.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Pe(r.onPointerDownCapture,L.onPointerDownCapture)})});i_.displayName=OO;var $O="DismissableLayerBranch",zO=S.forwardRef((r,e)=>{const t=S.useContext(s_),n=S.useRef(null),s=Ve(e,n);return S.useEffect(()=>{const o=n.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),A.jsx(ha.div,{...r,ref:s})});zO.displayName=$O;function HO(r,e=globalThis==null?void 0:globalThis.document){const t=Ft(r),n=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let u=function(){o_(FO,t,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function BO(r,e=globalThis==null?void 0:globalThis.document){const t=Ft(r),n=S.useRef(!1);return S.useEffect(()=>{const s=o=>{o.target&&!n.current&&o_(jO,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function jE(){const r=new CustomEvent(N0);document.dispatchEvent(r)}function o_(r,e,t,{discrete:n}){const s=t.originalEvent.target,o=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(r,e,{once:!0}),n?rD(s,o):s.dispatchEvent(o)}const WO=["top","right","bottom","left"],ia=Math.min,gr=Math.max,rg=Math.round,dm=Math.floor,Gs=r=>({x:r,y:r}),UO={left:"right",right:"left",bottom:"top",top:"bottom"},VO={start:"end",end:"start"};function M0(r,e,t){return gr(r,ia(e,t))}function Yi(r,e){return typeof r=="function"?r(e):r}function Xi(r){return r.split("-")[0]}function Xu(r){return r.split("-")[1]}function Nb(r){return r==="x"?"y":"x"}function Mb(r){return r==="y"?"height":"width"}function Hi(r){return["top","bottom"].includes(Xi(r))?"y":"x"}function Ib(r){return Nb(Hi(r))}function GO(r,e,t){t===void 0&&(t=!1);const n=Xu(r),s=Ib(r),o=Mb(s);let l=s==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=sg(l)),[l,sg(l)]}function YO(r){const e=sg(r);return[I0(r),e,I0(e)]}function I0(r){return r.replace(/start|end/g,e=>VO[e])}function XO(r,e,t){const n=["left","right"],s=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(r){case"top":case"bottom":return t?e?s:n:e?n:s;case"left":case"right":return e?o:l;default:return[]}}function qO(r,e,t,n){const s=Xu(r);let o=XO(Xi(r),t==="start",n);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(I0)))),o}function sg(r){return r.replace(/left|right|bottom|top/g,e=>UO[e])}function KO(r){return{top:0,right:0,bottom:0,left:0,...r}}function a_(r){return typeof r!="number"?KO(r):{top:r,right:r,bottom:r,left:r}}function ig(r){const{x:e,y:t,width:n,height:s}=r;return{width:n,height:s,top:t,left:e,right:e+n,bottom:t+s,x:e,y:t}}function $E(r,e,t){let{reference:n,floating:s}=r;const o=Hi(e),l=Ib(e),c=Mb(l),u=Xi(e),h=o==="y",p=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,v=n[c]/2-s[c]/2;let w;switch(u){case"top":w={x:p,y:n.y-s.height};break;case"bottom":w={x:p,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:m};break;case"left":w={x:n.x-s.width,y:m};break;default:w={x:n.x,y:n.y}}switch(Xu(e)){case"start":w[l]-=v*(t&&h?-1:1);break;case"end":w[l]+=v*(t&&h?-1:1);break}return w}const QO=async(r,e,t)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:l}=t,c=o.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:r,floating:e,strategy:s}),{x:p,y:m}=$E(h,n,u),v=n,w={},b=0;for(let x=0;x<c.length;x++){const{name:C,fn:_}=c[x],{x:k,y:T,data:M,reset:L}=await _({x:p,y:m,initialPlacement:n,placement:v,strategy:s,middlewareData:w,rects:h,platform:l,elements:{reference:r,floating:e}});p=k??p,m=T??m,w={...w,[C]:{...w[C],...M}},L&&b<=50&&(b++,typeof L=="object"&&(L.placement&&(v=L.placement),L.rects&&(h=L.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:s}):L.rects),{x:p,y:m}=$E(h,v,u)),x=-1)}return{x:p,y:m,placement:v,strategy:s,middlewareData:w}};async function fh(r,e){var t;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:l,elements:c,strategy:u}=r,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:v=!1,padding:w=0}=Yi(e,r),b=a_(w),C=c[v?m==="floating"?"reference":"floating":m],_=ig(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(C)))==null||t?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:p,strategy:u})),k=m==="floating"?{x:n,y:s,width:l.floating.width,height:l.floating.height}:l.reference,T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),M=await(o.isElement==null?void 0:o.isElement(T))?await(o.getScale==null?void 0:o.getScale(T))||{x:1,y:1}:{x:1,y:1},L=ig(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:T,strategy:u}):k);return{top:(_.top-L.top+b.top)/M.y,bottom:(L.bottom-_.bottom+b.bottom)/M.y,left:(_.left-L.left+b.left)/M.x,right:(L.right-_.right+b.right)/M.x}}const JO=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:s,rects:o,platform:l,elements:c,middlewareData:u}=e,{element:h,padding:p=0}=Yi(r,e)||{};if(h==null)return{};const m=a_(p),v={x:t,y:n},w=Ib(s),b=Mb(w),x=await l.getDimensions(h),C=w==="y",_=C?"top":"left",k=C?"bottom":"right",T=C?"clientHeight":"clientWidth",M=o.reference[b]+o.reference[w]-v[w]-o.floating[b],L=v[w]-o.reference[w],D=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let F=D?D[T]:0;(!F||!await(l.isElement==null?void 0:l.isElement(D)))&&(F=c.floating[T]||o.floating[b]);const j=M/2-L/2,W=F/2-x[b]/2-1,X=ia(m[_],W),Q=ia(m[k],W),ue=X,oe=F-x[b]-Q,he=F/2-x[b]/2+j,ae=M0(ue,he,oe),q=!u.arrow&&Xu(s)!=null&&he!==ae&&o.reference[b]/2-(he<ue?X:Q)-x[b]/2<0,J=q?he<ue?he-ue:he-oe:0;return{[w]:v[w]+J,data:{[w]:ae,centerOffset:he-ae-J,...q&&{alignmentOffset:J}},reset:q}}}),ZO=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:u,elements:h}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...C}=Yi(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const _=Xi(s),k=Hi(c),T=Xi(c)===c,M=await(u.isRTL==null?void 0:u.isRTL(h.floating)),L=v||(T||!x?[sg(c)]:YO(c)),D=b!=="none";!v&&D&&L.push(...qO(c,x,b,M));const F=[c,...L],j=await fh(e,C),W=[];let X=((n=o.flip)==null?void 0:n.overflows)||[];if(p&&W.push(j[_]),m){const ae=GO(s,l,M);W.push(j[ae[0]],j[ae[1]])}if(X=[...X,{placement:s,overflows:W}],!W.every(ae=>ae<=0)){var Q,ue;const ae=(((Q=o.flip)==null?void 0:Q.index)||0)+1,q=F[ae];if(q){var oe;const z=m==="alignment"?k!==Hi(q):!1,te=((oe=X[0])==null?void 0:oe.overflows[0])>0;if(!z||te)return{data:{index:ae,overflows:X},reset:{placement:q}}}let J=(ue=X.filter(z=>z.overflows[0]<=0).sort((z,te)=>z.overflows[1]-te.overflows[1])[0])==null?void 0:ue.placement;if(!J)switch(w){case"bestFit":{var he;const z=(he=X.filter(te=>{if(D){const Z=Hi(te.placement);return Z===k||Z==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(Z=>Z>0).reduce((Z,$)=>Z+$,0)]).sort((te,Z)=>te[1]-Z[1])[0])==null?void 0:he[0];z&&(J=z);break}case"initialPlacement":J=c;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function zE(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function HE(r){return WO.some(e=>r[e]>=0)}const eF=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:t}=e,{strategy:n="referenceHidden",...s}=Yi(r,e);switch(n){case"referenceHidden":{const o=await fh(e,{...s,elementContext:"reference"}),l=zE(o,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:HE(l)}}}case"escaped":{const o=await fh(e,{...s,altBoundary:!0}),l=zE(o,t.floating);return{data:{escapedOffsets:l,escaped:HE(l)}}}default:return{}}}}};async function tF(r,e){const{placement:t,platform:n,elements:s}=r,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),l=Xi(t),c=Xu(t),u=Hi(t)==="y",h=["left","top"].includes(l)?-1:1,p=o&&u?-1:1,m=Yi(e,r);let{mainAxis:v,crossAxis:w,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof b=="number"&&(w=c==="end"?b*-1:b),u?{x:w*p,y:v*h}:{x:v*h,y:w*p}}const nF=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:s,y:o,placement:l,middlewareData:c}=e,u=await tF(e,r);return l===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+u.x,y:o+u.y,data:{...u,placement:l}}}}},rF=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:C=>{let{x:_,y:k}=C;return{x:_,y:k}}},...u}=Yi(r,e),h={x:t,y:n},p=await fh(e,u),m=Hi(Xi(s)),v=Nb(m);let w=h[v],b=h[m];if(o){const C=v==="y"?"top":"left",_=v==="y"?"bottom":"right",k=w+p[C],T=w-p[_];w=M0(k,w,T)}if(l){const C=m==="y"?"top":"left",_=m==="y"?"bottom":"right",k=b+p[C],T=b-p[_];b=M0(k,b,T)}const x=c.fn({...e,[v]:w,[m]:b});return{...x,data:{x:x.x-t,y:x.y-n,enabled:{[v]:o,[m]:l}}}}}},sF=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:n,placement:s,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=Yi(r,e),p={x:t,y:n},m=Hi(s),v=Nb(m);let w=p[v],b=p[m];const x=Yi(c,e),C=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const T=v==="y"?"height":"width",M=o.reference[v]-o.floating[T]+C.mainAxis,L=o.reference[v]+o.reference[T]-C.mainAxis;w<M?w=M:w>L&&(w=L)}if(h){var _,k;const T=v==="y"?"width":"height",M=["top","left"].includes(Xi(s)),L=o.reference[m]-o.floating[T]+(M&&((_=l.offset)==null?void 0:_[m])||0)+(M?0:C.crossAxis),D=o.reference[m]+o.reference[T]+(M?0:((k=l.offset)==null?void 0:k[m])||0)-(M?C.crossAxis:0);b<L?b=L:b>D&&(b=D)}return{[v]:w,[m]:b}}}},iF=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,n;const{placement:s,rects:o,platform:l,elements:c}=e,{apply:u=()=>{},...h}=Yi(r,e),p=await fh(e,h),m=Xi(s),v=Xu(s),w=Hi(s)==="y",{width:b,height:x}=o.floating;let C,_;m==="top"||m==="bottom"?(C=m,_=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(_=m,C=v==="end"?"top":"bottom");const k=x-p.top-p.bottom,T=b-p.left-p.right,M=ia(x-p[C],k),L=ia(b-p[_],T),D=!e.middlewareData.shift;let F=M,j=L;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(j=T),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(F=k),D&&!v){const X=gr(p.left,0),Q=gr(p.right,0),ue=gr(p.top,0),oe=gr(p.bottom,0);w?j=b-2*(X!==0||Q!==0?X+Q:gr(p.left,p.right)):F=x-2*(ue!==0||oe!==0?ue+oe:gr(p.top,p.bottom))}await u({...e,availableWidth:j,availableHeight:F});const W=await l.getDimensions(c.floating);return b!==W.width||x!==W.height?{reset:{rects:!0}}:{}}}};function Ug(){return typeof window<"u"}function qu(r){return l_(r)?(r.nodeName||"").toLowerCase():"#document"}function yr(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function qs(r){var e;return(e=(l_(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function l_(r){return Ug()?r instanceof Node||r instanceof yr(r).Node:!1}function ms(r){return Ug()?r instanceof Element||r instanceof yr(r).Element:!1}function Ys(r){return Ug()?r instanceof HTMLElement||r instanceof yr(r).HTMLElement:!1}function BE(r){return!Ug()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof yr(r).ShadowRoot}function jf(r){const{overflow:e,overflowX:t,overflowY:n,display:s}=gs(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(s)}function oF(r){return["table","td","th"].includes(qu(r))}function Vg(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function Lb(r){const e=Db(),t=ms(r)?gs(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function aF(r){let e=oa(r);for(;Ys(e)&&!Bu(e);){if(Lb(e))return e;if(Vg(e))return null;e=oa(e)}return null}function Db(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bu(r){return["html","body","#document"].includes(qu(r))}function gs(r){return yr(r).getComputedStyle(r)}function Gg(r){return ms(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function oa(r){if(qu(r)==="html")return r;const e=r.assignedSlot||r.parentNode||BE(r)&&r.host||qs(r);return BE(e)?e.host:e}function c_(r){const e=oa(r);return Bu(e)?r.ownerDocument?r.ownerDocument.body:r.body:Ys(e)&&jf(e)?e:c_(e)}function ph(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=c_(r),o=s===((n=r.ownerDocument)==null?void 0:n.body),l=yr(s);if(o){const c=L0(l);return e.concat(l,l.visualViewport||[],jf(s)?s:[],c&&t?ph(c):[])}return e.concat(s,ph(s,[],t))}function L0(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function u_(r){const e=gs(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Ys(r),o=s?r.offsetWidth:t,l=s?r.offsetHeight:n,c=rg(t)!==o||rg(n)!==l;return c&&(t=o,n=l),{width:t,height:n,$:c}}function Ob(r){return ms(r)?r:r.contextElement}function Hc(r){const e=Ob(r);if(!Ys(e))return Gs(1);const t=e.getBoundingClientRect(),{width:n,height:s,$:o}=u_(e);let l=(o?rg(t.width):t.width)/n,c=(o?rg(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const lF=Gs(0);function d_(r){const e=yr(r);return!Db()||!e.visualViewport?lF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cF(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==yr(r)?!1:e}function Bl(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=r.getBoundingClientRect(),o=Ob(r);let l=Gs(1);e&&(n?ms(n)&&(l=Hc(n)):l=Hc(r));const c=cF(o,t,n)?d_(o):Gs(0);let u=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,p=s.width/l.x,m=s.height/l.y;if(o){const v=yr(o),w=n&&ms(n)?yr(n):n;let b=v,x=L0(b);for(;x&&n&&w!==b;){const C=Hc(x),_=x.getBoundingClientRect(),k=gs(x),T=_.left+(x.clientLeft+parseFloat(k.paddingLeft))*C.x,M=_.top+(x.clientTop+parseFloat(k.paddingTop))*C.y;u*=C.x,h*=C.y,p*=C.x,m*=C.y,u+=T,h+=M,b=yr(x),x=L0(b)}}return ig({width:p,height:m,x:u,y:h})}function Fb(r,e){const t=Gg(r).scrollLeft;return e?e.left+t:Bl(qs(r)).left+t}function h_(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),s=n.left+e.scrollLeft-(t?0:Fb(r,n)),o=n.top+e.scrollTop;return{x:s,y:o}}function uF(r){let{elements:e,rect:t,offsetParent:n,strategy:s}=r;const o=s==="fixed",l=qs(n),c=e?Vg(e.floating):!1;if(n===l||c&&o)return t;let u={scrollLeft:0,scrollTop:0},h=Gs(1);const p=Gs(0),m=Ys(n);if((m||!m&&!o)&&((qu(n)!=="body"||jf(l))&&(u=Gg(n)),Ys(n))){const w=Bl(n);h=Hc(n),p.x=w.x+n.clientLeft,p.y=w.y+n.clientTop}const v=l&&!m&&!o?h_(l,u,!0):Gs(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-u.scrollLeft*h.x+p.x+v.x,y:t.y*h.y-u.scrollTop*h.y+p.y+v.y}}function dF(r){return Array.from(r.getClientRects())}function hF(r){const e=qs(r),t=Gg(r),n=r.ownerDocument.body,s=gr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=gr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+Fb(r);const c=-t.scrollTop;return gs(n).direction==="rtl"&&(l+=gr(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:l,y:c}}function fF(r,e){const t=yr(r),n=qs(r),s=t.visualViewport;let o=n.clientWidth,l=n.clientHeight,c=0,u=0;if(s){o=s.width,l=s.height;const h=Db();(!h||h&&e==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}return{width:o,height:l,x:c,y:u}}function pF(r,e){const t=Bl(r,!0,e==="fixed"),n=t.top+r.clientTop,s=t.left+r.clientLeft,o=Ys(r)?Hc(r):Gs(1),l=r.clientWidth*o.x,c=r.clientHeight*o.y,u=s*o.x,h=n*o.y;return{width:l,height:c,x:u,y:h}}function WE(r,e,t){let n;if(e==="viewport")n=fF(r,t);else if(e==="document")n=hF(qs(r));else if(ms(e))n=pF(e,t);else{const s=d_(r);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return ig(n)}function f_(r,e){const t=oa(r);return t===e||!ms(t)||Bu(t)?!1:gs(t).position==="fixed"||f_(t,e)}function mF(r,e){const t=e.get(r);if(t)return t;let n=ph(r,[],!1).filter(c=>ms(c)&&qu(c)!=="body"),s=null;const o=gs(r).position==="fixed";let l=o?oa(r):r;for(;ms(l)&&!Bu(l);){const c=gs(l),u=Lb(l);!u&&c.position==="fixed"&&(s=null),(o?!u&&!s:!u&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||jf(l)&&!u&&f_(r,l))?n=n.filter(p=>p!==l):s=c,l=oa(l)}return e.set(r,n),n}function gF(r){let{element:e,boundary:t,rootBoundary:n,strategy:s}=r;const l=[...t==="clippingAncestors"?Vg(e)?[]:mF(e,this._c):[].concat(t),n],c=l[0],u=l.reduce((h,p)=>{const m=WE(e,p,s);return h.top=gr(m.top,h.top),h.right=ia(m.right,h.right),h.bottom=ia(m.bottom,h.bottom),h.left=gr(m.left,h.left),h},WE(e,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function vF(r){const{width:e,height:t}=u_(r);return{width:e,height:t}}function yF(r,e,t){const n=Ys(e),s=qs(e),o=t==="fixed",l=Bl(r,!0,o,e);let c={scrollLeft:0,scrollTop:0};const u=Gs(0);function h(){u.x=Fb(s)}if(n||!n&&!o)if((qu(e)!=="body"||jf(s))&&(c=Gg(e)),n){const w=Bl(e,!0,o,e);u.x=w.x+e.clientLeft,u.y=w.y+e.clientTop}else s&&h();o&&!n&&s&&h();const p=s&&!n&&!o?h_(s,c):Gs(0),m=l.left+c.scrollLeft-u.x-p.x,v=l.top+c.scrollTop-u.y-p.y;return{x:m,y:v,width:l.width,height:l.height}}function f0(r){return gs(r).position==="static"}function UE(r,e){if(!Ys(r)||gs(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return qs(r)===t&&(t=t.ownerDocument.body),t}function p_(r,e){const t=yr(r);if(Vg(r))return t;if(!Ys(r)){let s=oa(r);for(;s&&!Bu(s);){if(ms(s)&&!f0(s))return s;s=oa(s)}return t}let n=UE(r,e);for(;n&&oF(n)&&f0(n);)n=UE(n,e);return n&&Bu(n)&&f0(n)&&!Lb(n)?t:n||aF(r)||t}const wF=async function(r){const e=this.getOffsetParent||p_,t=this.getDimensions,n=await t(r.floating);return{reference:yF(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function bF(r){return gs(r).direction==="rtl"}const xF={convertOffsetParentRelativeRectToViewportRelativeRect:uF,getDocumentElement:qs,getClippingRect:gF,getOffsetParent:p_,getElementRects:wF,getClientRects:dF,getDimensions:vF,getScale:Hc,isElement:ms,isRTL:bF};function m_(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function SF(r,e){let t=null,n;const s=qs(r);function o(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function l(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),o();const h=r.getBoundingClientRect(),{left:p,top:m,width:v,height:w}=h;if(c||e(),!v||!w)return;const b=dm(m),x=dm(s.clientWidth-(p+v)),C=dm(s.clientHeight-(m+w)),_=dm(p),T={rootMargin:-b+"px "+-x+"px "+-C+"px "+-_+"px",threshold:gr(0,ia(1,u))||1};let M=!0;function L(D){const F=D[0].intersectionRatio;if(F!==u){if(!M)return l();F?l(!1,F):n=setTimeout(()=>{l(!1,1e-7)},1e3)}F===1&&!m_(h,r.getBoundingClientRect())&&l(),M=!1}try{t=new IntersectionObserver(L,{...T,root:s.ownerDocument})}catch{t=new IntersectionObserver(L,T)}t.observe(r)}return l(!0),o}function g_(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,h=Ob(r),p=s||o?[...h?ph(h):[],...ph(e)]:[];p.forEach(_=>{s&&_.addEventListener("scroll",t,{passive:!0}),o&&_.addEventListener("resize",t)});const m=h&&c?SF(h,t):null;let v=-1,w=null;l&&(w=new ResizeObserver(_=>{let[k]=_;k&&k.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var T;(T=w)==null||T.observe(e)})),t()}),h&&!u&&w.observe(h),w.observe(e));let b,x=u?Bl(r):null;u&&C();function C(){const _=Bl(r);x&&!m_(x,_)&&t(),x=_,b=requestAnimationFrame(C)}return t(),()=>{var _;p.forEach(k=>{s&&k.removeEventListener("scroll",t),o&&k.removeEventListener("resize",t)}),m==null||m(),(_=w)==null||_.disconnect(),w=null,u&&cancelAnimationFrame(b)}}const AF=nF,EF=rF,CF=ZO,_F=iF,kF=eF,VE=JO,TF=sF,PF=(r,e,t)=>{const n=new Map,s={platform:xF,...t},o={...s.platform,_c:n};return QO(r,e,{...s,platform:o})};var Em=typeof document<"u"?S.useLayoutEffect:S.useEffect;function og(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,s;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!og(r[n],e[n]))return!1;return!0}if(s=Object.keys(r),t=s.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=t;n--!==0;){const o=s[n];if(!(o==="_owner"&&r.$$typeof)&&!og(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function v_(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function GE(r,e){const t=v_(r);return Math.round(e*t)/t}function p0(r){const e=S.useRef(r);return Em(()=>{e.current=r}),e}function y_(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:u,open:h}=r,[p,m]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,w]=S.useState(n);og(v,n)||w(n);const[b,x]=S.useState(null),[C,_]=S.useState(null),k=S.useCallback(z=>{z!==D.current&&(D.current=z,x(z))},[]),T=S.useCallback(z=>{z!==F.current&&(F.current=z,_(z))},[]),M=o||b,L=l||C,D=S.useRef(null),F=S.useRef(null),j=S.useRef(p),W=u!=null,X=p0(u),Q=p0(s),ue=p0(h),oe=S.useCallback(()=>{if(!D.current||!F.current)return;const z={placement:e,strategy:t,middleware:v};Q.current&&(z.platform=Q.current),PF(D.current,F.current,z).then(te=>{const Z={...te,isPositioned:ue.current!==!1};he.current&&!og(j.current,Z)&&(j.current=Z,Jl.flushSync(()=>{m(Z)}))})},[v,e,t,Q,ue]);Em(()=>{h===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,m(z=>({...z,isPositioned:!1})))},[h]);const he=S.useRef(!1);Em(()=>(he.current=!0,()=>{he.current=!1}),[]),Em(()=>{if(M&&(D.current=M),L&&(F.current=L),M&&L){if(X.current)return X.current(M,L,oe);oe()}},[M,L,oe,X,W]);const ae=S.useMemo(()=>({reference:D,floating:F,setReference:k,setFloating:T}),[k,T]),q=S.useMemo(()=>({reference:M,floating:L}),[M,L]),J=S.useMemo(()=>{const z={position:t,left:0,top:0};if(!q.floating)return z;const te=GE(q.floating,p.x),Z=GE(q.floating,p.y);return c?{...z,transform:"translate("+te+"px, "+Z+"px)",...v_(q.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:te,top:Z}},[t,c,q.floating,p.x,p.y]);return S.useMemo(()=>({...p,update:oe,refs:ae,elements:q,floatingStyles:J}),[p,oe,ae,q,J])}const RF=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:s}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?VE({element:n.current,padding:s}).fn(t):{}:n?VE({element:n,padding:s}).fn(t):{}}}},w_=(r,e)=>({...AF(r),options:[r,e]}),b_=(r,e)=>({...EF(r),options:[r,e]}),x_=(r,e)=>({...TF(r),options:[r,e]}),S_=(r,e)=>({...CF(r),options:[r,e]}),A_=(r,e)=>({..._F(r),options:[r,e]}),E_=(r,e)=>({...kF(r),options:[r,e]}),C_=(r,e)=>({...RF(r),options:[r,e]});var NF="Arrow",__=S.forwardRef((r,e)=>{const{children:t,width:n=10,height:s=5,...o}=r;return A.jsx(ha.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?t:A.jsx("polygon",{points:"0,0 30,0 15,10"})})});__.displayName=NF;var MF=__;function k_(r){const[e,t]=S.useState(void 0);return Ct(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,c=h.blockSize}else l=r.offsetWidth,c=r.offsetHeight;t({width:l,height:c})});return n.observe(r,{box:"border-box"}),()=>n.unobserve(r)}else t(void 0)},[r]),e}var jb="Popper",[T_,P_]=zr(jb),[IF,R_]=T_(jb),N_=r=>{const{__scopePopper:e,children:t}=r,[n,s]=S.useState(null);return A.jsx(IF,{scope:e,anchor:n,onAnchorChange:s,children:t})};N_.displayName=jb;var M_="PopperAnchor",I_=S.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:n,...s}=r,o=R_(M_,t),l=S.useRef(null),c=Ve(e,l);return S.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:A.jsx(ha.div,{...s,ref:c})});I_.displayName=M_;var $b="PopperContent",[LF,DF]=T_($b),L_=S.forwardRef((r,e)=>{var K,me,Ce,Te,je,$e;const{__scopePopper:t,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:b,...x}=r,C=R_($b,t),[_,k]=S.useState(null),T=Ve(e,at=>k(at)),[M,L]=S.useState(null),D=k_(M),F=(D==null?void 0:D.width)??0,j=(D==null?void 0:D.height)??0,W=n+(o!=="center"?"-"+o:""),X=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},Q=Array.isArray(h)?h:[h],ue=Q.length>0,oe={padding:X,boundary:Q.filter(FF),altBoundary:ue},{refs:he,floatingStyles:ae,placement:q,isPositioned:J,middlewareData:z}=y_({strategy:"fixed",placement:W,whileElementsMounted:(...at)=>g_(...at,{animationFrame:w==="always"}),elements:{reference:C.anchor},middleware:[w_({mainAxis:s+j,alignmentAxis:l}),u&&b_({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?x_():void 0,...oe}),u&&S_({...oe}),A_({...oe,apply:({elements:at,rects:kt,availableWidth:br,availableHeight:er})=>{const{width:an,height:Qs}=kt.reference,mt=at.floating.style;mt.setProperty("--radix-popper-available-width",`${br}px`),mt.setProperty("--radix-popper-available-height",`${er}px`),mt.setProperty("--radix-popper-anchor-width",`${an}px`),mt.setProperty("--radix-popper-anchor-height",`${Qs}px`)}}),M&&C_({element:M,padding:c}),jF({arrowWidth:F,arrowHeight:j}),v&&E_({strategy:"referenceHidden",...oe})]}),[te,Z]=F_(q),$=Ft(b);Ct(()=>{J&&($==null||$())},[J,$]);const G=(K=z.arrow)==null?void 0:K.x,ee=(me=z.arrow)==null?void 0:me.y,de=((Ce=z.arrow)==null?void 0:Ce.centerOffset)!==0,[Ae,ce]=S.useState();return Ct(()=>{_&&ce(window.getComputedStyle(_).zIndex)},[_]),A.jsx("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:J?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(Te=z.transformOrigin)==null?void 0:Te.x,(je=z.transformOrigin)==null?void 0:je.y].join(" "),...(($e=z.hide)==null?void 0:$e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:A.jsx(LF,{scope:t,placedSide:te,onArrowChange:L,arrowX:G,arrowY:ee,shouldHideArrow:de,children:A.jsx(ha.div,{"data-side":te,"data-align":Z,...x,ref:T,style:{...x.style,animation:J?void 0:"none"}})})})});L_.displayName=$b;var D_="PopperArrow",OF={top:"bottom",right:"left",bottom:"top",left:"right"},O_=S.forwardRef(function(e,t){const{__scopePopper:n,...s}=e,o=DF(D_,n),l=OF[o.placedSide];return A.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:A.jsx(MF,{...s,ref:t,style:{...s.style,display:"block"}})})});O_.displayName=D_;function FF(r){return r!==null}var jF=r=>({name:"transformOrigin",options:r,fn(e){var C,_,k;const{placement:t,rects:n,middlewareData:s}=e,l=((C=s.arrow)==null?void 0:C.centerOffset)!==0,c=l?0:r.arrowWidth,u=l?0:r.arrowHeight,[h,p]=F_(t),m={start:"0%",center:"50%",end:"100%"}[p],v=(((_=s.arrow)==null?void 0:_.x)??0)+c/2,w=(((k=s.arrow)==null?void 0:k.y)??0)+u/2;let b="",x="";return h==="bottom"?(b=l?m:`${v}px`,x=`${-u}px`):h==="top"?(b=l?m:`${v}px`,x=`${n.floating.height+u}px`):h==="right"?(b=`${-u}px`,x=l?m:`${w}px`):h==="left"&&(b=`${n.floating.width+u}px`,x=l?m:`${w}px`),{data:{x:b,y:x}}}});function F_(r){const[e,t="center"]=r.split("-");return[e,t]}var $F=N_,zF=I_,HF=L_,BF=O_,WF="Portal",j_=S.forwardRef((r,e)=>{var c;const{container:t,...n}=r,[s,o]=S.useState(!1);Ct(()=>o(!0),[]);const l=t||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Fg.createPortal(A.jsx(ha.div,{...n,ref:e}),l):null});j_.displayName=WF;var UF=Symbol("radix.slottable");function VF(r){const e=({children:t})=>A.jsx(A.Fragment,{children:t});return e.displayName=`${r}.Slottable`,e.__radixId=UF,e}var GF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YF="VisuallyHidden",$_=S.forwardRef((r,e)=>A.jsx(ha.span,{...r,ref:e,style:{...GF,...r.style}}));$_.displayName=YF;var XF=$_,[Yg,j5]=zr("Tooltip",[P_]),Xg=P_(),z_="TooltipProvider",qF=700,D0="tooltip.open",[KF,zb]=Yg(z_),H_=r=>{const{__scopeTooltip:e,delayDuration:t=qF,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=r,l=S.useRef(!0),c=S.useRef(!1),u=S.useRef(0);return S.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),A.jsx(KF,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:S.useCallback(()=>{window.clearTimeout(u.current),l.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:S.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:o})};H_.displayName=z_;var mh="Tooltip",[QF,$f]=Yg(mh),B_=r=>{const{__scopeTooltip:e,children:t,open:n,defaultOpen:s,onOpenChange:o,disableHoverableContent:l,delayDuration:c}=r,u=zb(mh,r.__scopeTooltip),h=Xg(e),[p,m]=S.useState(null),v=fs(),w=S.useRef(0),b=l??u.disableHoverableContent,x=c??u.delayDuration,C=S.useRef(!1),[_,k]=Gi({prop:n,defaultProp:s??!1,onChange:F=>{F?(u.onOpen(),document.dispatchEvent(new CustomEvent(D0))):u.onClose(),o==null||o(F)},caller:mh}),T=S.useMemo(()=>_?C.current?"delayed-open":"instant-open":"closed",[_]),M=S.useCallback(()=>{window.clearTimeout(w.current),w.current=0,C.current=!1,k(!0)},[k]),L=S.useCallback(()=>{window.clearTimeout(w.current),w.current=0,k(!1)},[k]),D=S.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{C.current=!0,k(!0),w.current=0},x)},[x,k]);return S.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),A.jsx($F,{...h,children:A.jsx(QF,{scope:e,contentId:v,open:_,stateAttribute:T,trigger:p,onTriggerChange:m,onTriggerEnter:S.useCallback(()=>{u.isOpenDelayedRef.current?D():M()},[u.isOpenDelayedRef,D,M]),onTriggerLeave:S.useCallback(()=>{b?L():(window.clearTimeout(w.current),w.current=0)},[L,b]),onOpen:M,onClose:L,disableHoverableContent:b,children:t})})};B_.displayName=mh;var O0="TooltipTrigger",W_=S.forwardRef((r,e)=>{const{__scopeTooltip:t,...n}=r,s=$f(O0,t),o=zb(O0,t),l=Xg(t),c=S.useRef(null),u=Ve(e,c,s.onTriggerChange),h=S.useRef(!1),p=S.useRef(!1),m=S.useCallback(()=>h.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),A.jsx(zF,{asChild:!0,...l,children:A.jsx(ha.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:u,onPointerMove:Pe(r.onPointerMove,v=>{v.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:Pe(r.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:Pe(r.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Pe(r.onFocus,()=>{h.current||s.onOpen()}),onBlur:Pe(r.onBlur,s.onClose),onClick:Pe(r.onClick,s.onClose)})})});W_.displayName=O0;var Hb="TooltipPortal",[JF,ZF]=Yg(Hb,{forceMount:void 0}),U_=r=>{const{__scopeTooltip:e,forceMount:t,children:n,container:s}=r,o=$f(Hb,e);return A.jsx(JF,{scope:e,forceMount:t,children:A.jsx(Hr,{present:t||o.open,children:A.jsx(j_,{asChild:!0,container:s,children:n})})})};U_.displayName=Hb;var Wu="TooltipContent",V_=S.forwardRef((r,e)=>{const t=ZF(Wu,r.__scopeTooltip),{forceMount:n=t.forceMount,side:s="top",...o}=r,l=$f(Wu,r.__scopeTooltip);return A.jsx(Hr,{present:n||l.open,children:l.disableHoverableContent?A.jsx(G_,{side:s,...o,ref:e}):A.jsx(ej,{side:s,...o,ref:e})})}),ej=S.forwardRef((r,e)=>{const t=$f(Wu,r.__scopeTooltip),n=zb(Wu,r.__scopeTooltip),s=S.useRef(null),o=Ve(e,s),[l,c]=S.useState(null),{trigger:u,onClose:h}=t,p=s.current,{onPointerInTransitChange:m}=n,v=S.useCallback(()=>{c(null),m(!1)},[m]),w=S.useCallback((b,x)=>{const C=b.currentTarget,_={x:b.clientX,y:b.clientY},k=sj(_,C.getBoundingClientRect()),T=ij(_,k),M=oj(x.getBoundingClientRect()),L=lj([...T,...M]);c(L),m(!0)},[m]);return S.useEffect(()=>()=>v(),[v]),S.useEffect(()=>{if(u&&p){const b=C=>w(C,p),x=C=>w(C,u);return u.addEventListener("pointerleave",b),p.addEventListener("pointerleave",x),()=>{u.removeEventListener("pointerleave",b),p.removeEventListener("pointerleave",x)}}},[u,p,w,v]),S.useEffect(()=>{if(l){const b=x=>{const C=x.target,_={x:x.clientX,y:x.clientY},k=(u==null?void 0:u.contains(C))||(p==null?void 0:p.contains(C)),T=!aj(_,l);k?v():T&&(v(),h())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[u,p,l,h,v]),A.jsx(G_,{...r,ref:o})}),[tj,nj]=Yg(mh,{isInside:!1}),rj=VF("TooltipContent"),G_=S.forwardRef((r,e)=>{const{__scopeTooltip:t,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...c}=r,u=$f(Wu,t),h=Xg(t),{onClose:p}=u;return S.useEffect(()=>(document.addEventListener(D0,p),()=>document.removeEventListener(D0,p)),[p]),S.useEffect(()=>{if(u.trigger){const m=v=>{const w=v.target;w!=null&&w.contains(u.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,p]),A.jsx(i_,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:A.jsxs(HF,{"data-state":u.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[A.jsx(rj,{children:n}),A.jsx(tj,{scope:t,isInside:!0,children:A.jsx(XF,{id:u.contentId,role:"tooltip",children:s||n})})]})})});V_.displayName=Wu;var Y_="TooltipArrow",X_=S.forwardRef((r,e)=>{const{__scopeTooltip:t,...n}=r,s=Xg(t);return nj(Y_,t).isInside?null:A.jsx(BF,{...s,...n,ref:e})});X_.displayName=Y_;function sj(r,e){const t=Math.abs(e.top-r.y),n=Math.abs(e.bottom-r.y),s=Math.abs(e.right-r.x),o=Math.abs(e.left-r.x);switch(Math.min(t,n,s,o)){case o:return"left";case s:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function ij(r,e,t=5){const n=[];switch(e){case"top":n.push({x:r.x-t,y:r.y+t},{x:r.x+t,y:r.y+t});break;case"bottom":n.push({x:r.x-t,y:r.y-t},{x:r.x+t,y:r.y-t});break;case"left":n.push({x:r.x+t,y:r.y-t},{x:r.x+t,y:r.y+t});break;case"right":n.push({x:r.x-t,y:r.y-t},{x:r.x-t,y:r.y+t});break}return n}function oj(r){const{top:e,right:t,bottom:n,left:s}=r;return[{x:s,y:e},{x:t,y:e},{x:t,y:n},{x:s,y:n}]}function aj(r,e){const{x:t,y:n}=r;let s=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const c=e[o],u=e[l],h=c.x,p=c.y,m=u.x,v=u.y;p>n!=v>n&&t<(m-h)*(n-p)/(v-p)+h&&(s=!s)}return s}function lj(r){const e=r.slice();return e.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),cj(e)}function cj(r){if(r.length<=1)return r.slice();const e=[];for(let n=0;n<r.length;n++){const s=r[n];for(;e.length>=2;){const o=e[e.length-1],l=e[e.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let n=r.length-1;n>=0;n--){const s=r[n];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var uj=H_,dj=B_,hj=W_,fj=U_,pj=V_,mj=X_;function q_({delayDuration:r=0,...e}){return A.jsx(uj,{"data-slot":"tooltip-provider",delayDuration:r,...e})}function gj({...r}){return A.jsx(q_,{children:A.jsx(dj,{"data-slot":"tooltip",...r})})}function vj({...r}){return A.jsx(hj,{"data-slot":"tooltip-trigger",...r})}function yj({className:r,sideOffset:e=0,children:t,...n}){return A.jsx(fj,{children:A.jsxs(pj,{"data-slot":"tooltip-content",sideOffset:e,className:ke("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",r),...n,children:[t,A.jsx(mj,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const wj="sidebar_state",bj=60*60*24*7,xj="16rem",Sj="18rem",Aj="3rem",Ej="b",K_=S.createContext(null);function Bb(){const r=S.useContext(K_);if(!r)throw new Error("useSidebar must be used within a SidebarProvider.");return r}function Cj({defaultOpen:r=!0,open:e,onOpenChange:t,className:n,style:s,children:o,...l}){const c=p2(),[u,h]=S.useState(!1),[p,m]=S.useState(r),v=e??p,w=S.useCallback(_=>{const k=typeof _=="function"?_(v):_;t?t(k):m(k),document.cookie=`${wj}=${k}; path=/; max-age=${bj}`},[t,v]),b=S.useCallback(()=>c?h(_=>!_):w(_=>!_),[c,w,h]);S.useEffect(()=>{const _=k=>{k.key===Ej&&(k.metaKey||k.ctrlKey)&&(k.preventDefault(),b())};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[b]);const x=v?"expanded":"collapsed",C=S.useMemo(()=>({state:x,open:v,setOpen:w,isMobile:c,openMobile:u,setOpenMobile:h,toggleSidebar:b}),[x,v,w,c,u,h,b]);return A.jsx(K_.Provider,{value:C,children:A.jsx(q_,{delayDuration:0,children:A.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":xj,"--sidebar-width-icon":Aj,...s},className:ke("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...l,children:o})})})}function _j({side:r="left",variant:e="sidebar",collapsible:t="offcanvas",className:n,children:s,...o}){const{isMobile:l,state:c,openMobile:u,setOpenMobile:h}=Bb();return t==="none"?A.jsx("div",{"data-slot":"sidebar",className:ke("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",n),...o,children:s}):l?A.jsx(PO,{open:u,onOpenChange:h,...o,children:A.jsxs(MO,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":Sj},side:r,children:[A.jsxs(IO,{className:"sr-only",children:[A.jsx(LO,{children:"Sidebar"}),A.jsx(DO,{children:"Displays the mobile sidebar."})]}),A.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):A.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":c,"data-collapsible":c==="collapsed"?t:"","data-variant":e,"data-side":r,"data-slot":"sidebar",children:[A.jsx("div",{"data-slot":"sidebar-gap",className:ke("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),A.jsx("div",{"data-slot":"sidebar-container",className:ke("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",r==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...o,children:A.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function kj({className:r,onClick:e,...t}){const{toggleSidebar:n}=Bb();return A.jsxs(Dn,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:ke("size-7",r),onClick:s=>{e==null||e(s),n()},...t,children:[A.jsx(r2,{}),A.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function Tj({className:r,...e}){return A.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:ke("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",r),...e})}function Pj({className:r,...e}){return A.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:ke("relative flex w-full min-w-0 flex-col p-2",r),...e})}function Rj({className:r,asChild:e=!1,...t}){const n=e?jg:"div";return A.jsx(n,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:ke("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",r),...t})}function Nj({className:r,...e}){return A.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:ke("w-full text-sm",r),...e})}function Mj({className:r,...e}){return A.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:ke("flex w-full min-w-0 flex-col gap-1",r),...e})}function Ij({className:r,...e}){return A.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:ke("group/menu-item relative",r),...e})}const Lj=$g("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Dj({asChild:r=!1,isActive:e=!1,variant:t="default",size:n="default",tooltip:s,className:o,...l}){const c=r?jg:"button",{isMobile:u,state:h}=Bb(),p=A.jsx(c,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":e,className:ke(Lj({variant:t,size:n}),o),...l});return s?(typeof s=="string"&&(s={children:s}),A.jsxs(gj,{children:[A.jsx(vj,{asChild:!0,children:p}),A.jsx(yj,{side:"right",align:"center",hidden:h!=="collapsed"||u,...s})]})):p}const Oj=[{title:"Home",url:"/",icon:JL},{title:"Query Builder",url:"/query",icon:KL},{title:"Upload",url:"/upload",icon:Sb}];function Fj(){return A.jsx(_j,{children:A.jsx(Tj,{children:A.jsxs(Pj,{children:[A.jsx(Rj,{children:"Application"}),A.jsx(Nj,{children:A.jsx(Mj,{children:Oj.map(r=>A.jsx(Ij,{children:A.jsx(Dj,{asChild:!0,children:A.jsxs(iC,{to:r.url,className:"flex items-center",children:[A.jsx(r.icon,{className:"mr-2"}),A.jsx("span",{children:r.title})]})})},r.title))})})]})})})}var jj=(r,e,t,n,s,o,l,c)=>{let u=document.documentElement,h=["light","dark"];function p(w){(Array.isArray(r)?r:[r]).forEach(b=>{let x=b==="class",C=x&&o?s.map(_=>o[_]||_):s;x?(u.classList.remove(...C),u.classList.add(o&&o[w]?o[w]:w)):u.setAttribute(b,w)}),m(w)}function m(w){c&&h.includes(w)&&(u.style.colorScheme=w)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)p(n);else try{let w=localStorage.getItem(e)||t,b=l&&w==="system"?v():w;p(b)}catch{}},$j=S.createContext(void 0),zj={setTheme:r=>{},themes:[]},Hj=()=>{var r;return(r=S.useContext($j))!=null?r:zj};S.memo(({forcedTheme:r,storageKey:e,attribute:t,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:l,themes:c,nonce:u,scriptProps:h})=>{let p=JSON.stringify([t,e,o,r,c,l,n,s]).slice(1,-1);return S.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${jj.toString()})(${p})`}})});function Bj(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}const Wj=r=>{switch(r){case"success":return Gj;case"info":return Xj;case"warning":return Yj;case"error":return qj;default:return null}},Uj=Array(12).fill(0),Vj=({visible:r,className:e})=>se.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},se.createElement("div",{className:"sonner-spinner"},Uj.map((t,n)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Gj=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Yj=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Xj=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qj=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Kj=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Qj=()=>{const[r,e]=se.useState(document.hidden);return se.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r};let F0=1;class Jj{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...s}=e,o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:F0++,l=this.toasts.find(u=>u.id===o),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(u=>u.id===o?(this.publish({...u,...e,id:o,title:n}),{...u,...e,id:o,dismissible:c,title:n}):u):this.addToast({title:n,...s,dismissible:c,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=n!==void 0,l;const c=s.then(async h=>{if(l=["resolve",h],se.isValidElement(h))o=!1,this.create({id:n,type:"default",message:h});else if(e$(h)&&!h.ok){o=!1;const m=typeof t.error=="function"?await t.error(`HTTP error! status: ${h.status}`):t.error,v=typeof t.description=="function"?await t.description(`HTTP error! status: ${h.status}`):t.description,b=typeof m=="object"&&!se.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:v,...b})}else if(h instanceof Error){o=!1;const m=typeof t.error=="function"?await t.error(h):t.error,v=typeof t.description=="function"?await t.description(h):t.description,b=typeof m=="object"&&!se.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:v,...b})}else if(t.success!==void 0){o=!1;const m=typeof t.success=="function"?await t.success(h):t.success,v=typeof t.description=="function"?await t.description(h):t.description,b=typeof m=="object"&&!se.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:v,...b})}}).catch(async h=>{if(l=["reject",h],t.error!==void 0){o=!1;const p=typeof t.error=="function"?await t.error(h):t.error,m=typeof t.description=="function"?await t.description(h):t.description,w=typeof p=="object"&&!se.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:m,...w})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),t.finally==null||t.finally.call(t)}),u=()=>new Promise((h,p)=>c.then(()=>l[0]==="reject"?p(l[1]):h(l[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(e,t)=>{const n=(t==null?void 0:t.id)||F0++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Qn=new Jj,Zj=(r,e)=>{const t=(e==null?void 0:e.id)||F0++;return Qn.addToast({title:r,...e,id:t}),t},e$=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",t$=Zj,n$=()=>Qn.toasts,r$=()=>Qn.getActiveToasts(),$i=Object.assign(t$,{success:Qn.success,info:Qn.info,warning:Qn.warning,error:Qn.error,custom:Qn.custom,message:Qn.message,promise:Qn.promise,dismiss:Qn.dismiss,loading:Qn.loading},{getHistory:n$,getToasts:r$});Bj("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function hm(r){return r.label!==void 0}const s$=3,i$="24px",o$="16px",YE=4e3,a$=356,l$=14,c$=45,u$=200;function Cs(...r){return r.filter(Boolean).join(" ")}function d$(r){const[e,t]=r.split("-"),n=[];return e&&n.push(e),t&&n.push(t),n}const h$=r=>{var e,t,n,s,o,l,c,u,h;const{invert:p,toast:m,unstyled:v,interacting:w,setHeights:b,visibleToasts:x,heights:C,index:_,toasts:k,expanded:T,removeToast:M,defaultRichColors:L,closeButton:D,style:F,cancelButtonStyle:j,actionButtonStyle:W,className:X="",descriptionClassName:Q="",duration:ue,position:oe,gap:he,expandByDefault:ae,classNames:q,icons:J,closeButtonAriaLabel:z="Close toast"}=r,[te,Z]=se.useState(null),[$,G]=se.useState(null),[ee,de]=se.useState(!1),[Ae,ce]=se.useState(!1),[K,me]=se.useState(!1),[Ce,Te]=se.useState(!1),[je,$e]=se.useState(!1),[at,kt]=se.useState(0),[br,er]=se.useState(0),an=se.useRef(m.duration||ue||YE),Qs=se.useRef(null),mt=se.useRef(null),va=_===0,Ji=_+1<=x,ln=m.type,Js=m.dismissible!==!1,Gf=m.className||"",Yf=m.descriptionClassName||"",ya=se.useMemo(()=>C.findIndex(Fe=>Fe.toastId===m.id)||0,[C,m.id]),Qu=se.useMemo(()=>{var Fe;return(Fe=m.closeButton)!=null?Fe:D},[m.closeButton,D]),wa=se.useMemo(()=>m.duration||ue||YE,[m.duration,ue]),nc=se.useRef(0),xr=se.useRef(0),Zi=se.useRef(0),eo=se.useRef(null),[Xf,qf]=oe.split("-"),Kf=se.useMemo(()=>C.reduce((Fe,Tt,zt)=>zt>=ya?Fe:Fe+Tt.height,0),[C,ya]),rc=Qj(),Ju=m.invert||p,ba=ln==="loading";xr.current=se.useMemo(()=>ya*he+Kf,[ya,Kf]),se.useEffect(()=>{an.current=wa},[wa]),se.useEffect(()=>{de(!0)},[]),se.useEffect(()=>{const Fe=mt.current;if(Fe){const Tt=Fe.getBoundingClientRect().height;return er(Tt),b(zt=>[{toastId:m.id,height:Tt,position:m.position},...zt]),()=>b(zt=>zt.filter(vn=>vn.toastId!==m.id))}},[b,m.id]),se.useLayoutEffect(()=>{if(!ee)return;const Fe=mt.current,Tt=Fe.style.height;Fe.style.height="auto";const zt=Fe.getBoundingClientRect().height;Fe.style.height=Tt,er(zt),b(vn=>vn.find(It=>It.toastId===m.id)?vn.map(It=>It.toastId===m.id?{...It,height:zt}:It):[{toastId:m.id,height:zt,position:m.position},...vn])},[ee,m.title,m.description,b,m.id]);const Sr=se.useCallback(()=>{ce(!0),kt(xr.current),b(Fe=>Fe.filter(Tt=>Tt.toastId!==m.id)),setTimeout(()=>{M(m)},u$)},[m,M,b,xr]);se.useEffect(()=>{if(m.promise&&ln==="loading"||m.duration===1/0||m.type==="loading")return;let Fe;return T||w||rc?(()=>{if(Zi.current<nc.current){const vn=new Date().getTime()-nc.current;an.current=an.current-vn}Zi.current=new Date().getTime()})():(()=>{an.current!==1/0&&(nc.current=new Date().getTime(),Fe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Sr()},an.current))})(),()=>clearTimeout(Fe)},[T,w,m,ln,rc,Sr]),se.useEffect(()=>{m.delete&&Sr()},[Sr,m.delete]);function Zu(){var Fe;if(J!=null&&J.loading){var Tt;return se.createElement("div",{className:Cs(q==null?void 0:q.loader,m==null||(Tt=m.classNames)==null?void 0:Tt.loader,"sonner-loader"),"data-visible":ln==="loading"},J.loading)}return se.createElement(Vj,{className:Cs(q==null?void 0:q.loader,m==null||(Fe=m.classNames)==null?void 0:Fe.loader),visible:ln==="loading"})}const to=m.icon||(J==null?void 0:J[ln])||Wj(ln);var Zs,ed;return se.createElement("li",{tabIndex:0,ref:mt,className:Cs(X,Gf,q==null?void 0:q.toast,m==null||(e=m.classNames)==null?void 0:e.toast,q==null?void 0:q.default,q==null?void 0:q[ln],m==null||(t=m.classNames)==null?void 0:t[ln]),"data-sonner-toast":"","data-rich-colors":(Zs=m.richColors)!=null?Zs:L,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":ee,"data-promise":!!m.promise,"data-swiped":je,"data-removed":Ae,"data-visible":Ji,"data-y-position":Xf,"data-x-position":qf,"data-index":_,"data-front":va,"data-swiping":K,"data-dismissible":Js,"data-type":ln,"data-invert":Ju,"data-swipe-out":Ce,"data-swipe-direction":$,"data-expanded":!!(T||ae&&ee),style:{"--index":_,"--toasts-before":_,"--z-index":k.length-_,"--offset":`${Ae?at:xr.current}px`,"--initial-height":ae?"auto":`${br}px`,...F,...m.style},onDragEnd:()=>{me(!1),Z(null),eo.current=null},onPointerDown:Fe=>{ba||!Js||(Qs.current=new Date,kt(xr.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(me(!0),eo.current={x:Fe.clientX,y:Fe.clientY}))},onPointerUp:()=>{var Fe,Tt,zt;if(Ce||!Js)return;eo.current=null;const vn=Number(((Fe=mt.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),no=Number(((Tt=mt.current)==null?void 0:Tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),It=new Date().getTime()-((zt=Qs.current)==null?void 0:zt.getTime()),Qt=te==="x"?vn:no,ro=Math.abs(Qt)/It;if(Math.abs(Qt)>=c$||ro>.11){kt(xr.current),m.onDismiss==null||m.onDismiss.call(m,m),G(te==="x"?vn>0?"right":"left":no>0?"down":"up"),Sr(),Te(!0);return}else{var cn,tr;(cn=mt.current)==null||cn.style.setProperty("--swipe-amount-x","0px"),(tr=mt.current)==null||tr.style.setProperty("--swipe-amount-y","0px")}$e(!1),me(!1),Z(null)},onPointerMove:Fe=>{var Tt,zt,vn;if(!eo.current||!Js||((Tt=window.getSelection())==null?void 0:Tt.toString().length)>0)return;const It=Fe.clientY-eo.current.y,Qt=Fe.clientX-eo.current.x;var ro;const cn=(ro=r.swipeDirections)!=null?ro:d$(oe);!te&&(Math.abs(Qt)>1||Math.abs(It)>1)&&Z(Math.abs(Qt)>Math.abs(It)?"x":"y");let tr={x:0,y:0};const so=Ar=>1/(1.5+Math.abs(Ar)/20);if(te==="y"){if(cn.includes("top")||cn.includes("bottom"))if(cn.includes("top")&&It<0||cn.includes("bottom")&&It>0)tr.y=It;else{const Ar=It*so(It);tr.y=Math.abs(Ar)<Math.abs(It)?Ar:It}}else if(te==="x"&&(cn.includes("left")||cn.includes("right")))if(cn.includes("left")&&Qt<0||cn.includes("right")&&Qt>0)tr.x=Qt;else{const Ar=Qt*so(Qt);tr.x=Math.abs(Ar)<Math.abs(Qt)?Ar:Qt}(Math.abs(tr.x)>0||Math.abs(tr.y)>0)&&$e(!0),(zt=mt.current)==null||zt.style.setProperty("--swipe-amount-x",`${tr.x}px`),(vn=mt.current)==null||vn.style.setProperty("--swipe-amount-y",`${tr.y}px`)}},Qu&&!m.jsx&&ln!=="loading"?se.createElement("button",{"aria-label":z,"data-disabled":ba,"data-close-button":!0,onClick:ba||!Js?()=>{}:()=>{Sr(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Cs(q==null?void 0:q.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(ed=J==null?void 0:J.close)!=null?ed:Kj):null,(ln||m.icon||m.promise)&&m.icon!==null&&((J==null?void 0:J[ln])!==null||m.icon)?se.createElement("div",{"data-icon":"",className:Cs(q==null?void 0:q.icon,m==null||(s=m.classNames)==null?void 0:s.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Zu():null,m.type!=="loading"?to:null):null,se.createElement("div",{"data-content":"",className:Cs(q==null?void 0:q.content,m==null||(o=m.classNames)==null?void 0:o.content)},se.createElement("div",{"data-title":"",className:Cs(q==null?void 0:q.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?se.createElement("div",{"data-description":"",className:Cs(Q,Yf,q==null?void 0:q.description,m==null||(c=m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),se.isValidElement(m.cancel)?m.cancel:m.cancel&&hm(m.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||j,onClick:Fe=>{hm(m.cancel)&&Js&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Fe),Sr())},className:Cs(q==null?void 0:q.cancelButton,m==null||(u=m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,se.isValidElement(m.action)?m.action:m.action&&hm(m.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||W,onClick:Fe=>{hm(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Fe),!Fe.defaultPrevented&&Sr())},className:Cs(q==null?void 0:q.actionButton,m==null||(h=m.classNames)==null?void 0:h.actionButton)},m.action.label):null)};function XE(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function f$(r,e){const t={};return[r,e].forEach((n,s)=>{const o=s===1,l=o?"--mobile-offset":"--offset",c=o?o$:i$;function u(h){["top","right","bottom","left"].forEach(p=>{t[`${l}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?t[`${l}-${h}`]=c:t[`${l}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):u(c)}),t}const p$=se.forwardRef(function(e,t){const{invert:n,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:h,mobileOffset:p,theme:m="light",richColors:v,duration:w,style:b,visibleToasts:x=s$,toastOptions:C,dir:_=XE(),gap:k=l$,icons:T,containerAriaLabel:M="Notifications"}=e,[L,D]=se.useState([]),F=se.useMemo(()=>Array.from(new Set([s].concat(L.filter($=>$.position).map($=>$.position)))),[L,s]),[j,W]=se.useState([]),[X,Q]=se.useState(!1),[ue,oe]=se.useState(!1),[he,ae]=se.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=se.useRef(null),J=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=se.useRef(null),te=se.useRef(!1),Z=se.useCallback($=>{D(G=>{var ee;return(ee=G.find(de=>de.id===$.id))!=null&&ee.delete||Qn.dismiss($.id),G.filter(({id:de})=>de!==$.id)})},[]);return se.useEffect(()=>Qn.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{D(G=>G.map(ee=>ee.id===$.id?{...ee,delete:!0}:ee))});return}setTimeout(()=>{Fg.flushSync(()=>{D(G=>{const ee=G.findIndex(de=>de.id===$.id);return ee!==-1?[...G.slice(0,ee),{...G[ee],...$},...G.slice(ee+1)]:[$,...G]})})})}),[L]),se.useEffect(()=>{if(m!=="system"){ae(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ae("dark"):ae("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:G})=>{ae(G?"dark":"light")})}catch{$.addListener(({matches:ee})=>{try{ae(ee?"dark":"light")}catch(de){console.error(de)}})}},[m]),se.useEffect(()=>{L.length<=1&&Q(!1)},[L]),se.useEffect(()=>{const $=G=>{var ee;if(o.every(ce=>G[ce]||G.code===ce)){var Ae;Q(!0),(Ae=q.current)==null||Ae.focus()}G.code==="Escape"&&(document.activeElement===q.current||(ee=q.current)!=null&&ee.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[o]),se.useEffect(()=>{if(q.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,te.current=!1)}},[q.current]),se.createElement("section",{ref:t,"aria-label":`${M} ${J}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map(($,G)=>{var ee;const[de,Ae]=$.split("-");return L.length?se.createElement("ol",{key:$,dir:_==="auto"?XE():_,tabIndex:-1,ref:q,className:u,"data-sonner-toaster":!0,"data-sonner-theme":he,"data-y-position":de,"data-lifted":X&&L.length>1&&!l,"data-x-position":Ae,style:{"--front-toast-height":`${((ee=j[0])==null?void 0:ee.height)||0}px`,"--width":`${a$}px`,"--gap":`${k}px`,...b,...f$(h,p)},onBlur:ce=>{te.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(te.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||te.current||(te.current=!0,z.current=ce.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{ue||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||oe(!0)},onPointerUp:()=>oe(!1)},L.filter(ce=>!ce.position&&G===0||ce.position===$).map((ce,K)=>{var me,Ce;return se.createElement(h$,{key:ce.id,icons:T,index:K,toast:ce,defaultRichColors:v,duration:(me=C==null?void 0:C.duration)!=null?me:w,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:n,visibleToasts:x,closeButton:(Ce=C==null?void 0:C.closeButton)!=null?Ce:c,interacting:ue,position:$,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:Z,toasts:L.filter(Te=>Te.position==ce.position),heights:j.filter(Te=>Te.position==ce.position),setHeights:W,expandByDefault:l,gap:k,expanded:X,swipeDirections:e.swipeDirections})})):null}))}),m$=({...r})=>{const{theme:e="system"}=Hj();return A.jsx(p$,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r})};function g$({children:r}){return A.jsxs(Cj,{children:[A.jsx(Fj,{}),A.jsxs("main",{className:"p-4 w-full",children:[A.jsx(kj,{}),r,A.jsx(m$,{})]})]})}var v$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],y$=v$.reduce((r,e)=>{const t=$n(`Primitive.${e}`),n=S.forwardRef((s,o)=>{const{asChild:l,...c}=s,u=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(u,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{}),w$="Label",Q_=S.forwardRef((r,e)=>A.jsx(y$.label,{...r,ref:e,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=r.onMouseDown)==null||s.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Q_.displayName=w$;var b$=Q_;function Ro({className:r,...e}){return A.jsx(b$,{"data-slot":"label",className:ke("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...e})}function j0(r,[e,t]){return Math.min(t,Math.max(e,r))}function Wb(r){const e=r+"CollectionProvider",[t,n]=zr(e),[s,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:C,children:_}=x,k=se.useRef(null),T=se.useRef(new Map).current;return A.jsx(s,{scope:C,itemMap:T,collectionRef:k,children:_})};l.displayName=e;const c=r+"CollectionSlot",u=$n(c),h=se.forwardRef((x,C)=>{const{scope:_,children:k}=x,T=o(c,_),M=Ve(C,T.collectionRef);return A.jsx(u,{ref:M,children:k})});h.displayName=c;const p=r+"CollectionItemSlot",m="data-radix-collection-item",v=$n(p),w=se.forwardRef((x,C)=>{const{scope:_,children:k,...T}=x,M=se.useRef(null),L=Ve(C,M),D=o(p,_);return se.useEffect(()=>(D.itemMap.set(M,{ref:M,...T}),()=>void D.itemMap.delete(M))),A.jsx(v,{[m]:"",ref:L,children:k})});w.displayName=p;function b(x){const C=o(r+"CollectionConsumer",x);return se.useCallback(()=>{const k=C.collectionRef.current;if(!k)return[];const T=Array.from(k.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((D,F)=>T.indexOf(D.ref.current)-T.indexOf(F.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:h,ItemSlot:w},b,n]}var x$=S.createContext(void 0);function zf(r){const e=S.useContext(x$);return r||e||"ltr"}var S$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$t=S$.reduce((r,e)=>{const t=$n(`Primitive.${e}`),n=S.forwardRef((s,o)=>{const{asChild:l,...c}=s,u=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(u,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{});function A$(r,e){r&&Jl.flushSync(()=>r.dispatchEvent(e))}var E$="DismissableLayer",$0="dismissableLayer.update",C$="dismissableLayer.pointerDownOutside",_$="dismissableLayer.focusOutside",qE,J_=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Z_=S.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...u}=r,h=S.useContext(J_),[p,m]=S.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=S.useState({}),b=Ve(e,F=>m(F)),x=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(C),k=p?x.indexOf(p):-1,T=h.layersWithOutsidePointerEventsDisabled.size>0,M=k>=_,L=P$(F=>{const j=F.target,W=[...h.branches].some(X=>X.contains(j));!M||W||(s==null||s(F),l==null||l(F),F.defaultPrevented||c==null||c())},v),D=R$(F=>{const j=F.target;[...h.branches].some(X=>X.contains(j))||(o==null||o(F),l==null||l(F),F.defaultPrevented||c==null||c())},v);return Eb(F=>{k===h.layers.size-1&&(n==null||n(F),!F.defaultPrevented&&c&&(F.preventDefault(),c()))},v),S.useEffect(()=>{if(p)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(qE=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),KE(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=qE)}},[p,v,t,h]),S.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),KE())},[p,h]),S.useEffect(()=>{const F=()=>w({});return document.addEventListener($0,F),()=>document.removeEventListener($0,F)},[]),A.jsx($t.div,{...u,ref:b,style:{pointerEvents:T?M?"auto":"none":void 0,...r.style},onFocusCapture:Pe(r.onFocusCapture,D.onFocusCapture),onBlurCapture:Pe(r.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Pe(r.onPointerDownCapture,L.onPointerDownCapture)})});Z_.displayName=E$;var k$="DismissableLayerBranch",T$=S.forwardRef((r,e)=>{const t=S.useContext(J_),n=S.useRef(null),s=Ve(e,n);return S.useEffect(()=>{const o=n.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),A.jsx($t.div,{...r,ref:s})});T$.displayName=k$;function P$(r,e=globalThis==null?void 0:globalThis.document){const t=Ft(r),n=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let u=function(){ek(C$,t,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function R$(r,e=globalThis==null?void 0:globalThis.document){const t=Ft(r),n=S.useRef(!1);return S.useEffect(()=>{const s=o=>{o.target&&!n.current&&ek(_$,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function KE(){const r=new CustomEvent($0);document.dispatchEvent(r)}function ek(r,e,t,{discrete:n}){const s=t.originalEvent.target,o=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(r,e,{once:!0}),n?A$(s,o):s.dispatchEvent(o)}var N$="Arrow",tk=S.forwardRef((r,e)=>{const{children:t,width:n=10,height:s=5,...o}=r;return A.jsx($t.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?t:A.jsx("polygon",{points:"0,0 30,0 15,10"})})});tk.displayName=N$;var M$=tk,Ub="Popper",[nk,rk]=zr(Ub),[I$,sk]=nk(Ub),ik=r=>{const{__scopePopper:e,children:t}=r,[n,s]=S.useState(null);return A.jsx(I$,{scope:e,anchor:n,onAnchorChange:s,children:t})};ik.displayName=Ub;var ok="PopperAnchor",ak=S.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:n,...s}=r,o=sk(ok,t),l=S.useRef(null),c=Ve(e,l);return S.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:A.jsx($t.div,{...s,ref:c})});ak.displayName=ok;var Vb="PopperContent",[L$,D$]=nk(Vb),lk=S.forwardRef((r,e)=>{var K,me,Ce,Te,je,$e;const{__scopePopper:t,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:b,...x}=r,C=sk(Vb,t),[_,k]=S.useState(null),T=Ve(e,at=>k(at)),[M,L]=S.useState(null),D=k_(M),F=(D==null?void 0:D.width)??0,j=(D==null?void 0:D.height)??0,W=n+(o!=="center"?"-"+o:""),X=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},Q=Array.isArray(h)?h:[h],ue=Q.length>0,oe={padding:X,boundary:Q.filter(F$),altBoundary:ue},{refs:he,floatingStyles:ae,placement:q,isPositioned:J,middlewareData:z}=y_({strategy:"fixed",placement:W,whileElementsMounted:(...at)=>g_(...at,{animationFrame:w==="always"}),elements:{reference:C.anchor},middleware:[w_({mainAxis:s+j,alignmentAxis:l}),u&&b_({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?x_():void 0,...oe}),u&&S_({...oe}),A_({...oe,apply:({elements:at,rects:kt,availableWidth:br,availableHeight:er})=>{const{width:an,height:Qs}=kt.reference,mt=at.floating.style;mt.setProperty("--radix-popper-available-width",`${br}px`),mt.setProperty("--radix-popper-available-height",`${er}px`),mt.setProperty("--radix-popper-anchor-width",`${an}px`),mt.setProperty("--radix-popper-anchor-height",`${Qs}px`)}}),M&&C_({element:M,padding:c}),j$({arrowWidth:F,arrowHeight:j}),v&&E_({strategy:"referenceHidden",...oe})]}),[te,Z]=dk(q),$=Ft(b);Ct(()=>{J&&($==null||$())},[J,$]);const G=(K=z.arrow)==null?void 0:K.x,ee=(me=z.arrow)==null?void 0:me.y,de=((Ce=z.arrow)==null?void 0:Ce.centerOffset)!==0,[Ae,ce]=S.useState();return Ct(()=>{_&&ce(window.getComputedStyle(_).zIndex)},[_]),A.jsx("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:J?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(Te=z.transformOrigin)==null?void 0:Te.x,(je=z.transformOrigin)==null?void 0:je.y].join(" "),...(($e=z.hide)==null?void 0:$e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:A.jsx(L$,{scope:t,placedSide:te,onArrowChange:L,arrowX:G,arrowY:ee,shouldHideArrow:de,children:A.jsx($t.div,{"data-side":te,"data-align":Z,...x,ref:T,style:{...x.style,animation:J?void 0:"none"}})})})});lk.displayName=Vb;var ck="PopperArrow",O$={top:"bottom",right:"left",bottom:"top",left:"right"},uk=S.forwardRef(function(e,t){const{__scopePopper:n,...s}=e,o=D$(ck,n),l=O$[o.placedSide];return A.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:A.jsx(M$,{...s,ref:t,style:{...s.style,display:"block"}})})});uk.displayName=ck;function F$(r){return r!==null}var j$=r=>({name:"transformOrigin",options:r,fn(e){var C,_,k;const{placement:t,rects:n,middlewareData:s}=e,l=((C=s.arrow)==null?void 0:C.centerOffset)!==0,c=l?0:r.arrowWidth,u=l?0:r.arrowHeight,[h,p]=dk(t),m={start:"0%",center:"50%",end:"100%"}[p],v=(((_=s.arrow)==null?void 0:_.x)??0)+c/2,w=(((k=s.arrow)==null?void 0:k.y)??0)+u/2;let b="",x="";return h==="bottom"?(b=l?m:`${v}px`,x=`${-u}px`):h==="top"?(b=l?m:`${v}px`,x=`${n.floating.height+u}px`):h==="right"?(b=`${-u}px`,x=l?m:`${w}px`):h==="left"&&(b=`${n.floating.width+u}px`,x=l?m:`${w}px`),{data:{x:b,y:x}}}});function dk(r){const[e,t="center"]=r.split("-");return[e,t]}var $$=ik,z$=ak,H$=lk,B$=uk,W$="Portal",hk=S.forwardRef((r,e)=>{var c;const{container:t,...n}=r,[s,o]=S.useState(!1);Ct(()=>o(!0),[]);const l=t||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Fg.createPortal(A.jsx($t.div,{...n,ref:e}),l):null});hk.displayName=W$;function U$(r){const e=S.useRef({value:r,previous:r});return S.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var fk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),V$="VisuallyHidden",G$=S.forwardRef((r,e)=>A.jsx($t.span,{...r,ref:e,style:{...fk,...r.style}}));G$.displayName=V$;var Y$=[" ","Enter","ArrowUp","ArrowDown"],X$=[" ","Enter"],Wl="Select",[qg,Kg,q$]=Wb(Wl),[Ku,$5]=zr(Wl,[q$,rk]),Qg=rk(),[K$,pa]=Ku(Wl),[Q$,J$]=Ku(Wl),pk=r=>{const{__scopeSelect:e,children:t,open:n,defaultOpen:s,onOpenChange:o,value:l,defaultValue:c,onValueChange:u,dir:h,name:p,autoComplete:m,disabled:v,required:w,form:b}=r,x=Qg(e),[C,_]=S.useState(null),[k,T]=S.useState(null),[M,L]=S.useState(!1),D=zf(h),[F,j]=Gi({prop:n,defaultProp:s??!1,onChange:o,caller:Wl}),[W,X]=Gi({prop:l,defaultProp:c,onChange:u,caller:Wl}),Q=S.useRef(null),ue=C?b||!!C.closest("form"):!0,[oe,he]=S.useState(new Set),ae=Array.from(oe).map(q=>q.props.value).join(";");return A.jsx($$,{...x,children:A.jsxs(K$,{required:w,scope:e,trigger:C,onTriggerChange:_,valueNode:k,onValueNodeChange:T,valueNodeHasChildren:M,onValueNodeHasChildrenChange:L,contentId:fs(),value:W,onValueChange:X,open:F,onOpenChange:j,dir:D,triggerPointerDownPosRef:Q,disabled:v,children:[A.jsx(qg.Provider,{scope:e,children:A.jsx(Q$,{scope:r.__scopeSelect,onNativeOptionAdd:S.useCallback(q=>{he(J=>new Set(J).add(q))},[]),onNativeOptionRemove:S.useCallback(q=>{he(J=>{const z=new Set(J);return z.delete(q),z})},[]),children:t})}),ue?A.jsxs(Ok,{"aria-hidden":!0,required:w,tabIndex:-1,name:p,autoComplete:m,value:W,onChange:q=>X(q.target.value),disabled:v,form:b,children:[W===void 0?A.jsx("option",{value:""}):null,Array.from(oe)]},ae):null]})})};pk.displayName=Wl;var mk="SelectTrigger",gk=S.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:n=!1,...s}=r,o=Qg(t),l=pa(mk,t),c=l.disabled||n,u=Ve(e,l.onTriggerChange),h=Kg(t),p=S.useRef("touch"),[m,v,w]=jk(x=>{const C=h().filter(T=>!T.disabled),_=C.find(T=>T.value===l.value),k=$k(C,x,_);k!==void 0&&l.onValueChange(k.value)}),b=x=>{c||(l.onOpenChange(!0),w()),x&&(l.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return A.jsx(z$,{asChild:!0,...o,children:A.jsx($t.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Fk(l.value)?"":void 0,...s,ref:u,onClick:Pe(s.onClick,x=>{x.currentTarget.focus(),p.current!=="mouse"&&b(x)}),onPointerDown:Pe(s.onPointerDown,x=>{p.current=x.pointerType;const C=x.target;C.hasPointerCapture(x.pointerId)&&C.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:Pe(s.onKeyDown,x=>{const C=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&v(x.key),!(C&&x.key===" ")&&Y$.includes(x.key)&&(b(),x.preventDefault())})})})});gk.displayName=mk;var vk="SelectValue",yk=S.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:s,children:o,placeholder:l="",...c}=r,u=pa(vk,t),{onValueNodeHasChildrenChange:h}=u,p=o!==void 0,m=Ve(e,u.onValueNodeChange);return Ct(()=>{h(p)},[h,p]),A.jsx($t.span,{...c,ref:m,style:{pointerEvents:"none"},children:Fk(u.value)?A.jsx(A.Fragment,{children:l}):o})});yk.displayName=vk;var Z$="SelectIcon",wk=S.forwardRef((r,e)=>{const{__scopeSelect:t,children:n,...s}=r;return A.jsx($t.span,{"aria-hidden":!0,...s,ref:e,children:n||"▼"})});wk.displayName=Z$;var e3="SelectPortal",bk=r=>A.jsx(hk,{asChild:!0,...r});bk.displayName=e3;var Ul="SelectContent",xk=S.forwardRef((r,e)=>{const t=pa(Ul,r.__scopeSelect),[n,s]=S.useState();if(Ct(()=>{s(new DocumentFragment)},[]),!t.open){const o=n;return o?Jl.createPortal(A.jsx(Sk,{scope:r.__scopeSelect,children:A.jsx(qg.Slot,{scope:r.__scopeSelect,children:A.jsx("div",{children:r.children})})}),o):null}return A.jsx(Ak,{...r,ref:e})});xk.displayName=Ul;var Kr=10,[Sk,ma]=Ku(Ul),t3="SelectContentImpl",n3=$n("SelectContent.RemoveScroll"),Ak=S.forwardRef((r,e)=>{const{__scopeSelect:t,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:u,align:h,alignOffset:p,arrowPadding:m,collisionBoundary:v,collisionPadding:w,sticky:b,hideWhenDetached:x,avoidCollisions:C,..._}=r,k=pa(Ul,t),[T,M]=S.useState(null),[L,D]=S.useState(null),F=Ve(e,K=>M(K)),[j,W]=S.useState(null),[X,Q]=S.useState(null),ue=Kg(t),[oe,he]=S.useState(!1),ae=S.useRef(!1);S.useEffect(()=>{if(T)return OC(T)},[T]),kC();const q=S.useCallback(K=>{const[me,...Ce]=ue().map($e=>$e.ref.current),[Te]=Ce.slice(-1),je=document.activeElement;for(const $e of K)if($e===je||($e==null||$e.scrollIntoView({block:"nearest"}),$e===me&&L&&(L.scrollTop=0),$e===Te&&L&&(L.scrollTop=L.scrollHeight),$e==null||$e.focus(),document.activeElement!==je))return},[ue,L]),J=S.useCallback(()=>q([j,T]),[q,j,T]);S.useEffect(()=>{oe&&J()},[oe,J]);const{onOpenChange:z,triggerPointerDownPosRef:te}=k;S.useEffect(()=>{if(T){let K={x:0,y:0};const me=Te=>{var je,$e;K={x:Math.abs(Math.round(Te.pageX)-(((je=te.current)==null?void 0:je.x)??0)),y:Math.abs(Math.round(Te.pageY)-((($e=te.current)==null?void 0:$e.y)??0))}},Ce=Te=>{K.x<=10&&K.y<=10?Te.preventDefault():T.contains(Te.target)||z(!1),document.removeEventListener("pointermove",me),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",Ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",Ce,{capture:!0})}}},[T,z,te]),S.useEffect(()=>{const K=()=>z(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[z]);const[Z,$]=jk(K=>{const me=ue().filter(je=>!je.disabled),Ce=me.find(je=>je.ref.current===document.activeElement),Te=$k(me,K,Ce);Te&&setTimeout(()=>Te.ref.current.focus())}),G=S.useCallback((K,me,Ce)=>{const Te=!ae.current&&!Ce;(k.value!==void 0&&k.value===me||Te)&&(W(K),Te&&(ae.current=!0))},[k.value]),ee=S.useCallback(()=>T==null?void 0:T.focus(),[T]),de=S.useCallback((K,me,Ce)=>{const Te=!ae.current&&!Ce;(k.value!==void 0&&k.value===me||Te)&&Q(K)},[k.value]),Ae=n==="popper"?z0:Ek,ce=Ae===z0?{side:c,sideOffset:u,align:h,alignOffset:p,arrowPadding:m,collisionBoundary:v,collisionPadding:w,sticky:b,hideWhenDetached:x,avoidCollisions:C}:{};return A.jsx(Sk,{scope:t,content:T,viewport:L,onViewportChange:D,itemRefCallback:G,selectedItem:j,onItemLeave:ee,itemTextRefCallback:de,focusSelectedItem:J,selectedItemText:X,position:n,isPositioned:oe,searchRef:Z,children:A.jsx(_b,{as:n3,allowPinchZoom:!0,children:A.jsx(Cb,{asChild:!0,trapped:k.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:Pe(s,K=>{var me;(me=k.trigger)==null||me.focus({preventScroll:!0}),K.preventDefault()}),children:A.jsx(Z_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:A.jsx(Ae,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:K=>K.preventDefault(),..._,...ce,onPlaced:()=>he(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Pe(_.onKeyDown,K=>{const me=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!me&&K.key.length===1&&$(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let Te=ue().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(K.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const je=K.target,$e=Te.indexOf(je);Te=Te.slice($e+1)}setTimeout(()=>q(Te)),K.preventDefault()}})})})})})})});Ak.displayName=t3;var r3="SelectItemAlignedPosition",Ek=S.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:n,...s}=r,o=pa(Ul,t),l=ma(Ul,t),[c,u]=S.useState(null),[h,p]=S.useState(null),m=Ve(e,F=>p(F)),v=Kg(t),w=S.useRef(!1),b=S.useRef(!0),{viewport:x,selectedItem:C,selectedItemText:_,focusSelectedItem:k}=l,T=S.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&x&&C&&_){const F=o.trigger.getBoundingClientRect(),j=h.getBoundingClientRect(),W=o.valueNode.getBoundingClientRect(),X=_.getBoundingClientRect();if(o.dir!=="rtl"){const je=X.left-j.left,$e=W.left-je,at=F.left-$e,kt=F.width+at,br=Math.max(kt,j.width),er=window.innerWidth-Kr,an=j0($e,[Kr,Math.max(Kr,er-br)]);c.style.minWidth=kt+"px",c.style.left=an+"px"}else{const je=j.right-X.right,$e=window.innerWidth-W.right-je,at=window.innerWidth-F.right-$e,kt=F.width+at,br=Math.max(kt,j.width),er=window.innerWidth-Kr,an=j0($e,[Kr,Math.max(Kr,er-br)]);c.style.minWidth=kt+"px",c.style.right=an+"px"}const Q=v(),ue=window.innerHeight-Kr*2,oe=x.scrollHeight,he=window.getComputedStyle(h),ae=parseInt(he.borderTopWidth,10),q=parseInt(he.paddingTop,10),J=parseInt(he.borderBottomWidth,10),z=parseInt(he.paddingBottom,10),te=ae+q+oe+z+J,Z=Math.min(C.offsetHeight*5,te),$=window.getComputedStyle(x),G=parseInt($.paddingTop,10),ee=parseInt($.paddingBottom,10),de=F.top+F.height/2-Kr,Ae=ue-de,ce=C.offsetHeight/2,K=C.offsetTop+ce,me=ae+q+K,Ce=te-me;if(me<=de){const je=Q.length>0&&C===Q[Q.length-1].ref.current;c.style.bottom="0px";const $e=h.clientHeight-x.offsetTop-x.offsetHeight,at=Math.max(Ae,ce+(je?ee:0)+$e+J),kt=me+at;c.style.height=kt+"px"}else{const je=Q.length>0&&C===Q[0].ref.current;c.style.top="0px";const at=Math.max(de,ae+x.offsetTop+(je?G:0)+ce)+Ce;c.style.height=at+"px",x.scrollTop=me-de+x.offsetTop}c.style.margin=`${Kr}px 0`,c.style.minHeight=Z+"px",c.style.maxHeight=ue+"px",n==null||n(),requestAnimationFrame(()=>w.current=!0)}},[v,o.trigger,o.valueNode,c,h,x,C,_,o.dir,n]);Ct(()=>T(),[T]);const[M,L]=S.useState();Ct(()=>{h&&L(window.getComputedStyle(h).zIndex)},[h]);const D=S.useCallback(F=>{F&&b.current===!0&&(T(),k==null||k(),b.current=!1)},[T,k]);return A.jsx(i3,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:w,onScrollButtonChange:D,children:A.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:A.jsx($t.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Ek.displayName=r3;var s3="SelectPopperPosition",z0=S.forwardRef((r,e)=>{const{__scopeSelect:t,align:n="start",collisionPadding:s=Kr,...o}=r,l=Qg(t);return A.jsx(H$,{...l,...o,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});z0.displayName=s3;var[i3,Gb]=Ku(Ul,{}),H0="SelectViewport",Ck=S.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:n,...s}=r,o=ma(H0,t),l=Gb(H0,t),c=Ve(e,o.onViewportChange),u=S.useRef(0);return A.jsxs(A.Fragment,{children:[A.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),A.jsx(qg.Slot,{scope:t,children:A.jsx($t.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Pe(s.onScroll,h=>{const p=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:v}=l;if(v!=null&&v.current&&m){const w=Math.abs(u.current-p.scrollTop);if(w>0){const b=window.innerHeight-Kr*2,x=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),_=Math.max(x,C);if(_<b){const k=_+w,T=Math.min(b,k),M=k-T;m.style.height=T+"px",m.style.bottom==="0px"&&(p.scrollTop=M>0?M:0,m.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});Ck.displayName=H0;var _k="SelectGroup",[o3,a3]=Ku(_k),l3=S.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,s=fs();return A.jsx(o3,{scope:t,id:s,children:A.jsx($t.div,{role:"group","aria-labelledby":s,...n,ref:e})})});l3.displayName=_k;var kk="SelectLabel",c3=S.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,s=a3(kk,t);return A.jsx($t.div,{id:s.id,...n,ref:e})});c3.displayName=kk;var ag="SelectItem",[u3,Tk]=Ku(ag),Pk=S.forwardRef((r,e)=>{const{__scopeSelect:t,value:n,disabled:s=!1,textValue:o,...l}=r,c=pa(ag,t),u=ma(ag,t),h=c.value===n,[p,m]=S.useState(o??""),[v,w]=S.useState(!1),b=Ve(e,k=>{var T;return(T=u.itemRefCallback)==null?void 0:T.call(u,k,n,s)}),x=fs(),C=S.useRef("touch"),_=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return A.jsx(u3,{scope:t,value:n,disabled:s,textId:x,isSelected:h,onItemTextChange:S.useCallback(k=>{m(T=>T||((k==null?void 0:k.textContent)??"").trim())},[]),children:A.jsx(qg.ItemSlot,{scope:t,value:n,disabled:s,textValue:p,children:A.jsx($t.div,{role:"option","aria-labelledby":x,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:b,onFocus:Pe(l.onFocus,()=>w(!0)),onBlur:Pe(l.onBlur,()=>w(!1)),onClick:Pe(l.onClick,()=>{C.current!=="mouse"&&_()}),onPointerUp:Pe(l.onPointerUp,()=>{C.current==="mouse"&&_()}),onPointerDown:Pe(l.onPointerDown,k=>{C.current=k.pointerType}),onPointerMove:Pe(l.onPointerMove,k=>{var T;C.current=k.pointerType,s?(T=u.onItemLeave)==null||T.call(u):C.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(l.onPointerLeave,k=>{var T;k.currentTarget===document.activeElement&&((T=u.onItemLeave)==null||T.call(u))}),onKeyDown:Pe(l.onKeyDown,k=>{var M;((M=u.searchRef)==null?void 0:M.current)!==""&&k.key===" "||(X$.includes(k.key)&&_(),k.key===" "&&k.preventDefault())})})})})});Pk.displayName=ag;var Gd="SelectItemText",Rk=S.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:s,...o}=r,l=pa(Gd,t),c=ma(Gd,t),u=Tk(Gd,t),h=J$(Gd,t),[p,m]=S.useState(null),v=Ve(e,_=>m(_),u.onItemTextChange,_=>{var k;return(k=c.itemTextRefCallback)==null?void 0:k.call(c,_,u.value,u.disabled)}),w=p==null?void 0:p.textContent,b=S.useMemo(()=>A.jsx("option",{value:u.value,disabled:u.disabled,children:w},u.value),[u.disabled,u.value,w]),{onNativeOptionAdd:x,onNativeOptionRemove:C}=h;return Ct(()=>(x(b),()=>C(b)),[x,C,b]),A.jsxs(A.Fragment,{children:[A.jsx($t.span,{id:u.textId,...o,ref:v}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Jl.createPortal(o.children,l.valueNode):null]})});Rk.displayName=Gd;var Nk="SelectItemIndicator",Mk=S.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return Tk(Nk,t).isSelected?A.jsx($t.span,{"aria-hidden":!0,...n,ref:e}):null});Mk.displayName=Nk;var B0="SelectScrollUpButton",Ik=S.forwardRef((r,e)=>{const t=ma(B0,r.__scopeSelect),n=Gb(B0,r.__scopeSelect),[s,o]=S.useState(!1),l=Ve(e,n.onScrollButtonChange);return Ct(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=u.scrollTop>0;o(h)};const u=t.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),s?A.jsx(Dk,{...r,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=t;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});Ik.displayName=B0;var W0="SelectScrollDownButton",Lk=S.forwardRef((r,e)=>{const t=ma(W0,r.__scopeSelect),n=Gb(W0,r.__scopeSelect),[s,o]=S.useState(!1),l=Ve(e,n.onScrollButtonChange);return Ct(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<h;o(p)};const u=t.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),s?A.jsx(Dk,{...r,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=t;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});Lk.displayName=W0;var Dk=S.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:n,...s}=r,o=ma("SelectScrollButton",t),l=S.useRef(null),c=Kg(t),u=S.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return S.useEffect(()=>()=>u(),[u]),Ct(()=>{var p;const h=c().find(m=>m.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[c]),A.jsx($t.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Pe(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:Pe(s.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:Pe(s.onPointerLeave,()=>{u()})})}),d3="SelectSeparator",h3=S.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return A.jsx($t.div,{"aria-hidden":!0,...n,ref:e})});h3.displayName=d3;var U0="SelectArrow",f3=S.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,s=Qg(t),o=pa(U0,t),l=ma(U0,t);return o.open&&l.position==="popper"?A.jsx(B$,{...s,...n,ref:e}):null});f3.displayName=U0;var p3="SelectBubbleInput",Ok=S.forwardRef(({__scopeSelect:r,value:e,...t},n)=>{const s=S.useRef(null),o=Ve(n,s),l=U$(e);return S.useEffect(()=>{const c=s.current;if(!c)return;const u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==e&&p){const m=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(m)}},[l,e]),A.jsx($t.select,{...t,style:{...fk,...t.style},ref:o,defaultValue:e})});Ok.displayName=p3;function Fk(r){return r===""||r===void 0}function jk(r){const e=Ft(r),t=S.useRef(""),n=S.useRef(0),s=S.useCallback(l=>{const c=t.current+l;e(c),function u(h){t.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(c)},[e]),o=S.useCallback(()=>{t.current="",window.clearTimeout(n.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),[t,s,o]}function $k(r,e,t){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=t?r.indexOf(t):-1;let l=m3(r,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==t));const u=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==t?u:void 0}function m3(r,e){return r.map((t,n)=>r[(e+n)%r.length])}var g3=pk,v3=gk,y3=yk,w3=wk,b3=bk,x3=xk,S3=Ck,A3=Pk,E3=Rk,C3=Mk,_3=Ik,k3=Lk;function V0({...r}){return A.jsx(g3,{"data-slot":"select",...r})}function G0({...r}){return A.jsx(y3,{"data-slot":"select-value",...r})}function Y0({className:r,size:e="default",children:t,...n}){return A.jsxs(v3,{"data-slot":"select-trigger","data-size":e,className:ke("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...n,children:[t,A.jsx(w3,{asChild:!0,children:A.jsx(zg,{className:"size-4 opacity-50"})})]})}function X0({className:r,children:e,position:t="popper",...n}){return A.jsx(b3,{children:A.jsxs(x3,{"data-slot":"select-content",className:ke("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...n,children:[A.jsx(T3,{}),A.jsx(S3,{className:ke("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),A.jsx(P3,{})]})})}function Oa({className:r,children:e,...t}){return A.jsxs(A3,{"data-slot":"select-item",className:ke("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...t,children:[A.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:A.jsx(C3,{children:A.jsx(bb,{className:"size-4"})})}),A.jsx(E3,{children:e})]})}function T3({className:r,...e}){return A.jsx(_3,{"data-slot":"select-scroll-up-button",className:ke("flex cursor-default items-center justify-center py-1",r),...e,children:A.jsx(zL,{className:"size-4"})})}function P3({className:r,...e}){return A.jsx(k3,{"data-slot":"select-scroll-down-button",className:ke("flex cursor-default items-center justify-center py-1",r),...e,children:A.jsx(zg,{className:"size-4"})})}var R3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zk=R3.reduce((r,e)=>{const t=$n(`Primitive.${e}`),n=S.forwardRef((s,o)=>{const{asChild:l,...c}=s,u=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(u,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{}),N3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yb=N3.reduce((r,e)=>{const t=$n(`Primitive.${e}`),n=S.forwardRef((s,o)=>{const{asChild:l,...c}=s,u=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(u,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{}),Jg="Collapsible",[M3,Hk]=zr(Jg),[I3,Xb]=M3(Jg),Bk=S.forwardRef((r,e)=>{const{__scopeCollapsible:t,open:n,defaultOpen:s,disabled:o,onOpenChange:l,...c}=r,[u,h]=Gi({prop:n,defaultProp:s??!1,onChange:l,caller:Jg});return A.jsx(I3,{scope:t,disabled:o,contentId:fs(),open:u,onOpenToggle:S.useCallback(()=>h(p=>!p),[h]),children:A.jsx(Yb.div,{"data-state":Kb(u),"data-disabled":o?"":void 0,...c,ref:e})})});Bk.displayName=Jg;var Wk="CollapsibleTrigger",Uk=S.forwardRef((r,e)=>{const{__scopeCollapsible:t,...n}=r,s=Xb(Wk,t);return A.jsx(Yb.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Kb(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:e,onClick:Pe(r.onClick,s.onOpenToggle)})});Uk.displayName=Wk;var qb="CollapsibleContent",Vk=S.forwardRef((r,e)=>{const{forceMount:t,...n}=r,s=Xb(qb,r.__scopeCollapsible);return A.jsx(Hr,{present:t||s.open,children:({present:o})=>A.jsx(L3,{...n,ref:e,present:o})})});Vk.displayName=qb;var L3=S.forwardRef((r,e)=>{const{__scopeCollapsible:t,present:n,children:s,...o}=r,l=Xb(qb,t),[c,u]=S.useState(n),h=S.useRef(null),p=Ve(e,h),m=S.useRef(0),v=m.current,w=S.useRef(0),b=w.current,x=l.open||c,C=S.useRef(x),_=S.useRef(void 0);return S.useEffect(()=>{const k=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(k)},[]),Ct(()=>{const k=h.current;if(k){_.current=_.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const T=k.getBoundingClientRect();m.current=T.height,w.current=T.width,C.current||(k.style.transitionDuration=_.current.transitionDuration,k.style.animationName=_.current.animationName),u(n)}},[l.open,n]),A.jsx(Yb.div,{"data-state":Kb(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!x,...o,ref:p,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...r.style},children:x&&s})});function Kb(r){return r?"open":"closed"}var D3=Bk,O3=Uk,F3=Vk,ys="Accordion",j3=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Qb,$3,z3]=Wb(ys),[Zg,z5]=zr(ys,[z3,Hk]),Jb=Hk(),Gk=se.forwardRef((r,e)=>{const{type:t,...n}=r,s=n,o=n;return A.jsx(Qb.Provider,{scope:r.__scopeAccordion,children:t==="multiple"?A.jsx(U3,{...o,ref:e}):A.jsx(W3,{...s,ref:e})})});Gk.displayName=ys;var[Yk,H3]=Zg(ys),[Xk,B3]=Zg(ys,{collapsible:!1}),W3=se.forwardRef((r,e)=>{const{value:t,defaultValue:n,onValueChange:s=()=>{},collapsible:o=!1,...l}=r,[c,u]=Gi({prop:t,defaultProp:n??"",onChange:s,caller:ys});return A.jsx(Yk,{scope:r.__scopeAccordion,value:se.useMemo(()=>c?[c]:[],[c]),onItemOpen:u,onItemClose:se.useCallback(()=>o&&u(""),[o,u]),children:A.jsx(Xk,{scope:r.__scopeAccordion,collapsible:o,children:A.jsx(qk,{...l,ref:e})})})}),U3=se.forwardRef((r,e)=>{const{value:t,defaultValue:n,onValueChange:s=()=>{},...o}=r,[l,c]=Gi({prop:t,defaultProp:n??[],onChange:s,caller:ys}),u=se.useCallback(p=>c((m=[])=>[...m,p]),[c]),h=se.useCallback(p=>c((m=[])=>m.filter(v=>v!==p)),[c]);return A.jsx(Yk,{scope:r.__scopeAccordion,value:l,onItemOpen:u,onItemClose:h,children:A.jsx(Xk,{scope:r.__scopeAccordion,collapsible:!0,children:A.jsx(qk,{...o,ref:e})})})}),[V3,ev]=Zg(ys),qk=se.forwardRef((r,e)=>{const{__scopeAccordion:t,disabled:n,dir:s,orientation:o="vertical",...l}=r,c=se.useRef(null),u=Ve(c,e),h=$3(t),m=zf(s)==="ltr",v=Pe(r.onKeyDown,w=>{var j;if(!j3.includes(w.key))return;const b=w.target,x=h().filter(W=>{var X;return!((X=W.ref.current)!=null&&X.disabled)}),C=x.findIndex(W=>W.ref.current===b),_=x.length;if(C===-1)return;w.preventDefault();let k=C;const T=0,M=_-1,L=()=>{k=C+1,k>M&&(k=T)},D=()=>{k=C-1,k<T&&(k=M)};switch(w.key){case"Home":k=T;break;case"End":k=M;break;case"ArrowRight":o==="horizontal"&&(m?L():D());break;case"ArrowDown":o==="vertical"&&L();break;case"ArrowLeft":o==="horizontal"&&(m?D():L());break;case"ArrowUp":o==="vertical"&&D();break}const F=k%_;(j=x[F].ref.current)==null||j.focus()});return A.jsx(V3,{scope:t,disabled:n,direction:s,orientation:o,children:A.jsx(Qb.Slot,{scope:t,children:A.jsx(zk.div,{...l,"data-orientation":o,ref:u,onKeyDown:n?void 0:v})})})}),lg="AccordionItem",[G3,Zb]=Zg(lg),Kk=se.forwardRef((r,e)=>{const{__scopeAccordion:t,value:n,...s}=r,o=ev(lg,t),l=H3(lg,t),c=Jb(t),u=fs(),h=n&&l.value.includes(n)||!1,p=o.disabled||r.disabled;return A.jsx(G3,{scope:t,open:h,disabled:p,triggerId:u,children:A.jsx(D3,{"data-orientation":o.orientation,"data-state":nT(h),...c,...s,ref:e,disabled:p,open:h,onOpenChange:m=>{m?l.onItemOpen(n):l.onItemClose(n)}})})});Kk.displayName=lg;var Qk="AccordionHeader",Jk=se.forwardRef((r,e)=>{const{__scopeAccordion:t,...n}=r,s=ev(ys,t),o=Zb(Qk,t);return A.jsx(zk.h3,{"data-orientation":s.orientation,"data-state":nT(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:e})});Jk.displayName=Qk;var q0="AccordionTrigger",Zk=se.forwardRef((r,e)=>{const{__scopeAccordion:t,...n}=r,s=ev(ys,t),o=Zb(q0,t),l=B3(q0,t),c=Jb(t);return A.jsx(Qb.ItemSlot,{scope:t,children:A.jsx(O3,{"aria-disabled":o.open&&!l.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...c,...n,ref:e})})});Zk.displayName=q0;var eT="AccordionContent",tT=se.forwardRef((r,e)=>{const{__scopeAccordion:t,...n}=r,s=ev(ys,t),o=Zb(eT,t),l=Jb(t);return A.jsx(F3,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...l,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...r.style}})});tT.displayName=eT;function nT(r){return r?"open":"closed"}var Y3=Gk,X3=Kk,q3=Jk,K3=Zk,Q3=tT;function J3({...r}){return A.jsx(Y3,{"data-slot":"accordion",...r})}function QE({className:r,...e}){return A.jsx(X3,{"data-slot":"accordion-item",className:ke("border-b last:border-b-0",r),...e})}function JE({className:r,children:e,...t}){return A.jsx(q3,{className:"flex",children:A.jsxs(K3,{"data-slot":"accordion-trigger",className:ke("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",r),...t,children:[e,A.jsx(zg,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function ZE({className:r,children:e,...t}){return A.jsx(Q3,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...t,children:A.jsx("div",{className:ke("pt-0 pb-4",r),children:e})})}function Z3(r){const e={},t=s=>{const o={};return Object.keys(s).sort().forEach(l=>{o[l]={};const c=s[l];Object.keys(c).sort().forEach(u=>{o[l][u]=c[u].map(h=>({...h,value:n(h.value)}))})}),o},n=s=>{if(!s)return"";try{const o=atob(s),l=new TextDecoder("utf-8").decode(new Uint8Array([...o].map(c=>c.charCodeAt(0))));return decodeURIComponent(l.replace(/\+/g," "))}catch{return s}};return Object.keys(r).sort().forEach(s=>{e[s]={key:s,cols:t(r[s].cols)}}),e}function ez({name:r,text:e},t={}){const{chunkKB:n=256,family:s="chunks",qualifier:o="contents",prefix:l="pdf"}=t,c=new TextEncoder,u=n*1024,h=[];let p="",m=0;const v=r.replace(/\.[^/.]+$/,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");for(const b of e){const x=c.encode(b);m+x.length>u&&(h.push(p),p="",m=0),p+=b,m+=x.length}p&&h.push(p);const w=h.map((b,x)=>({rowKey:`${l}:${v}:${x}`,family:s,qualifiers:{[o]:b}}));return console.log(w),w}function tz(r){const e=new Map;for(const t of r){const n=Math.round(t.transform[5]);e.has(n)||e.set(n,[]),e.get(n).push(t.str)}return[...e.entries()].sort((t,n)=>n[0]-t[0]).map(([t,n])=>n.join(" "))}function ex(){const[r,e]=S.useState({}),[t,n]=S.useState(!1);return{handleSubmit:async o=>{const c=Date.now();n(!0);try{const u=await fetch("/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!u.ok)throw new Error(`Request failed with status: ${u.status}`);if(o.type==="CREATE")return await m0(c,250),n(!1),{success:!0};const h=await u.json(),p=Z3(h);return e(p),await m0(c,250),n(!1),$i(`${o.type} successful`),{success:!0,data:p}}catch(u){return await m0(c,250),n(!1),$i.error(`${o.type||"Operation"} failed: ${u.message}`),{success:!1,error:u}}},results:r,isLoading:t,clearResults:()=>e({})}}const m0=async(r,e)=>{const t=Date.now()-r,n=Math.max(e-t,0);n>0&&await new Promise(s=>setTimeout(s,n))},rT=6048e5,nz=864e5,e1=Symbol.for("constructDateFrom");function aa(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&e1 in r?r[e1](e):r instanceof Date?new r.constructor(e):new Date(e)}function ws(r,e){return aa(e||r,r)}let rz={};function tv(){return rz}function gh(r,e){var c,u,h,p;const t=tv(),n=(e==null?void 0:e.weekStartsOn)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((p=(h=t.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=ws(r,e==null?void 0:e.in),o=s.getDay(),l=(o<n?7:0)+o-n;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function cg(r,e){return gh(r,{...e,weekStartsOn:1})}function sT(r,e){const t=ws(r,e==null?void 0:e.in),n=t.getFullYear(),s=aa(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=cg(s),l=aa(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const c=cg(l);return t.getTime()>=o.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function t1(r){const e=ws(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function sz(r,...e){const t=aa.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function n1(r,e){const t=ws(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function iz(r,e,t){const[n,s]=sz(t==null?void 0:t.in,r,e),o=n1(n),l=n1(s),c=+o-t1(o),u=+l-t1(l);return Math.round((c-u)/nz)}function oz(r,e){const t=sT(r,e),n=aa(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),cg(n)}function az(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function lz(r){return!(!az(r)&&typeof r!="number"||isNaN(+ws(r)))}function cz(r,e){const t=ws(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const uz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dz=(r,e,t)=>{let n;const s=uz[r];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function g0(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const hz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mz={date:g0({formats:hz,defaultWidth:"full"}),time:g0({formats:fz,defaultWidth:"full"}),dateTime:g0({formats:pz,defaultWidth:"full"})},gz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vz=(r,e,t,n)=>gz[r];function $d(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let s;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,c=t!=null&&t.width?String(t.width):l;s=r.formattingValues[c]||r.formattingValues[l]}else{const l=r.defaultWidth,c=t!=null&&t.width?String(t.width):r.defaultWidth;s=r.values[c]||r.values[l]}const o=r.argumentCallback?r.argumentCallback(e):e;return s[o]}}const yz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Az={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ez=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Cz={ordinalNumber:Ez,era:$d({values:yz,defaultWidth:"wide"}),quarter:$d({values:wz,defaultWidth:"wide",argumentCallback:r=>r-1}),month:$d({values:bz,defaultWidth:"wide"}),day:$d({values:xz,defaultWidth:"wide"}),dayPeriod:$d({values:Sz,defaultWidth:"wide",formattingValues:Az,defaultFormattingWidth:"wide"})};function zd(r){return(e,t={})=>{const n=t.width,s=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(s);if(!o)return null;const l=o[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],u=Array.isArray(c)?kz(c,m=>m.test(l)):_z(c,m=>m.test(l));let h;h=r.valueCallback?r.valueCallback(u):u,h=t.valueCallback?t.valueCallback(h):h;const p=e.slice(l.length);return{value:h,rest:p}}}function _z(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function kz(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function Tz(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const s=n[0],o=e.match(r.parsePattern);if(!o)return null;let l=r.valueCallback?r.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(s.length);return{value:l,rest:c}}}const Pz=/^(\d+)(th|st|nd|rd)?/i,Rz=/\d+/i,Nz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mz={any:[/^b/i,/^(a|c)/i]},Iz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lz={any:[/1/i,/2/i,/3/i,/4/i]},Dz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Oz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$z={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hz={ordinalNumber:Tz({matchPattern:Pz,parsePattern:Rz,valueCallback:r=>parseInt(r,10)}),era:zd({matchPatterns:Nz,defaultMatchWidth:"wide",parsePatterns:Mz,defaultParseWidth:"any"}),quarter:zd({matchPatterns:Iz,defaultMatchWidth:"wide",parsePatterns:Lz,defaultParseWidth:"any",valueCallback:r=>r+1}),month:zd({matchPatterns:Dz,defaultMatchWidth:"wide",parsePatterns:Oz,defaultParseWidth:"any"}),day:zd({matchPatterns:Fz,defaultMatchWidth:"wide",parsePatterns:jz,defaultParseWidth:"any"}),dayPeriod:zd({matchPatterns:$z,defaultMatchWidth:"any",parsePatterns:zz,defaultParseWidth:"any"})},Bz={code:"en-US",formatDistance:dz,formatLong:mz,formatRelative:vz,localize:Cz,match:Hz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Wz(r,e){const t=ws(r,e==null?void 0:e.in);return iz(t,cz(t))+1}function Uz(r,e){const t=ws(r,e==null?void 0:e.in),n=+cg(t)-+oz(t);return Math.round(n/rT)+1}function iT(r,e){var p,m,v,w;const t=ws(r,e==null?void 0:e.in),n=t.getFullYear(),s=tv(),o=(e==null?void 0:e.firstWeekContainsDate)??((m=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(v=s.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,l=aa((e==null?void 0:e.in)||r,0);l.setFullYear(n+1,0,o),l.setHours(0,0,0,0);const c=gh(l,e),u=aa((e==null?void 0:e.in)||r,0);u.setFullYear(n,0,o),u.setHours(0,0,0,0);const h=gh(u,e);return+t>=+c?n+1:+t>=+h?n:n-1}function Vz(r,e){var c,u,h,p;const t=tv(),n=(e==null?void 0:e.firstWeekContainsDate)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??t.firstWeekContainsDate??((p=(h=t.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=iT(r,e),o=aa((e==null?void 0:e.in)||r,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),gh(o,e)}function Gz(r,e){const t=ws(r,e==null?void 0:e.in),n=+gh(t,e)-+Vz(t,e);return Math.round(n/rT)+1}function rt(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const _o={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return rt(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):rt(t+1,2)},d(r,e){return rt(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return rt(r.getHours()%12||12,e.length)},H(r,e){return rt(r.getHours(),e.length)},m(r,e){return rt(r.getMinutes(),e.length)},s(r,e){return rt(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),s=Math.trunc(n*Math.pow(10,t-3));return rt(s,e.length)}},Rc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r1={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),s=n>0?n:1-n;return t.ordinalNumber(s,{unit:"year"})}return _o.y(r,e)},Y:function(r,e,t,n){const s=iT(r,n),o=s>0?s:1-s;if(e==="YY"){const l=o%100;return rt(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):rt(o,e.length)},R:function(r,e){const t=sT(r);return rt(t,e.length)},u:function(r,e){const t=r.getFullYear();return rt(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return rt(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return rt(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return _o.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return rt(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const s=Gz(r,n);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):rt(s,e.length)},I:function(r,e,t){const n=Uz(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):rt(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):_o.d(r,e)},D:function(r,e,t){const n=Wz(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):rt(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const s=r.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return rt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const s=r.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return rt(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return rt(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const s=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let s;switch(n===12?s=Rc.noon:n===0?s=Rc.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let s;switch(n>=17?s=Rc.evening:n>=12?s=Rc.afternoon:n>=4?s=Rc.morning:s=Rc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return _o.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):_o.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):rt(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):rt(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):_o.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):_o.s(r,e)},S:function(r,e){return _o.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return i1(n);case"XXXX":case"XX":return Fa(n);case"XXXXX":case"XXX":default:return Fa(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return i1(n);case"xxxx":case"xx":return Fa(n);case"xxxxx":case"xxx":default:return Fa(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+s1(n,":");case"OOOO":default:return"GMT"+Fa(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+s1(n,":");case"zzzz":default:return"GMT"+Fa(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return rt(n,e.length)},T:function(r,e,t){return rt(+r,e.length)}};function s1(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),s=Math.trunc(n/60),o=n%60;return o===0?t+String(s):t+String(s)+e+rt(o,2)}function i1(r,e){return r%60===0?(r>0?"-":"+")+rt(Math.abs(r)/60,2):Fa(r,e)}function Fa(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),s=rt(Math.trunc(n/60),2),o=rt(n%60,2);return t+s+e+o}const o1=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},oT=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Yz=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],s=t[2];if(!s)return o1(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",o1(n,e)).replace("{{time}}",oT(s,e))},Xz={p:oT,P:Yz},qz=/^D+$/,Kz=/^Y+$/,Qz=["D","DD","YY","YYYY"];function Jz(r){return qz.test(r)}function Zz(r){return Kz.test(r)}function eH(r,e,t){const n=tH(r,e,t);if(console.warn(n),Qz.includes(r))throw new RangeError(n)}function tH(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sH=/^'([^]*?)'?$/,iH=/''/g,oH=/[a-zA-Z]/;function aH(r,e,t){var p,m,v,w;const n=tv(),s=n.locale??Bz,o=n.firstWeekContainsDate??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,l=n.weekStartsOn??((w=(v=n.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,c=ws(r,t==null?void 0:t.in);if(!lz(c))throw new RangeError("Invalid time value");let u=e.match(rH).map(b=>{const x=b[0];if(x==="p"||x==="P"){const C=Xz[x];return C(b,s.formatLong)}return b}).join("").match(nH).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const x=b[0];if(x==="'")return{isToken:!1,value:lH(b)};if(r1[x])return{isToken:!0,value:b};if(x.match(oH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(u=s.localize.preprocessor(c,u));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:s};return u.map(b=>{if(!b.isToken)return b.value;const x=b.value;(Zz(x)||Jz(x))&&eH(x,e,String(r));const C=r1[x[0]];return C(c,x,s.localize,h)}).join("")}function lH(r){const e=r.match(sH);return e?e[1].replace(iH,"'"):r}function a1({className:r,...e}){return A.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:A.jsx("table",{"data-slot":"table",className:ke("w-full caption-bottom text-sm",r),...e})})}function l1({className:r,...e}){return A.jsx("thead",{"data-slot":"table-header",className:ke("[&_tr]:border-b",r),...e})}function c1({className:r,...e}){return A.jsx("tbody",{"data-slot":"table-body",className:ke("[&_tr:last-child]:border-0",r),...e})}function Hd({className:r,...e}){return A.jsx("tr",{"data-slot":"table-row",className:ke("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",r),...e})}function Bd({className:r,...e}){return A.jsx("th",{"data-slot":"table-head",className:ke("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...e})}function Da({className:r,...e}){return A.jsx("td",{"data-slot":"table-cell",className:ke("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...e})}const cH=$g("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function uH({className:r,variant:e,asChild:t=!1,...n}){const s=t?jg:"span";return A.jsx(s,{"data-slot":"badge",className:ke(cH({variant:e}),r),...n})}function dH({data:r}){const[e,t]=S.useState({}),[n,s]=S.useState(null),o=v=>{t(w=>({...w,[v]:!w[v]}))},l=v=>{v!=null&&s(v)},c=v=>v==null?"-":typeof v=="object"?JSON.stringify(v):String(v),u=new Set;Object.values(r).forEach(v=>{Object.values(v.cols).forEach(w=>{Object.keys(w).forEach(b=>{u.add(b)})})});const h=Array.from(u).sort(),p=v=>{try{return aH(new Date(v),"MMM d, yyyy h:mm a")}catch{return v}},m=(v,w,b)=>!v.cols[w]||!v.cols[w][b]?null:[...v.cols[w][b]].sort((C,_)=>new Date(_.timestamp).getTime()-new Date(C.timestamp).getTime())[0];return A.jsxs("div",{className:"rounded-md border overflow-hidden",children:[A.jsx("div",{className:"overflow-x-auto",children:A.jsxs(a1,{children:[A.jsx(l1,{children:A.jsxs(Hd,{className:"bg-muted/50",children:[A.jsx(Bd,{className:"w-[50px]"}),A.jsx(Bd,{className:"w-[150px]",children:"RowKey"}),h.map(v=>A.jsx(Bd,{className:"max-w-[200px]",children:v},v))]})}),A.jsx(c1,{children:Object.entries(r).map(([v,w])=>{const b=e[v]||!1,x=Object.keys(w.cols);return A.jsxs(S.Fragment,{children:[A.jsxs(Hd,{className:"hover:bg-muted/50 cursor-pointer",onClick:()=>o(v),children:[A.jsx(Da,{className:"p-2 text-center",children:b?A.jsx(zg,{className:"h-4 w-4 inline"}):A.jsx(jL,{className:"h-4 w-4 inline"})}),A.jsx(Da,{className:"font-medium",children:w.key}),h.map(C=>{for(const _ of x){const k=m(w,_,C);if(k)return A.jsx(Da,{className:"max-w-[200px] truncate cursor-pointer",onClick:()=>l(k.value),children:c(k.value)},C)}return A.jsx(Da,{children:"-"},C)})]}),b&&A.jsx(Hd,{className:"bg-muted/20",children:A.jsx(Da,{colSpan:2+h.length,className:"p-0",children:A.jsxs("div",{className:"p-4",children:[A.jsx("h4",{className:"text-sm font-medium mb-2",children:"Column Families"}),x.map(C=>A.jsxs("div",{className:"mb-4",children:[A.jsx("div",{className:"flex items-center mb-2",children:A.jsx(uH,{variant:"outline",className:"mr-2",children:C})}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs(a1,{children:[A.jsx(l1,{children:A.jsxs(Hd,{className:"bg-muted/30",children:[h.map(_=>w.cols[C]&&w.cols[C][_]?A.jsx(Bd,{children:_},_):null),A.jsx(Bd,{className:"sticky left-0 bg-muted/30 z-10",children:"Timestamp"})]})}),A.jsx(c1,{children:(()=>{const _=new Set;return h.forEach(T=>{w.cols[C]&&w.cols[C][T]&&w.cols[C][T].forEach(M=>{_.add(M.timestamp)})}),Array.from(_).sort((T,M)=>new Date(M).getTime()-new Date(T).getTime()).map(T=>A.jsxs(Hd,{children:[h.map(M=>{if(!w.cols[C]||!w.cols[C][M])return null;const L=w.cols[C][M].find(D=>D.timestamp===T);return A.jsx(Da,{className:"max-w-[200px] truncate cursor-pointer",onClick:()=>l(L==null?void 0:L.value),children:L?c(L.value):"-"},`${M}-${T}`)}),A.jsx(Da,{className:"sticky left-0 z-10 font-medium",children:p(T)})]},T))})()})]})})]},C))]})})},`expanded-${v}`)]},v)})})]})}),n!==null&&A.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",children:A.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow-lg p-6 sm:max-w-[90vw] md:max-w-xl md w-full relative",children:[A.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cell Value"}),A.jsx("pre",{className:"bg-muted p-4 rounded text-sm overflow-auto max-h-[60vh] whitespace-pre-wrap break-words",children:typeof n=="object"?JSON.stringify(n,null,2):String(n)}),A.jsx("button",{className:"absolute top-2 right-2 text-sm text-muted-foreground hover:text-foreground",onClick:()=>s(null),children:A.jsx(Hg,{className:"cursor-pointer"})})]})})]})}function hH({...r}){return A.jsx(ZC,{"data-slot":"dialog",...r})}function fH({...r}){return A.jsx(kO,{"data-slot":"dialog-trigger",...r})}function pH({...r}){return A.jsx(e_,{"data-slot":"dialog-portal",...r})}function u1({...r}){return A.jsx(Rb,{"data-slot":"dialog-close",...r})}function mH({className:r,...e}){return A.jsx(t_,{"data-slot":"dialog-overlay",className:ke("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...e})}function gH({className:r,children:e,...t}){return A.jsxs(pH,{"data-slot":"dialog-portal",children:[A.jsx(mH,{}),A.jsxs(n_,{"data-slot":"dialog-content",className:ke("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...t,children:[e,A.jsxs(Rb,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[A.jsx(Hg,{}),A.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function vH({className:r,...e}){return A.jsx("div",{"data-slot":"dialog-header",className:ke("flex flex-col gap-2 text-center sm:text-left",r),...e})}function yH({className:r,...e}){return A.jsx("div",{"data-slot":"dialog-footer",className:ke("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",r),...e})}function wH({className:r,...e}){return A.jsx(r_,{"data-slot":"dialog-title",className:ke("text-lg leading-none font-semibold",r),...e})}function bH({columnFamily:r,setColumnFamily:e}){const[t,n]=S.useState(""),[s,o]=S.useState([]),[l,c]=S.useState(!0),[u,h]=S.useState(null),{handleSubmit:p}=ex();S.useEffect(()=>{(async()=>{await m()})()},[]);const m=async()=>{c(!0);try{const w=await fetch("/families");if(!w.ok)throw new Error("Failed to fetch families");const b=await w.json();o(b),!r&&b.length>0&&e(b[0])}catch{o([])}finally{c(!1)}},v=async()=>{const w=t.trim();if(!w||s.includes(w)){$i.error("Family name must be unique and not empty");return}try{await p({type:"CREATE",families:[w]}),n(""),$i("Column family created"),await m(),e(w)}catch(b){$i.error("Failed to create column family"),console.error(b)}};return u?A.jsxs("div",{className:"text-red-500",children:["Error loading families: ",u]}):A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-center mb-1",children:[A.jsx(Ro,{htmlFor:"columnFamily",children:"Column Family"}),A.jsxs(hH,{children:[A.jsx(fH,{asChild:!0,children:A.jsxs(Dn,{variant:"ghost",size:"sm",className:"h-6 px-2",children:[A.jsx(dC,{className:"h-3.5 w-3.5 mr-1"}),"Add New"]})}),A.jsxs(gH,{className:"sm:max-w-md",children:[A.jsx(vH,{children:A.jsx(wH,{children:"Add New Column Family"})}),A.jsxs("div",{className:"py-4",children:[A.jsx(Ro,{htmlFor:"newColumnFamily",className:"mb-2 block",children:"Name"}),A.jsx(Ua,{id:"newColumnFamily",value:t,onChange:w=>n(w.target.value),placeholder:"Enter column family name"})]}),A.jsxs(yH,{children:[A.jsx(u1,{asChild:!0,children:A.jsx(Dn,{variant:"outline",children:"Cancel"})}),A.jsx(u1,{asChild:!0,children:A.jsx(Dn,{onClick:v,disabled:!t,children:"Add"})})]})]})]})]}),A.jsxs(V0,{value:r,onValueChange:e,disabled:l,children:[A.jsx(Y0,{id:"columnFamily",children:l?A.jsxs("div",{className:"flex items-center",children:[A.jsx(xb,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):A.jsx(G0,{placeholder:"Select column family"})}),A.jsx(X0,{children:s.map(w=>A.jsx(Oa,{value:w,children:w},w))})]})]})}function xH(){const[r,e]=S.useState("READ"),[t,n]=S.useState("key"),[s,o]=S.useState(""),[l,c]=S.useState("wrestlers"),[u,h]=S.useState("1"),[p,m]=S.useState([{qualifier:"",value:""}]),[v,w]=S.useState(""),[b,x]=S.useState("builder"),{handleSubmit:C,results:_,isLoading:k}=ex(),T=(j,W,X)=>{const Q=[...p];Q[j][W]=X,m(Q)},M=()=>{m([...p,{qualifier:"",value:""}])},L=j=>{const W=p.filter((X,Q)=>Q!==j);m(W.length?W:[{qualifier:"",value:""}])},D=()=>{x("results");const j=parseInt(u,10);return{type:r,readType:t,key:s||"",family:l||"",latest:r==="READ"?isNaN(j)?1:j:0,qualifiers:p.filter(W=>W.qualifier).map(W=>r==="READ"||r==="DELETE"?{name:W.qualifier}:{name:W.qualifier,value:encodeURIComponent(W.value||"")})}},F=async()=>{const j=D();w(JSON.stringify(j,null,2)),await C(j)};return A.jsxs("div",{className:"mb-4",children:[A.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:"Query Builder"}),A.jsxs(J3,{type:"single",value:b,onValueChange:x,collapsible:!0,className:"w-full space-y-4",children:[A.jsxs(QE,{value:"builder",className:"border rounded-lg",children:[A.jsx(JE,{className:"px-4 py-3 hover:no-underline",children:A.jsx("span",{className:"text-base font-medium",children:"Query Builder"})}),A.jsxs(ZE,{className:"px-6 pb-6 pt-2",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-4",children:[A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsx(Ro,{htmlFor:"operation",className:"block mb-1",children:"Operation"}),A.jsxs(V0,{value:r,onValueChange:j=>e(j),children:[A.jsx(Y0,{id:"operation",className:"w-full",children:A.jsx(G0,{placeholder:"Select operation"})}),A.jsxs(X0,{children:[A.jsx(Oa,{value:"READ",children:"READ"}),A.jsx(Oa,{value:"WRITE",children:"WRITE"}),A.jsx(Oa,{value:"DELETE",children:"DELETE"})]})]})]}),A.jsx(bH,{columnFamily:l,setColumnFamily:c,handleSubmit:C}),A.jsxs("div",{className:"flex justify-between",children:[A.jsxs("div",{children:[A.jsx(Ro,{htmlFor:"filterType",className:"block mb-1",children:"Filter Type"}),A.jsxs(V0,{value:t,onValueChange:j=>n(j),children:[A.jsx(Y0,{id:"filterType",children:A.jsx(G0,{placeholder:"Select filter type"})}),A.jsxs(X0,{children:[A.jsx(Oa,{value:"key",children:"rowKey"}),A.jsx(Oa,{value:"prefix",children:"prefix"}),A.jsx(Oa,{value:"regex",children:"regex"})]})]})]}),r==="READ"&&A.jsxs("div",{children:[A.jsx(Ro,{htmlFor:"latest",className:"block mb-1",children:"Latest"}),A.jsx(Ua,{id:"latest",type:"number",placeholder:"e.g. 3",value:u,onChange:j=>h(j.target.value),className:"w-full"})]})]}),A.jsxs("div",{children:[A.jsx(Ro,{htmlFor:"filterValue",className:"block mb-1",children:"Filter Value"}),A.jsx(Ua,{id:"filterValue",placeholder:"e.g. champ:1",value:s,onChange:j=>o(j.target.value)})]})]}),A.jsxs("div",{className:"mt-4",children:[A.jsxs("div",{className:"flex justify-between items-center mb-2",children:[A.jsx(Ro,{className:"font-medium",children:"Qualifiers"}),A.jsxs(Dn,{type:"button",variant:"outline",size:"sm",onClick:M,className:"h-8",children:[A.jsx(dC,{className:"h-4 w-4 mr-1"}),"Add"]})]}),A.jsx("div",{className:"space-y-2",children:p.map((j,W)=>A.jsxs("div",{className:"flex gap-2 items-center",children:[A.jsx("div",{className:"flex-grow",children:A.jsx(Ua,{placeholder:"Qualifier",value:j.qualifier,onChange:X=>T(W,"qualifier",X.target.value)})}),r==="WRITE"&&A.jsx("div",{className:"flex-grow",children:A.jsx(Ua,{placeholder:"Value",value:j.value,onChange:X=>T(W,"value",X.target.value)})}),A.jsxs(Dn,{type:"button",variant:"destructive",size:"icon",onClick:()=>L(W),className:"shrink-0",disabled:p.length===1,children:[A.jsx(d2,{className:"h-4 w-4"}),A.jsx("span",{className:"sr-only",children:"Remove"})]})]},W))})]}),A.jsx(Dn,{onClick:F,className:"w-full mt-6 bg-black text-white hover:bg-black/90",children:"Generate Query"})]})]}),A.jsxs(QE,{value:"results",className:"border rounded-lg ",children:[A.jsx(JE,{className:"px-4 py-3 hover:no-underline",children:A.jsx("span",{className:"text-base font-medium",children:"Results"})}),A.jsx(ZE,{className:"px-6 pb-6 border-t",children:k?A.jsxs("div",{className:"flex justify-center items-center py-4",children:[A.jsx(xb,{className:"h-8 w-8 animate-spin text-primary"}),A.jsx("span",{className:"ml-2",children:"Processing query..."})]}):v?A.jsx("div",{className:"mt-4",children:_&&A.jsx(dH,{data:Object.values(_)})}):A.jsx("div",{className:"py-2 text-center text-muted-foreground",children:"Generate a query to see results"})})]})]})]})}function SH({className:r,...e}){return A.jsx("textarea",{"data-slot":"textarea",className:ke("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...e})}var AH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],aT=AH.reduce((r,e)=>{const t=$n(`Primitive.${e}`),n=S.forwardRef((s,o)=>{const{asChild:l,...c}=s,u=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(u,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{}),v0="rovingFocusGroup.onEntryFocus",EH={bubbles:!1,cancelable:!0},Hf="RovingFocusGroup",[K0,lT,CH]=Wb(Hf),[_H,cT]=zr(Hf,[CH]),[kH,TH]=_H(Hf),uT=S.forwardRef((r,e)=>A.jsx(K0.Provider,{scope:r.__scopeRovingFocusGroup,children:A.jsx(K0.Slot,{scope:r.__scopeRovingFocusGroup,children:A.jsx(PH,{...r,ref:e})})}));uT.displayName=Hf;var PH=S.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...m}=r,v=S.useRef(null),w=Ve(e,v),b=zf(o),[x,C]=Gi({prop:l,defaultProp:c??null,onChange:u,caller:Hf}),[_,k]=S.useState(!1),T=Ft(h),M=lT(t),L=S.useRef(!1),[D,F]=S.useState(0);return S.useEffect(()=>{const j=v.current;if(j)return j.addEventListener(v0,T),()=>j.removeEventListener(v0,T)},[T]),A.jsx(kH,{scope:t,orientation:n,dir:b,loop:s,currentTabStopId:x,onItemFocus:S.useCallback(j=>C(j),[C]),onItemShiftTab:S.useCallback(()=>k(!0),[]),onFocusableItemAdd:S.useCallback(()=>F(j=>j+1),[]),onFocusableItemRemove:S.useCallback(()=>F(j=>j-1),[]),children:A.jsx(aT.div,{tabIndex:_||D===0?-1:0,"data-orientation":n,...m,ref:w,style:{outline:"none",...r.style},onMouseDown:Pe(r.onMouseDown,()=>{L.current=!0}),onFocus:Pe(r.onFocus,j=>{const W=!L.current;if(j.target===j.currentTarget&&W&&!_){const X=new CustomEvent(v0,EH);if(j.currentTarget.dispatchEvent(X),!X.defaultPrevented){const Q=M().filter(q=>q.focusable),ue=Q.find(q=>q.active),oe=Q.find(q=>q.id===x),ae=[ue,oe,...Q].filter(Boolean).map(q=>q.ref.current);fT(ae,p)}}L.current=!1}),onBlur:Pe(r.onBlur,()=>k(!1))})})}),dT="RovingFocusGroupItem",hT=S.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:s=!1,tabStopId:o,children:l,...c}=r,u=fs(),h=o||u,p=TH(dT,t),m=p.currentTabStopId===h,v=lT(t),{onFocusableItemAdd:w,onFocusableItemRemove:b,currentTabStopId:x}=p;return S.useEffect(()=>{if(n)return w(),()=>b()},[n,w,b]),A.jsx(K0.ItemSlot,{scope:t,id:h,focusable:n,active:s,children:A.jsx(aT.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:Pe(r.onMouseDown,C=>{n?p.onItemFocus(h):C.preventDefault()}),onFocus:Pe(r.onFocus,()=>p.onItemFocus(h)),onKeyDown:Pe(r.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){p.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const _=MH(C,p.orientation,p.dir);if(_!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let T=v().filter(M=>M.focusable).map(M=>M.ref.current);if(_==="last")T.reverse();else if(_==="prev"||_==="next"){_==="prev"&&T.reverse();const M=T.indexOf(C.currentTarget);T=p.loop?IH(T,M+1):T.slice(M+1)}setTimeout(()=>fT(T))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:x!=null}):l})})});hT.displayName=dT;var RH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function NH(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function MH(r,e,t){const n=NH(r.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return RH[n]}function fT(r,e=!1){const t=document.activeElement;for(const n of r)if(n===t||(n.focus({preventScroll:e}),document.activeElement!==t))return}function IH(r,e){return r.map((t,n)=>r[(e+n)%r.length])}var LH=uT,DH=hT,OH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nv=OH.reduce((r,e)=>{const t=$n(`Primitive.${e}`),n=S.forwardRef((s,o)=>{const{asChild:l,...c}=s,u=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(u,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{}),rv="Tabs",[FH,H5]=zr(rv,[cT]),pT=cT(),[jH,tx]=FH(rv),mT=S.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,onValueChange:s,defaultValue:o,orientation:l="horizontal",dir:c,activationMode:u="automatic",...h}=r,p=zf(c),[m,v]=Gi({prop:n,onChange:s,defaultProp:o??"",caller:rv});return A.jsx(jH,{scope:t,baseId:fs(),value:m,onValueChange:v,orientation:l,dir:p,activationMode:u,children:A.jsx(nv.div,{dir:p,"data-orientation":l,...h,ref:e})})});mT.displayName=rv;var gT="TabsList",vT=S.forwardRef((r,e)=>{const{__scopeTabs:t,loop:n=!0,...s}=r,o=tx(gT,t),l=pT(t);return A.jsx(LH,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:n,children:A.jsx(nv.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});vT.displayName=gT;var yT="TabsTrigger",wT=S.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,disabled:s=!1,...o}=r,l=tx(yT,t),c=pT(t),u=ST(l.baseId,n),h=AT(l.baseId,n),p=n===l.value;return A.jsx(DH,{asChild:!0,...c,focusable:!s,active:p,children:A.jsx(nv.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...o,ref:e,onMouseDown:Pe(r.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?l.onValueChange(n):m.preventDefault()}),onKeyDown:Pe(r.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(n)}),onFocus:Pe(r.onFocus,()=>{const m=l.activationMode!=="manual";!p&&!s&&m&&l.onValueChange(n)})})})});wT.displayName=yT;var bT="TabsContent",xT=S.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,forceMount:s,children:o,...l}=r,c=tx(bT,t),u=ST(c.baseId,n),h=AT(c.baseId,n),p=n===c.value,m=S.useRef(p);return S.useEffect(()=>{const v=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(v)},[]),A.jsx(Hr,{present:s||p,children:({present:v})=>A.jsx(nv.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!v,id:h,tabIndex:0,...l,ref:e,style:{...r.style,animationDuration:m.current?"0s":void 0},children:v&&o})})});xT.displayName=bT;function ST(r,e){return`${r}-trigger-${e}`}function AT(r,e){return`${r}-content-${e}`}var $H=mT,zH=vT,HH=wT,BH=xT;function WH({className:r,...e}){return A.jsx($H,{"data-slot":"tabs",className:ke("flex flex-col gap-2",r),...e})}function UH({className:r,...e}){return A.jsx(zH,{"data-slot":"tabs-list",className:ke("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",r),...e})}function d1({className:r,...e}){return A.jsx(HH,{"data-slot":"tabs-trigger",className:ke("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...e})}function h1({className:r,...e}){return A.jsx(BH,{"data-slot":"tabs-content",className:ke("flex-1 outline-none",r),...e})}function ET({className:r,...e}){return A.jsx("div",{"data-slot":"card",className:ke("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...e})}function VH({className:r,...e}){return A.jsx("div",{"data-slot":"card-header",className:ke("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...e})}function GH({className:r,...e}){return A.jsx("div",{"data-slot":"card-title",className:ke("leading-none font-semibold",r),...e})}function YH({className:r,...e}){return A.jsx("div",{"data-slot":"card-description",className:ke("text-muted-foreground text-sm",r),...e})}function XH({className:r,...e}){return A.jsx("div",{"data-slot":"card-content",className:ke("px-6",r),...e})}const qH=$g("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function f1({className:r,variant:e,...t}){return A.jsx("div",{"data-slot":"alert",role:"alert",className:ke(qH({variant:e}),r),...t})}function p1({className:r,...e}){return A.jsx("div",{"data-slot":"alert-title",className:ke("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",r),...e})}function m1({className:r,...e}){return A.jsx("div",{"data-slot":"alert-description",className:ke("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",r),...e})}var KH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],CT=KH.reduce((r,e)=>{const t=$n(`Primitive.${e}`),n=S.forwardRef((s,o)=>{const{asChild:l,...c}=s,u=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(u,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{}),nx="Progress",rx=100,[QH,B5]=zr(nx),[JH,ZH]=QH(nx),_T=S.forwardRef((r,e)=>{const{__scopeProgress:t,value:n=null,max:s,getValueLabel:o=eB,...l}=r;(s||s===0)&&!g1(s)&&console.error(tB(`${s}`,"Progress"));const c=g1(s)?s:rx;n!==null&&!v1(n,c)&&console.error(nB(`${n}`,"Progress"));const u=v1(n,c)?n:null,h=ug(u)?o(u,c):void 0;return A.jsx(JH,{scope:t,value:u,max:c,children:A.jsx(CT.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":ug(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":PT(u,c),"data-value":u??void 0,"data-max":c,...l,ref:e})})});_T.displayName=nx;var kT="ProgressIndicator",TT=S.forwardRef((r,e)=>{const{__scopeProgress:t,...n}=r,s=ZH(kT,t);return A.jsx(CT.div,{"data-state":PT(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});TT.displayName=kT;function eB(r,e){return`${Math.round(r/e*100)}%`}function PT(r,e){return r==null?"indeterminate":r===e?"complete":"loading"}function ug(r){return typeof r=="number"}function g1(r){return ug(r)&&!isNaN(r)&&r>0}function v1(r,e){return ug(r)&&!isNaN(r)&&r<=e&&r>=0}function tB(r,e){return`Invalid prop \`max\` of value \`${r}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${rx}\`.`}function nB(r,e){return`Invalid prop \`value\` of value \`${r}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${rx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rB=_T,sB=TT;function iB({className:r,value:e,...t}){return A.jsx(rB,{"data-slot":"progress",className:ke("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",r),...t,children:A.jsx(sB,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const oB="modulepreload",aB=function(r,e){return new URL(r,e).href},y1={},fm=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const c=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=l(t.map(p=>{if(p=aB(p,n),p in y1)return;y1[p]=!0;const m=p.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(!!n)for(let x=c.length-1;x>=0;x--){const C=c[x];if(C.href===p&&(!m||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${v}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":oB,m||(b.as="script"),b.crossOrigin="",b.href=p,h&&b.setAttribute("nonce",h),document.head.appendChild(b),m)return new Promise((x,C)=>{b.addEventListener("load",x),b.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};var ch={};ch.d=(r,e)=>{for(var t in e)ch.o(e,t)&&!ch.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})};ch.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var Oe=globalThis.pdfjsLib={};ch.d(Oe,{AbortException:()=>ec,AnnotationEditorLayer:()=>ab,AnnotationEditorParamsType:()=>De,AnnotationEditorType:()=>He,AnnotationEditorUIManager:()=>Gl,AnnotationLayer:()=>i5,AnnotationMode:()=>No,ColorPicker:()=>pg,DOMSVGFactory:()=>mx,DrawLayer:()=>db,FeatureTest:()=>On,GlobalWorkerOptions:()=>ji,ImageKind:()=>Cm,InvalidPDFException:()=>NT,MissingPDFException:()=>Zl,OPS:()=>Jr,OutputScale:()=>tw,PDFDataRangeTransport:()=>kP,PDFDateString:()=>lx,PDFWorker:()=>Wc,PasswordResponses:()=>dB,PermissionFlag:()=>uB,PixelsPerInch:()=>la,RenderingCancelledException:()=>ox,TextLayer:()=>vh,UnexpectedResponseException:()=>av,Util:()=>_e,VerbosityLevel:()=>sv,XfaLayer:()=>PP,build:()=>$4,createValidAbsoluteUrl:()=>mB,fetchData:()=>cv,getDocument:()=>R4,getFilenameFromUrl:()=>EB,getPdfFilenameFromUrl:()=>CB,getXfaPageViewport:()=>_B,isDataScheme:()=>uv,isPdfFile:()=>ax,noContextMenu:()=>$r,normalizeUnicode:()=>xB,setLayerDimensions:()=>Vl,shadow:()=>qe,version:()=>j4});const Tn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),RT=[1,0,0,1,0,0],Q0=[.001,0,0,.001,0,0],lB=1e7,y0=1.35,mr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},No={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},cB="pdfjs_internal_editor_",He={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},De={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},uB={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Sn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Cm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ut={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Wd={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},sv={ERRORS:0,WARNINGS:1,INFOS:5},Jr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},dB={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let iv=sv.WARNINGS;function hB(r){Number.isInteger(r)&&(iv=r)}function fB(){return iv}function ov(r){iv>=sv.INFOS&&console.log(`Info: ${r}`)}function Ue(r){iv>=sv.WARNINGS&&console.log(`Warning: ${r}`)}function ht(r){throw new Error(r)}function qt(r,e){r||ht(e)}function pB(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function mB(r,e=null,t=null){if(!r)return null;try{if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const s=r.match(/\./g);(s==null?void 0:s.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=bB(r)}catch{}}const n=e?new URL(r,e):new URL(r);if(pB(n))return n}catch{}return null}function qe(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const ga=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class J0 extends ga{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Z0 extends ga{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class NT extends ga{constructor(e){super(e,"InvalidPDFException")}}class Zl extends ga{constructor(e){super(e,"MissingPDFException")}}class av extends ga{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class gB extends ga{constructor(e){super(e,"FormatError")}}class ec extends ga{constructor(e){super(e,"AbortException")}}function MT(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&ht("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let s=0;s<e;s+=t){const o=Math.min(s+t,e),l=r.subarray(s,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function lv(r){typeof r!="string"&&ht("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function vB(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function sx(r){const e=Object.create(null);for(const[t,n]of r)e[t]=n;return e}function yB(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function wB(){try{return new Function(""),!0}catch{return!1}}class On{static get isLittleEndian(){return qe(this,"isLittleEndian",yB())}static get isEvalSupported(){return qe(this,"isEvalSupported",wB())}static get isOffscreenCanvasSupported(){return qe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?qe(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):qe(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return qe(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const w0=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var Wi,_m,ew;class _e{static makeHexColor(e,t,n){return`#${w0[e]}${w0[t]}${w0[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[n,s]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[s,o]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),l=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],s[0],o[0],l[0]),Math.min(n[1],s[1],o[1],l[1]),Math.max(n[0],s[0],o[0],l[0]),Math.max(n[1],s[1],o[1],l[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],l=e[2]*t[1]+e[3]*t[3],c=(n+l)/2,u=Math.sqrt((n+l)**2-4*(n*l-o*s))/2,h=c+u||1,p=c-u||1;return[Math.sqrt(h),Math.sqrt(p)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>s)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>l?null:[n,o,s,l]}static bezierBoundingBox(e,t,n,s,o,l,c,u,h){return h?(h[0]=Math.min(h[0],e,c),h[1]=Math.min(h[1],t,u),h[2]=Math.max(h[2],e,c),h[3]=Math.max(h[3],t,u)):h=[Math.min(e,c),Math.min(t,u),Math.max(e,c),Math.max(t,u)],N(this,Wi,ew).call(this,e,n,o,c,t,s,l,u,3*(-e+3*(n-o)+c),6*(e-2*n+o),3*(n-e),h),N(this,Wi,ew).call(this,e,n,o,c,t,s,l,u,3*(-t+3*(s-l)+u),6*(t-2*s+l),3*(s-t),h),h}}Wi=new WeakSet,_m=function(e,t,n,s,o,l,c,u,h,p){if(h<=0||h>=1)return;const m=1-h,v=h*h,w=v*h,b=m*(m*(m*e+3*h*t)+3*v*n)+w*s,x=m*(m*(m*o+3*h*l)+3*v*c)+w*u;p[0]=Math.min(p[0],b),p[1]=Math.min(p[1],x),p[2]=Math.max(p[2],b),p[3]=Math.max(p[3],x)},ew=function(e,t,n,s,o,l,c,u,h,p,m,v){if(Math.abs(h)<1e-12){Math.abs(p)>=1e-12&&N(this,Wi,_m).call(this,e,t,n,s,o,l,c,u,-m/p,v);return}const w=p**2-4*m*h;if(w<0)return;const b=Math.sqrt(w),x=2*h;N(this,Wi,_m).call(this,e,t,n,s,o,l,c,u,(-p+b)/x,v),N(this,Wi,_m).call(this,e,t,n,s,o,l,c,u,(-p-b)/x,v)},I(_e,Wi);function bB(r){return decodeURIComponent(escape(r))}let b0=null,w1=null;function xB(r){return b0||(b0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,w1=new Map([["ﬅ","ſt"]])),r.replaceAll(b0,(e,t,n)=>t?t.normalize("NFKC"):w1.get(n))}function SB(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const r=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(r);else for(let e=0;e<32;e++)r[e]=Math.floor(Math.random()*255);return MT(r)}const ix="pdfjs_internal_id_",ci={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function AB(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(MT(r))}const di="http://www.w3.org/2000/svg",Ba=class Ba{};Le(Ba,"CSS",96),Le(Ba,"PDF",72),Le(Ba,"PDF_TO_CSS_UNITS",Ba.CSS/Ba.PDF);let la=Ba;async function cv(r,e="text"){if(Yd(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const s=new XMLHttpRequest;s.open("GET",r,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class Bf{constructor({viewBox:e,scale:t,rotation:n,offsetX:s=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=s,this.offsetY=o;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let h,p,m,v;switch(n%=360,n<0&&(n+=360),n){case 180:h=-1,p=0,m=0,v=1;break;case 90:h=0,p=1,m=1,v=0;break;case 270:h=0,p=-1,m=-1,v=0;break;case 0:h=1,p=0,m=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(m=-m,v=-v);let w,b,x,C;h===0?(w=Math.abs(u-e[1])*t+s,b=Math.abs(c-e[0])*t+o,x=(e[3]-e[1])*t,C=(e[2]-e[0])*t):(w=Math.abs(c-e[0])*t+s,b=Math.abs(u-e[1])*t+o,x=(e[2]-e[0])*t,C=(e[3]-e[1])*t),this.transform=[h*t,p*t,m*t,v*t,w-h*t*c-m*t*u,b-p*t*c-v*t*u],this.width=x,this.height=C}get rawDims(){const{viewBox:e}=this;return qe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:o=!1}={}){return new Bf({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:o})}convertToViewportPoint(e,t){return _e.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=_e.applyTransform([e[0],e[1]],this.transform),n=_e.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return _e.applyInverseTransform([e,t],this.transform)}}class ox extends ga{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function uv(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function ax(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function EB(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function CB(r,e="document.pdf"){if(typeof r!="string")return e;if(uv(r))return Ue('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(r);let o=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(o&&(o=o[0],o.includes("%")))try{o=n.exec(decodeURIComponent(o))[0]}catch{}return o||e}class b1{constructor(){Le(this,"started",Object.create(null));Le(this,"times",[])}time(e){e in this.started&&Ue(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ue(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:s,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-s}ms
`);return e.join("")}}function Yd(r,e){try{const{protocol:t}=e?new URL(r,e):new URL(r);return t==="http:"||t==="https:"}catch{return!1}}function $r(r){r.preventDefault()}function x1(r){console.log("Deprecated API usage: "+r)}var wh;class lx{static toDateObject(e){if(!e||typeof e!="string")return null;f(this,wh)||P(this,wh,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=f(this,wh).exec(e);if(!t)return null;const n=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;const h=t[7]||"Z";let p=parseInt(t[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(t[9],10)||0;return m=m>=0&&m<=59?m:0,h==="-"?(l+=p,c+=m):h==="+"&&(l-=p,c-=m),new Date(Date.UTC(n,s,o,l,c,u))}}wh=new WeakMap,I(lx,wh);function _B(r,{scale:e=1,rotation:t=0}){const{width:n,height:s}=r.attributes.style,o=[0,0,parseInt(n),parseInt(s)];return new Bf({viewBox:o,scale:e,rotation:t})}function cx(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ue(`Not a valid color format: "${r}"`),[0,0,0])}function kB(r){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,cx(n))}e.remove()}function xt(r){const{a:e,b:t,c:n,d:s,e:o,f:l}=r.getTransform();return[e,t,n,s,o,l]}function ui(r){const{a:e,b:t,c:n,d:s,e:o,f:l}=r.getTransform().invertSelf();return[e,t,n,s,o,l]}function Vl(r,e,t=!1,n=!0){if(e instanceof Bf){const{pageWidth:s,pageHeight:o}=e.rawDims,{style:l}=r,c=On.isCSSRoundSupported,u=`var(--scale-factor) * ${s}px`,h=`var(--scale-factor) * ${o}px`,p=c?`round(down, ${u}, var(--scale-round-x, 1px))`:`calc(${u})`,m=c?`round(down, ${h}, var(--scale-round-y, 1px))`:`calc(${h})`;!t||e.rotation%180===0?(l.width=p,l.height=m):(l.width=m,l.height=p)}n&&r.setAttribute("data-main-rotation",e.rotation)}class tw{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Mo,Va,Zr,Ga,bh,xh,yg,IT,Fn,LT,DT,km,OT,rw;const hi=class hi{constructor(e){I(this,Fn);I(this,Mo,null);I(this,Va,null);I(this,Zr);I(this,Ga,null);I(this,bh,null);P(this,Zr,e),f(hi,xh)||P(hi,xh,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=P(this,Mo,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=f(this,Zr)._uiManager._signal;e.addEventListener("contextmenu",$r,{signal:t}),e.addEventListener("pointerdown",N(hi,yg,IT),{signal:t});const n=P(this,Ga,document.createElement("div"));n.className="buttons",e.append(n);const s=f(this,Zr).toolbarPosition;if(s){const{style:o}=e,l=f(this,Zr)._uiManager.direction==="ltr"?1-s[0]:s[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return N(this,Fn,OT).call(this),e}get div(){return f(this,Mo)}hide(){var e;f(this,Mo).classList.add("hidden"),(e=f(this,Va))==null||e.hideDropdown()}show(){var e;f(this,Mo).classList.remove("hidden"),(e=f(this,bh))==null||e.shown()}async addAltText(e){const t=await e.render();N(this,Fn,km).call(this,t),f(this,Ga).prepend(t,f(this,Fn,rw)),P(this,bh,e)}addColorPicker(e){P(this,Va,e);const t=e.renderButton();N(this,Fn,km).call(this,t),f(this,Ga).prepend(t,f(this,Fn,rw))}remove(){var e;f(this,Mo).remove(),(e=f(this,Va))==null||e.destroy(),P(this,Va,null)}};Mo=new WeakMap,Va=new WeakMap,Zr=new WeakMap,Ga=new WeakMap,bh=new WeakMap,xh=new WeakMap,yg=new WeakSet,IT=function(e){e.stopPropagation()},Fn=new WeakSet,LT=function(e){f(this,Zr)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},DT=function(e){f(this,Zr)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},km=function(e){const t=f(this,Zr)._uiManager._signal;e.addEventListener("focusin",N(this,Fn,LT).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",N(this,Fn,DT).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",$r,{signal:t})},OT=function(){const{editorType:e,_uiManager:t}=f(this,Zr),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",f(hi,xh)[e]),N(this,Fn,km).call(this,n),n.addEventListener("click",s=>{t.delete()},{signal:t._signal}),f(this,Ga).append(n)},rw=function(){const e=document.createElement("div");return e.className="divider",e},I(hi,yg),I(hi,xh,null);let nw=hi;var Sh,Ya,Xa,ua,FT,jT,$T;class TB{constructor(e){I(this,ua);I(this,Sh,null);I(this,Ya,null);I(this,Xa);P(this,Xa,e)}show(e,t,n){const[s,o]=N(this,ua,jT).call(this,t,n),{style:l}=f(this,Ya)||P(this,Ya,N(this,ua,FT).call(this));e.append(f(this,Ya)),l.insetInlineEnd=`${100*s}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,Ya).remove()}}Sh=new WeakMap,Ya=new WeakMap,Xa=new WeakMap,ua=new WeakSet,FT=function(){const e=P(this,Ya,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",$r,{signal:f(this,Xa)._signal});const t=P(this,Sh,document.createElement("div"));return t.className="buttons",e.append(t),N(this,ua,$T).call(this),e},jT=function(e,t){let n=0,s=0;for(const o of e){const l=o.y+o.height;if(l<n)continue;const c=o.x+(t?o.width:0);if(l>n){s=c,n=l;continue}t?c>s&&(s=c):c<s&&(s=c)}return[t?1-s:s,n]},$T=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=f(this,Xa)._signal;e.addEventListener("contextmenu",$r,{signal:n}),e.addEventListener("click",()=>{f(this,Xa).highlightSelection("floating_button")},{signal:n}),f(this,Sh).append(e)};function dg(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}function PB(r){return Math.round(Math.min(255,Math.max(1,255*r))).toString(16).padStart(2,"0")}var wg;class RB{constructor(){I(this,wg,0)}get id(){return`${cB}${Nn(this,wg)._++}`}}wg=new WeakMap;var Uc,Ah,En,Vc,Tm;const bx=class bx{constructor(){I(this,Vc);I(this,Uc,SB());I(this,Ah,0);I(this,En,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const o=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return qe(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:n,size:s,type:o}=e;return N(this,Vc,Tm).call(this,`${t}_${n}_${s}_${o}`,e)}async getFromUrl(e){return N(this,Vc,Tm).call(this,e,e)}async getFromBlob(e,t){const n=await t;return N(this,Vc,Tm).call(this,e,n)}async getFromId(e){f(this,En)||P(this,En,new Map);const t=f(this,En).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){f(this,En)||P(this,En,new Map);let n=f(this,En).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${f(this,Uc)}_${Nn(this,Ah)._++}`,refCounter:1,isSvg:!1},f(this,En).set(e,n),f(this,En).set(n.id,n),n}getSvgUrl(e){const t=f(this,En).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;f(this,En)||P(this,En,new Map);const t=f(this,En).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const o=new OffscreenCanvas(n.width,n.height);o.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=o.convertToBlob()}(s=n.close)==null||s.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${f(this,Uc)}_`)}};Uc=new WeakMap,Ah=new WeakMap,En=new WeakMap,Vc=new WeakSet,Tm=async function(e,t){f(this,En)||P(this,En,new Map);let n=f(this,En).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${f(this,Uc)}_${Nn(this,Ah)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(n.url=t,s=await cv(t,"blob")):t instanceof File?s=n.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const o=bx._isSVGFittingCanvas,l=new FileReader,c=new Image,u=new Promise((h,p)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,h()},l.onload=async()=>{const m=n.svgUrl=l.result;c.src=await o?`${m}#svgView(preserveAspectRatio(none))`:m},c.onerror=l.onerror=p});l.readAsDataURL(s),await u}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){console.error(s),n=null}return f(this,En).set(e,n),n&&f(this,En).set(n.id,n),n};let sw=bx;var tn,Io,Eh,nn;class NB{constructor(e=128){I(this,tn,[]);I(this,Io,!1);I(this,Eh);I(this,nn,-1);P(this,Eh,e)}add({cmd:e,undo:t,post:n,mustExec:s,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(s&&e(),f(this,Io))return;const u={cmd:e,undo:t,post:n,type:o};if(f(this,nn)===-1){f(this,tn).length>0&&(f(this,tn).length=0),P(this,nn,0),f(this,tn).push(u);return}if(l&&f(this,tn)[f(this,nn)].type===o){c&&(u.undo=f(this,tn)[f(this,nn)].undo),f(this,tn)[f(this,nn)]=u;return}const h=f(this,nn)+1;h===f(this,Eh)?f(this,tn).splice(0,1):(P(this,nn,h),h<f(this,tn).length&&f(this,tn).splice(h)),f(this,tn).push(u)}undo(){if(f(this,nn)===-1)return;P(this,Io,!0);const{undo:e,post:t}=f(this,tn)[f(this,nn)];e(),t==null||t(),P(this,Io,!1),P(this,nn,f(this,nn)-1)}redo(){if(f(this,nn)<f(this,tn).length-1){P(this,nn,f(this,nn)+1),P(this,Io,!0);const{cmd:e,post:t}=f(this,tn)[f(this,nn)];e(),t==null||t(),P(this,Io,!1)}}hasSomethingToUndo(){return f(this,nn)!==-1}hasSomethingToRedo(){return f(this,nn)<f(this,tn).length-1}destroy(){P(this,tn,null)}}tn=new WeakMap,Io=new WeakMap,Eh=new WeakMap,nn=new WeakMap;var bg,zT;class Wf{constructor(e){I(this,bg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=On.platform;for(const[n,s,o={}]of e)for(const l of n){const c=l.startsWith("mac+");t&&c?(this.callbacks.set(l.slice(4),{callback:s,options:o}),this.allKeys.add(l.split("+").at(-1))):!t&&!c&&(this.callbacks.set(l,{callback:s,options:o}),this.allKeys.add(l.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(N(this,bg,zT).call(this,t));if(!n)return;const{callback:s,options:{bubbles:o=!1,args:l=[],checker:c=null}}=n;c&&!c(e,t)||(s.bind(e,...l,t)(),o||(t.stopPropagation(),t.preventDefault()))}}bg=new WeakSet,zT=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const xg=class xg{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return kB(e),qe(this,"_colors",e)}convert(e){const t=cx(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,s]of this._colors)if(s.every((o,l)=>o===t[l]))return xg._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?_e.makeHexColor(...t):e}};Le(xg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let iw=xg;var Gc,ar,Gt,fn,Yc,pi,Xc,es,Lo,qc,qa,ks,ts,Ka,Ch,_h,Kc,kh,Ts,Do,Qc,Oo,Ps,Sg,Fo,Th,jo,Qa,Ph,Rh,rn,tt,mi,Ja,Nh,Mh,$o,Rs,gi,Ih,Nr,pe,Pm,ow,HT,BT,Rm,WT,UT,VT,aw,GT,lw,cw,YT,Mn,To,XT,qT,uw,KT,Xd,dw;const $c=class $c{constructor(e,t,n,s,o,l,c,u,h,p,m){I(this,pe);I(this,Gc,new AbortController);I(this,ar,null);I(this,Gt,new Map);I(this,fn,new Map);I(this,Yc,null);I(this,pi,null);I(this,Xc,null);I(this,es,new NB);I(this,Lo,null);I(this,qc,0);I(this,qa,new Set);I(this,ks,null);I(this,ts,null);I(this,Ka,new Set);I(this,Ch,!1);I(this,_h,!1);I(this,Kc,!1);I(this,kh,null);I(this,Ts,null);I(this,Do,null);I(this,Qc,null);I(this,Oo,!1);I(this,Ps,null);I(this,Sg,new RB);I(this,Fo,!1);I(this,Th,!1);I(this,jo,null);I(this,Qa,null);I(this,Ph,null);I(this,Rh,null);I(this,rn,He.NONE);I(this,tt,new Set);I(this,mi,null);I(this,Ja,null);I(this,Nh,null);I(this,Mh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});I(this,$o,[0,0]);I(this,Rs,null);I(this,gi,null);I(this,Ih,null);I(this,Nr,null);const v=this._signal=f(this,Gc).signal;P(this,gi,e),P(this,Ih,t),P(this,Yc,n),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:v}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),s._on("setpreference",this.onSetPreference.bind(this),{signal:v}),s._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:v}),N(this,pe,WT).call(this),N(this,pe,YT).call(this),N(this,pe,aw).call(this),P(this,pi,o.annotationStorage),P(this,kh,o.filterFactory),P(this,Ja,l),P(this,Qc,c||null),P(this,Ch,u),P(this,_h,h),P(this,Kc,p),P(this,Rh,m||null),this.viewParameters={realScale:la.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=$c.prototype,t=l=>f(l,gi).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:u}=c;return u!=="text"&&u!=="number"}return!0},s=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return qe(this,"_keyboardManager",new Wf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&f(l,gi).contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&f(l,gi).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,n,s;(e=f(this,Nr))==null||e.resolve(),P(this,Nr,null),(t=f(this,Gc))==null||t.abort(),P(this,Gc,null),this._signal=null;for(const o of f(this,fn).values())o.destroy();f(this,fn).clear(),f(this,Gt).clear(),f(this,Ka).clear(),P(this,ar,null),f(this,tt).clear(),f(this,es).destroy(),(n=f(this,Yc))==null||n.destroy(),(s=f(this,Ps))==null||s.hide(),P(this,Ps,null),f(this,Ts)&&(clearTimeout(f(this,Ts)),P(this,Ts,null)),f(this,Rs)&&(clearTimeout(f(this,Rs)),P(this,Rs,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return f(this,Rh)}get useNewAltTextFlow(){return f(this,_h)}get useNewAltTextWhenAddingImage(){return f(this,Kc)}get hcmFilter(){return qe(this,"hcmFilter",f(this,Ja)?f(this,kh).addHCMFilter(f(this,Ja).foreground,f(this,Ja).background):"none")}get direction(){return qe(this,"direction",getComputedStyle(f(this,gi)).direction)}get highlightColors(){return qe(this,"highlightColors",f(this,Qc)?new Map(f(this,Qc).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return qe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){P(this,Ph,e)}editAltText(e,t=!1){var n;(n=f(this,Yc))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":P(this,Kc,t);break}}onPageChanging({pageNumber:e}){P(this,qc,e-1)}focusMainContainer(){f(this,gi).focus()}findParent(e,t){for(const n of f(this,fn).values()){const{x:s,y:o,width:l,height:c}=n.div.getBoundingClientRect();if(e>=s&&e<=s+l&&t>=o&&t<=o+c)return n}return null}disableUserSelect(e=!1){f(this,Ih).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,Ka).add(e)}removeShouldRescale(e){f(this,Ka).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*la.PDF_TO_CSS_UNITS;for(const t of f(this,Ka))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:o,focusOffset:l}=t,c=t.toString(),h=N(this,pe,Pm).call(this,t).closest(".textLayer"),p=this.getSelectionBoxes(h);if(!p)return;t.empty();const m=N(this,pe,ow).call(this,h),v=f(this,rn)===He.NONE,w=()=>{m==null||m.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:n,anchorOffset:s,focusNode:o,focusOffset:l,text:c}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(He.HIGHLIGHT,w);return}w()}addToAnnotationStorage(e){!e.isEmpty()&&f(this,pi)&&!f(this,pi).has(e.id)&&f(this,pi).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,f(this,Oo)&&(P(this,Oo,!1),N(this,pe,Rm).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,tt))if(t.div.contains(e)){P(this,Qa,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,Qa))return;const[e,t]=f(this,Qa);P(this,Qa,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){N(this,pe,aw).call(this),N(this,pe,lw).call(this)}removeEditListeners(){N(this,pe,GT).call(this),N(this,pe,cw).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of f(this,ts))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of f(this,ts))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=f(this,ar))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of f(this,tt)){const o=s.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const l of f(this,ts))if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Ue(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const o=[];for(const u of n){const h=await s.deserialize(u);if(!h)return;o.push(h)}const l=()=>{for(const u of o)N(this,pe,uw).call(this,u);N(this,pe,dw).call(this,o)},c=()=>{for(const u of o)u.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(o){Ue(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,rn)!==He.NONE&&!this.isEditorHandlingKeyboard&&$c._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,Oo)&&(P(this,Oo,!1),N(this,pe,Rm).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(N(this,pe,UT).call(this),N(this,pe,lw).call(this),N(this,pe,Mn).call(this,{isEditing:f(this,rn)!==He.NONE,isEmpty:N(this,pe,Xd).call(this),hasSomethingToUndo:f(this,es).hasSomethingToUndo(),hasSomethingToRedo:f(this,es).hasSomethingToRedo(),hasSelectedEditor:!1})):(N(this,pe,VT).call(this),N(this,pe,cw).call(this),N(this,pe,Mn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,ts)){P(this,ts,e);for(const t of f(this,ts))N(this,pe,To).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,Sg).id}get currentLayer(){return f(this,fn).get(f(this,qc))}getLayer(e){return f(this,fn).get(e)}get currentPageIndex(){return f(this,qc)}addLayer(e){f(this,fn).set(e.pageIndex,e),f(this,Fo)?e.enable():e.disable()}removeLayer(e){f(this,fn).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){if(f(this,rn)!==e&&!(f(this,Nr)&&(await f(this,Nr).promise,!f(this,Nr)))){if(P(this,Nr,Promise.withResolvers()),P(this,rn,e),e===He.NONE){this.setEditingState(!1),N(this,pe,qT).call(this),f(this,Nr).resolve();return}this.setEditingState(!0),await N(this,pe,XT).call(this),this.unselectAll();for(const s of f(this,fn).values())s.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),f(this,Nr).resolve();return}for(const s of f(this,Gt).values())s.annotationElementId===t?(this.setSelected(s),s.enterInEditMode()):s.unselect();f(this,Nr).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==f(this,rn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(f(this,ts)){switch(e){case De.CREATE:this.currentLayer.addNewEditor();return;case De.HIGHLIGHT_DEFAULT_COLOR:(n=f(this,Ph))==null||n.updateColor(t);break;case De.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,Nh)||P(this,Nh,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of f(this,tt))s.updateParams(e,t);for(const s of f(this,ts))s.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var o;for(const l of f(this,Gt).values())l.editorType===e&&l.show(t);(((o=f(this,Nh))==null?void 0:o.get(De.HIGHLIGHT_SHOW_ALL))??!0)!==t&&N(this,pe,To).call(this,[[De.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,Th)!==e){P(this,Th,e);for(const t of f(this,fn).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of f(this,Gt).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return f(this,Gt).get(e)}addEditor(e){f(this,Gt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(f(this,Ts)&&clearTimeout(f(this,Ts)),P(this,Ts,setTimeout(()=>{this.focusMainContainer(),P(this,Ts,null)},0))),f(this,Gt).delete(e.id),this.unselect(e),(!e.annotationElementId||!f(this,qa).has(e.annotationElementId))&&((t=f(this,pi))==null||t.remove(e.id))}addDeletedAnnotationElement(e){f(this,qa).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,qa).has(e)}removeDeletedAnnotationElement(e){f(this,qa).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,ar)!==e&&(P(this,ar,e),e&&N(this,pe,To).call(this,e.propertiesToUpdate))}updateUI(e){f(this,pe,KT)===e&&N(this,pe,To).call(this,e.propertiesToUpdate)}toggleSelected(e){if(f(this,tt).has(e)){f(this,tt).delete(e),e.unselect(),N(this,pe,Mn).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,tt).add(e),e.select(),N(this,pe,To).call(this,e.propertiesToUpdate),N(this,pe,Mn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of f(this,tt))t!==e&&t.unselect();f(this,tt).clear(),f(this,tt).add(e),e.select(),N(this,pe,To).call(this,e.propertiesToUpdate),N(this,pe,Mn).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,tt).has(e)}get firstSelectedEditor(){return f(this,tt).values().next().value}unselect(e){e.unselect(),f(this,tt).delete(e),N(this,pe,Mn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,tt).size!==0}get isEnterHandled(){return f(this,tt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){f(this,es).undo(),N(this,pe,Mn).call(this,{hasSomethingToUndo:f(this,es).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:N(this,pe,Xd).call(this)})}redo(){f(this,es).redo(),N(this,pe,Mn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,es).hasSomethingToRedo(),isEmpty:N(this,pe,Xd).call(this)})}addCommands(e){f(this,es).add(e),N(this,pe,Mn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:N(this,pe,Xd).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...f(this,tt)],t=()=>{for(const s of e)s.remove()},n=()=>{for(const s of e)N(this,pe,uw).call(this,s)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=f(this,ar))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,ar)||this.hasSelection}selectAll(){for(const e of f(this,tt))e.commit();N(this,pe,dw).call(this,f(this,Gt).values())}unselectAll(){if(!(f(this,ar)&&(f(this,ar).commitOrRemove(),f(this,rn)!==He.NONE))&&this.hasSelection){for(const e of f(this,tt))e.unselect();f(this,tt).clear(),N(this,pe,Mn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;f(this,$o)[0]+=e,f(this,$o)[1]+=t;const[s,o]=f(this,$o),l=[...f(this,tt)],c=1e3;f(this,Rs)&&clearTimeout(f(this,Rs)),P(this,Rs,setTimeout(()=>{P(this,Rs,null),f(this,$o)[0]=f(this,$o)[1]=0,this.addCommands({cmd:()=>{for(const u of l)f(this,Gt).has(u.id)&&u.translateInPage(s,o)},undo:()=>{for(const u of l)f(this,Gt).has(u.id)&&u.translateInPage(-s,-o)},mustExec:!1})},c));for(const u of l)u.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),P(this,ks,new Map);for(const e of f(this,tt))f(this,ks).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,ks))return!1;this.disableUserSelect(!1);const e=f(this,ks);P(this,ks,null);let t=!1;for(const[{x:s,y:o,pageIndex:l},c]of e)c.newX=s,c.newY=o,c.newPageIndex=l,t||(t=s!==c.savedX||o!==c.savedY||l!==c.savedPageIndex);if(!t)return!1;const n=(s,o,l,c)=>{if(f(this,Gt).has(s.id)){const u=f(this,fn).get(c);u?s._setParentAndPosition(u,o,l):(s.pageIndex=c,s.x=o,s.y=l)}};return this.addCommands({cmd:()=>{for(const[s,{newX:o,newY:l,newPageIndex:c}]of e)n(s,o,l,c)},undo:()=>{for(const[s,{savedX:o,savedY:l,savedPageIndex:c}]of e)n(s,o,l,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,ks))for(const n of f(this,ks).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,tt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,ar)===e}getActive(){return f(this,ar)}getMode(){return f(this,rn)}get imageManager(){return qe(this,"imageManager",new sw)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let h=0,p=t.rangeCount;h<p;h++)if(!e.contains(t.getRangeAt(h).commonAncestorContainer))return null;const{x:n,y:s,width:o,height:l}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(h,p,m,v)=>({x:(p-s)/l,y:1-(h+m-n)/o,width:v/l,height:m/o});break;case"180":c=(h,p,m,v)=>({x:1-(h+m-n)/o,y:1-(p+v-s)/l,width:m/o,height:v/l});break;case"270":c=(h,p,m,v)=>({x:1-(p+v-s)/l,y:(h-n)/o,width:v/l,height:m/o});break;default:c=(h,p,m,v)=>({x:(h-n)/o,y:(p-s)/l,width:m/o,height:v/l});break}const u=[];for(let h=0,p=t.rangeCount;h<p;h++){const m=t.getRangeAt(h);if(!m.collapsed)for(const{x:v,y:w,width:b,height:x}of m.getClientRects())b===0||x===0||u.push(c(v,w,b,x))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,Xc)||P(this,Xc,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,Xc))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=f(this,Xc))==null?void 0:s.get(e.data.id);if(!t)return;const n=f(this,pi).getRawValue(t);n&&(f(this,rn)===He.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};Gc=new WeakMap,ar=new WeakMap,Gt=new WeakMap,fn=new WeakMap,Yc=new WeakMap,pi=new WeakMap,Xc=new WeakMap,es=new WeakMap,Lo=new WeakMap,qc=new WeakMap,qa=new WeakMap,ks=new WeakMap,ts=new WeakMap,Ka=new WeakMap,Ch=new WeakMap,_h=new WeakMap,Kc=new WeakMap,kh=new WeakMap,Ts=new WeakMap,Do=new WeakMap,Qc=new WeakMap,Oo=new WeakMap,Ps=new WeakMap,Sg=new WeakMap,Fo=new WeakMap,Th=new WeakMap,jo=new WeakMap,Qa=new WeakMap,Ph=new WeakMap,Rh=new WeakMap,rn=new WeakMap,tt=new WeakMap,mi=new WeakMap,Ja=new WeakMap,Nh=new WeakMap,Mh=new WeakMap,$o=new WeakMap,Rs=new WeakMap,gi=new WeakMap,Ih=new WeakMap,Nr=new WeakMap,pe=new WeakSet,Pm=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},ow=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of f(this,fn).values())if(n.hasTextLayer(e))return n;return null},HT=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=N(this,pe,Pm).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(f(this,Ps)||P(this,Ps,new TB(this)),f(this,Ps).show(n,s,this.direction==="ltr"))},BT=function(){var o,l,c;const e=document.getSelection();if(!e||e.isCollapsed){f(this,mi)&&((o=f(this,Ps))==null||o.hide(),P(this,mi,null),N(this,pe,Mn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,mi))return;const s=N(this,pe,Pm).call(this,e).closest(".textLayer");if(!s){f(this,mi)&&((l=f(this,Ps))==null||l.hide(),P(this,mi,null),N(this,pe,Mn).call(this,{hasSelectedText:!1}));return}if((c=f(this,Ps))==null||c.hide(),P(this,mi,t),N(this,pe,Mn).call(this,{hasSelectedText:!0}),!(f(this,rn)!==He.HIGHLIGHT&&f(this,rn)!==He.NONE)&&(f(this,rn)===He.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),P(this,Oo,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=f(this,rn)===He.HIGHLIGHT?N(this,pe,ow).call(this,s):null;u==null||u.toggleDrawing();const h=new AbortController,p=this.combinedSignal(h),m=v=>{v.type==="pointerup"&&v.button!==0||(h.abort(),u==null||u.toggleDrawing(!0),v.type==="pointerup"&&N(this,pe,Rm).call(this,"main_toolbar"))};window.addEventListener("pointerup",m,{signal:p}),window.addEventListener("blur",m,{signal:p})}},Rm=function(e=""){f(this,rn)===He.HIGHLIGHT?this.highlightSelection(e):f(this,Ch)&&N(this,pe,HT).call(this)},WT=function(){document.addEventListener("selectionchange",N(this,pe,BT).bind(this),{signal:this._signal})},UT=function(){if(f(this,Do))return;P(this,Do,new AbortController);const e=this.combinedSignal(f(this,Do));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},VT=function(){var e;(e=f(this,Do))==null||e.abort(),P(this,Do,null)},aw=function(){if(f(this,jo))return;P(this,jo,new AbortController);const e=this.combinedSignal(f(this,jo));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},GT=function(){var e;(e=f(this,jo))==null||e.abort(),P(this,jo,null)},lw=function(){if(f(this,Lo))return;P(this,Lo,new AbortController);const e=this.combinedSignal(f(this,Lo));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},cw=function(){var e;(e=f(this,Lo))==null||e.abort(),P(this,Lo,null)},YT=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Mn=function(e){Object.entries(e).some(([n,s])=>f(this,Mh)[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,Mh),e)}),f(this,rn)===He.HIGHLIGHT&&e.hasSelectedEditor===!1&&N(this,pe,To).call(this,[[De.HIGHLIGHT_FREE,!0]]))},To=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},XT=async function(){if(!f(this,Fo)){P(this,Fo,!0);const e=[];for(const t of f(this,fn).values())e.push(t.enable());await Promise.all(e);for(const t of f(this,Gt).values())t.enable()}},qT=function(){if(this.unselectAll(),f(this,Fo)){P(this,Fo,!1);for(const e of f(this,fn).values())e.disable();for(const e of f(this,Gt).values())e.disable()}},uw=function(e){const t=f(this,fn).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},KT=function(){let e=null;for(e of f(this,tt));return e},Xd=function(){if(f(this,Gt).size===0)return!0;if(f(this,Gt).size===1)for(const e of f(this,Gt).values())return e.isEmpty();return!1},dw=function(e){for(const t of f(this,tt))t.unselect();f(this,tt).clear();for(const t of e)t.isEmpty()||(f(this,tt).add(t),t.select());N(this,pe,Mn).call(this,{hasSelectedEditor:this.hasSelection})},Le($c,"TRANSLATE_SMALL",1),Le($c,"TRANSLATE_BIG",10);let Gl=$c;var sn,Ns,ns,Jc,Ms,lr,Zc,Is,Xn,vi,Za,Ls,zo,hs,qd,Nm;const In=class In{constructor(e){I(this,hs);I(this,sn,null);I(this,Ns,!1);I(this,ns,null);I(this,Jc,null);I(this,Ms,null);I(this,lr,null);I(this,Zc,!1);I(this,Is,null);I(this,Xn,null);I(this,vi,null);I(this,Za,null);I(this,Ls,!1);P(this,Xn,e),P(this,Ls,e._uiManager.useNewAltTextFlow),f(In,zo)||P(In,zo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){In._l10n??(In._l10n=e)}async render(){const e=P(this,ns,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=P(this,Jc,document.createElement("span"));e.append(t),f(this,Ls)?(e.classList.add("new"),e.setAttribute("data-l10n-id",f(In,zo).missing),t.setAttribute("data-l10n-id",f(In,zo)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=f(this,Xn)._uiManager._signal;e.addEventListener("contextmenu",$r,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const s=o=>{o.preventDefault(),f(this,Xn)._uiManager.editAltText(f(this,Xn)),f(this,Ls)&&f(this,Xn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,hs,qd)}})};return e.addEventListener("click",s,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(P(this,Zc,!0),s(o))},{signal:n}),await N(this,hs,Nm).call(this),e}finish(){f(this,ns)&&(f(this,ns).focus({focusVisible:f(this,Zc)}),P(this,Zc,!1))}isEmpty(){return f(this,Ls)?f(this,sn)===null:!f(this,sn)&&!f(this,Ns)}hasData(){return f(this,Ls)?f(this,sn)!==null||!!f(this,vi):this.isEmpty()}get guessedText(){return f(this,vi)}async setGuessedText(e){f(this,sn)===null&&(P(this,vi,e),P(this,Za,await In._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),N(this,hs,Nm).call(this))}toggleAltTextBadge(e=!1){var t;if(!f(this,Ls)||f(this,sn)){(t=f(this,Is))==null||t.remove(),P(this,Is,null);return}if(!f(this,Is)){const n=P(this,Is,document.createElement("div"));n.className="noAltTextBadge",f(this,Xn).div.append(n)}f(this,Is).classList.toggle("hidden",!e)}serialize(e){let t=f(this,sn);return!e&&f(this,vi)===t&&(t=f(this,Za)),{altText:t,decorative:f(this,Ns),guessedText:f(this,vi),textWithDisclaimer:f(this,Za)}}get data(){return{altText:f(this,sn),decorative:f(this,Ns)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:s,cancel:o=!1}){n&&(P(this,vi,n),P(this,Za,s)),!(f(this,sn)===e&&f(this,Ns)===t)&&(o||(P(this,sn,e),P(this,Ns,t)),N(this,hs,Nm).call(this))}toggle(e=!1){f(this,ns)&&(!e&&f(this,lr)&&(clearTimeout(f(this,lr)),P(this,lr,null)),f(this,ns).disabled=!e)}shown(){f(this,Xn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,hs,qd)}})}destroy(){var e,t;(e=f(this,ns))==null||e.remove(),P(this,ns,null),P(this,Jc,null),P(this,Ms,null),(t=f(this,Is))==null||t.remove(),P(this,Is,null)}};sn=new WeakMap,Ns=new WeakMap,ns=new WeakMap,Jc=new WeakMap,Ms=new WeakMap,lr=new WeakMap,Zc=new WeakMap,Is=new WeakMap,Xn=new WeakMap,vi=new WeakMap,Za=new WeakMap,Ls=new WeakMap,zo=new WeakMap,hs=new WeakSet,qd=function(){return f(this,sn)&&"added"||f(this,sn)===null&&this.guessedText&&"review"||"missing"},Nm=async function(){var s,o,l;const e=f(this,ns);if(!e)return;if(f(this,Ls)){if(e.classList.toggle("done",!!f(this,sn)),e.setAttribute("data-l10n-id",f(In,zo)[f(this,hs,qd)]),(s=f(this,Jc))==null||s.setAttribute("data-l10n-id",f(In,zo)[`${f(this,hs,qd)}-label`]),!f(this,sn)){(o=f(this,Ms))==null||o.remove();return}}else{if(!f(this,sn)&&!f(this,Ns)){e.classList.remove("done"),(l=f(this,Ms))==null||l.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=f(this,Ms);if(!t){P(this,Ms,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${f(this,Xn).id}`;const c=100,u=f(this,Xn)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(f(this,lr)),P(this,lr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{P(this,lr,setTimeout(()=>{P(this,lr,null),f(this,Ms).classList.add("show"),f(this,Xn)._reportTelemetry({action:"alt_text_tooltip"})},c))},{signal:u}),e.addEventListener("mouseleave",()=>{var h;f(this,lr)&&(clearTimeout(f(this,lr)),P(this,lr,null)),(h=f(this,Ms))==null||h.classList.remove("show")},{signal:u})}f(this,Ns)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=f(this,sn)),t.parentNode||e.append(t);const n=f(this,Xn).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},I(In,zo,null),Le(In,"_l10n",null);let hg=In;var el,rs,wt,eu,tl,pn,nl,Ho,Lh,rl,Bo,Dh,sl,yi,Ds,tu,nu,Mr,Oh,Ag,Be,hw,Fh,fw,pw,QT,JT,mw,gw,vw,ZT,yw,eP,tP,nP,ww,Kd;const Ze=class Ze{constructor(e){I(this,Be);I(this,el,null);I(this,rs,null);I(this,wt,null);I(this,eu,!1);I(this,tl,!1);I(this,pn,null);I(this,nl,null);I(this,Ho,null);I(this,Lh,"");I(this,rl,!1);I(this,Bo,null);I(this,Dh,!1);I(this,sl,!1);I(this,yi,!1);I(this,Ds,null);I(this,tu,0);I(this,nu,0);I(this,Mr,null);Le(this,"_editToolbar",null);Le(this,"_initialOptions",Object.create(null));Le(this,"_initialData",null);Le(this,"_isVisible",!0);Le(this,"_uiManager",null);Le(this,"_focusEventsAllowed",!0);I(this,Oh,!1);I(this,Ag,Ze._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:s,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[o,l];const[c,u]=this.parentDimensions;this.x=e.x/c,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ze.prototype._resizeWithKeyboard,t=Gl.TRANSLATE_SMALL,n=Gl.TRANSLATE_BIG;return qe(this,"_resizerKeyboardManager",new Wf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Ze.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return qe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new MB({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ze._l10n??(Ze._l10n=e),Ze._l10nResizer||(Ze._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ze._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ze._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){ht("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,Oh)}set _isDraggable(e){var t;P(this,Oh,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,Ag)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):N(this,Be,Kd).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,rl)?P(this,rl,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,s){const[o,l]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(e+n)/o,this.y=(t+s)/l,this.fixAndSetPosition()}translate(e,t){N(this,Be,hw).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,Bo)||P(this,Bo,[this.x,this.y]),N(this,Be,hw).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){f(this,Bo)||P(this,Bo,[this.x,this.y]);const[n,s]=this.parentDimensions;if(this.x+=e/n,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[c,u]=this.getBaseTranslation();o+=c,l+=u,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*l).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!f(this,Bo)&&(f(this,Bo)[0]!==this.x||f(this,Bo)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Ze,s=n/e,o=n/t;switch(this.rotation){case 90:return[-s,o];case 180:return[s,o];case 270:return[s,-o];default:return[-s,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:s,y:o,width:l,height:c}=this;if(l*=t,c*=n,s*=t,o*=n,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(t-l,s)),o=Math.max(0,Math.min(n-c,o));break;case 90:s=Math.max(0,Math.min(t-c,s)),o=Math.min(n,Math.max(l,o));break;case 180:s=Math.min(t,Math.max(l,s)),o=Math.min(n,Math.max(c,o));break;case 270:s=Math.min(t,Math.max(c,s)),o=Math.max(0,Math.min(n-l,o));break}this.x=s/=t,this.y=o/=n;const[u,h]=this.getBaseTranslation();s+=u,o+=h;const{style:p}=this.div;p.left=`${(100*s).toFixed(2)}%`,p.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return N(n=Ze,Fh,fw).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return N(n=Ze,Fh,fw).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,s]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,f(this,tl)||(this.div.style.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,s=n.endsWith("%"),o=!f(this,tl)&&t.endsWith("%");if(s&&o)return;const[l,c]=this.parentDimensions;s||(e.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!f(this,tl)&&!o&&(e.height=`${(100*parseFloat(t)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=f(this,wt))==null||e.finish()}async addEditToolbar(){return this._editToolbar||f(this,sl)?this._editToolbar:(this._editToolbar=new nw(this),this.div.append(this._editToolbar.render()),f(this,wt)&&await this._editToolbar.addAltText(f(this,wt)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=f(this,wt))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){f(this,wt)||(hg.initialize(Ze._l10n),P(this,wt,new hg(this)),f(this,el)&&(f(this,wt).data=f(this,el),P(this,el,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=f(this,wt))==null?void 0:e.data}set altTextData(e){f(this,wt)&&(f(this,wt).data=e)}get guessedAltText(){var e;return(e=f(this,wt))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=f(this,wt))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=f(this,wt))==null?void 0:t.serialize(e)}hasAltText(){return!!f(this,wt)&&!f(this,wt).isEmpty()}hasAltTextData(){var e;return((e=f(this,wt))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=f(this,eu)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),N(this,Be,yw).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,s]=this.getInitialTranslation();return this.translate(n,s),dg(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=On.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(P(this,rl,!0),this._isDraggable){N(this,Be,ZT).call(this,e);return}N(this,Be,vw).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){f(this,Ds)&&clearTimeout(f(this,Ds)),P(this,Ds,setTimeout(()=>{var e;P(this,Ds,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const s=this.parentScale,[o,l]=this.pageDimensions,[c,u]=this.pageTranslation,h=e/s,p=t/s,m=this.x*o,v=this.y*l,w=this.width*o,b=this.height*l;switch(n){case 0:return[m+h+c,l-v-p-b+u,m+h+w+c,l-v-p+u];case 90:return[m+p+c,l-v+h+u,m+p+b+c,l-v+h+w+u];case 180:return[m-h-w+c,l-v+p+u,m-h+c,l-v+p+b+u];case 270:return[m-p-b+c,l-v-h-w+u,m-p+c,l-v-h+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,s,o,l]=e,c=o-n,u=l-s;switch(this.rotation){case 0:return[n,t-l,c,u];case 90:return[n,t-s,u,c];case 180:return[o,t-s,c,u];case 270:return[o,t-l,u,c];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){P(this,sl,!0)}disableEditMode(){P(this,sl,!1)}isInEditMode(){return f(this,sl)}shouldGetKeyboardEvents(){return f(this,yi)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){N(this,Be,yw).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){ht("An editor must be serializable")}static async deserialize(e,t,n){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});s.rotation=e.rotation,P(s,el,e.accessibilityData);const[o,l]=s.pageDimensions,[c,u,h,p]=s.getRectInCurrentCoords(e.rect,l);return s.x=c/o,s.y=u/l,s.width=h/o,s.height=p/l,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=f(this,Ho))==null||e.abort(),P(this,Ho,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),f(this,Ds)&&(clearTimeout(f(this,Ds)),P(this,Ds,null)),N(this,Be,Kd).call(this),this.removeEditToolbar(),f(this,Mr)){for(const t of f(this,Mr).values())clearTimeout(t);P(this,Mr,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(N(this,Be,QT).call(this),f(this,pn).classList.remove("hidden"),dg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),P(this,nl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,pn).children;if(!f(this,rs)){P(this,rs,Array.from(t));const l=N(this,Be,eP).bind(this),c=N(this,Be,tP).bind(this),u=this._uiManager._signal;for(const h of f(this,rs)){const p=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",l,{signal:u}),h.addEventListener("blur",c,{signal:u}),h.addEventListener("focus",N(this,Be,nP).bind(this,p),{signal:u}),h.setAttribute("data-l10n-id",Ze._l10nResizer[p])}}const n=f(this,rs)[0];let s=0;for(const l of t){if(l===n)break;s++}const o=(360-this.rotation+this.parentRotation)%360/90*(f(this,rs).length/4);if(o!==s){if(o<s)for(let c=0;c<s-o;c++)f(this,pn).append(f(this,pn).firstChild);else if(o>s)for(let c=0;c<o-s;c++)f(this,pn).firstChild.before(f(this,pn).lastChild);let l=0;for(const c of t){const h=f(this,rs)[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Ze._l10nResizer[h])}}N(this,Be,ww).call(this,0),P(this,yi,!0),f(this,pn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,yi)&&N(this,Be,gw).call(this,f(this,Lh),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){N(this,Be,Kd).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,o;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(t=this._editToolbar)==null||t.show(),(n=f(this,wt))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,s,o;(e=f(this,pn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(o=f(this,wt))==null||o.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return f(this,Dh)}set isEditing(e){P(this,Dh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){P(this,tl,!0);const n=e/t,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,Mr)||P(this,Mr,new Map);const{action:n}=e;let s=f(this,Mr).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),f(this,Mr).delete(n),f(this,Mr).size===0&&P(this,Mr,null)},Ze._telemetryTimeout),f(this,Mr).set(n,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),P(this,eu,!1)}disable(){this.div&&(this.div.tabIndex=-1),P(this,eu,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};el=new WeakMap,rs=new WeakMap,wt=new WeakMap,eu=new WeakMap,tl=new WeakMap,pn=new WeakMap,nl=new WeakMap,Ho=new WeakMap,Lh=new WeakMap,rl=new WeakMap,Bo=new WeakMap,Dh=new WeakMap,sl=new WeakMap,yi=new WeakMap,Ds=new WeakMap,tu=new WeakMap,nu=new WeakMap,Mr=new WeakMap,Oh=new WeakMap,Ag=new WeakMap,Be=new WeakSet,hw=function([e,t],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/e,this.y+=s/t,this.fixAndSetPosition()},Fh=new WeakSet,fw=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},pw=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},QT=function(){if(f(this,pn))return;P(this,pn,document.createElement("div")),f(this,pn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const s=document.createElement("div");f(this,pn).append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",N(this,Be,JT).bind(this,n),{signal:t}),s.addEventListener("contextmenu",$r,{signal:t}),s.tabIndex=-1}this.div.prepend(f(this,pn))},JT=function(e,t){var b;t.preventDefault();const{isMac:n}=On.platform;if(t.button!==0||t.ctrlKey&&n)return;(b=f(this,wt))==null||b.toggle(!1);const s=this._isDraggable;this._isDraggable=!1;const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",N(this,Be,gw).bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("contextmenu",$r,{signal:l});const c=this.x,u=this.y,h=this.width,p=this.height,m=this.parent.div.style.cursor,v=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const w=()=>{var x;o.abort(),this.parent.togglePointerEvents(!0),(x=f(this,wt))==null||x.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=m,this.div.style.cursor=v,N(this,Be,mw).call(this,c,u,h,p)};window.addEventListener("pointerup",w,{signal:l}),window.addEventListener("blur",w,{signal:l})},mw=function(e,t,n,s){const o=this.x,l=this.y,c=this.width,u=this.height;o===e&&l===t&&c===n&&u===s||this.addCommands({cmd:()=>{this.width=c,this.height=u,this.x=o,this.y=l;const[h,p]=this.parentDimensions;this.setDims(h*c,p*u),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=s,this.x=e,this.y=t;const[h,p]=this.parentDimensions;this.setDims(h*n,p*s),this.fixAndSetPosition()},mustExec:!0})},gw=function(e,t){const[n,s]=this.parentDimensions,o=this.x,l=this.y,c=this.width,u=this.height,h=Ze.MIN_SIZE/n,p=Ze.MIN_SIZE/s,m=J=>Math.round(J*1e4)/1e4,v=N(this,Be,pw).call(this,this.rotation),w=(J,z)=>[v[0]*J+v[2]*z,v[1]*J+v[3]*z],b=N(this,Be,pw).call(this,360-this.rotation),x=(J,z)=>[b[0]*J+b[2]*z,b[1]*J+b[3]*z];let C,_,k=!1,T=!1;switch(e){case"topLeft":k=!0,C=(J,z)=>[0,0],_=(J,z)=>[J,z];break;case"topMiddle":C=(J,z)=>[J/2,0],_=(J,z)=>[J/2,z];break;case"topRight":k=!0,C=(J,z)=>[J,0],_=(J,z)=>[0,z];break;case"middleRight":T=!0,C=(J,z)=>[J,z/2],_=(J,z)=>[0,z/2];break;case"bottomRight":k=!0,C=(J,z)=>[J,z],_=(J,z)=>[0,0];break;case"bottomMiddle":C=(J,z)=>[J/2,z],_=(J,z)=>[J/2,0];break;case"bottomLeft":k=!0,C=(J,z)=>[0,z],_=(J,z)=>[J,0];break;case"middleLeft":T=!0,C=(J,z)=>[0,z/2],_=(J,z)=>[J,z/2];break}const M=C(c,u),L=_(c,u);let D=w(...L);const F=m(o+D[0]),j=m(l+D[1]);let W=1,X=1,[Q,ue]=this.screenToPageTranslation(t.movementX,t.movementY);if([Q,ue]=x(Q/n,ue/s),k){const J=Math.hypot(c,u);W=X=Math.max(Math.min(Math.hypot(L[0]-M[0]-Q,L[1]-M[1]-ue)/J,1/c,1/u),h/c,p/u)}else T?W=Math.max(h,Math.min(1,Math.abs(L[0]-M[0]-Q)))/c:X=Math.max(p,Math.min(1,Math.abs(L[1]-M[1]-ue)))/u;const oe=m(c*W),he=m(u*X);D=w(..._(oe,he));const ae=F-D[0],q=j-D[1];this.width=oe,this.height=he,this.x=ae,this.y=q,this.setDims(n*oe,s*he),this.fixAndSetPosition()},vw=function(e){const{isMac:t}=On.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},ZT=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,s=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),P(this,tu,e.clientX),P(this,nu,e.clientY);const l=c=>{const{clientX:u,clientY:h}=c,[p,m]=this.screenToPageTranslation(u-f(this,tu),h-f(this,nu));P(this,tu,u),P(this,nu,h),this._uiManager.dragSelectedEditors(p,m)};window.addEventListener("pointermove",l,{passive:!0,capture:!0,signal:s})}const o=()=>{n.abort(),t&&this.div.classList.remove("moving"),P(this,rl,!1),this._uiManager.endDragSession()||N(this,Be,vw).call(this,e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})},yw=function(){if(f(this,Ho)||!this.div)return;P(this,Ho,new AbortController);const e=this._uiManager.combinedSignal(f(this,Ho));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},eP=function(e){Ze._resizerKeyboardManager.exec(this,e)},tP=function(e){var t;f(this,yi)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,pn)&&N(this,Be,Kd).call(this)},nP=function(e){P(this,Lh,f(this,yi)?e:"")},ww=function(e){if(f(this,rs))for(const t of f(this,rs))t.tabIndex=e},Kd=function(){if(P(this,yi,!1),N(this,Be,ww).call(this,-1),f(this,nl)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:s}=f(this,nl);N(this,Be,mw).call(this,e,t,n,s),P(this,nl,null)}},I(Ze,Fh),Le(Ze,"_l10n",null),Le(Ze,"_l10nResizer",null),Le(Ze,"_borderLineWidth",-1),Le(Ze,"_colorManager",new iw),Le(Ze,"_zIndex",1),Le(Ze,"_telemetryTimeout",1e3);let st=Ze;class MB extends st{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const S1=3285377520,Rr=4294901760,_s=65535;class rP{constructor(e){this.h1=e?e&4294967295:S1,this.h2=e?e&4294967295:S1}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let x=0,C=e.length;x<C;x++){const _=e.charCodeAt(x);_<=255?t[n++]=_:(t[n++]=_>>>8,t[n++]=_&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,o=n-s*4,l=new Uint32Array(t.buffer,0,s);let c=0,u=0,h=this.h1,p=this.h2;const m=3432918353,v=461845907,w=m&_s,b=v&_s;for(let x=0;x<s;x++)x&1?(c=l[x],c=c*m&Rr|c*w&_s,c=c<<15|c>>>17,c=c*v&Rr|c*b&_s,h^=c,h=h<<13|h>>>19,h=h*5+3864292196):(u=l[x],u=u*m&Rr|u*w&_s,u=u<<15|u>>>17,u=u*v&Rr|u*b&_s,p^=u,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,o){case 3:c^=t[s*4+2]<<16;case 2:c^=t[s*4+1]<<8;case 1:c^=t[s*4],c=c*m&Rr|c*w&_s,c=c<<15|c>>>17,c=c*v&Rr|c*b&_s,s&1?h^=c:p^=c}this.h1=h,this.h2=p}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Rr|e*36045&_s,t=t*4283543511&Rr|((t<<16|e>>>16)*2950163797&Rr)>>>16,e^=t>>>1,e=e*444984403&Rr|e*60499&_s,t=t*3301882366&Rr|((t<<16|e>>>16)*3120437893&Rr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const bw=Object.freeze({map:null,hash:"",transfer:void 0});var il,ol,on,Eg,sP;class ux{constructor(){I(this,Eg);I(this,il,!1);I(this,ol,null);I(this,on,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=f(this,on).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return f(this,on).get(e)}remove(e){if(f(this,on).delete(e),f(this,on).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of f(this,on).values())if(t instanceof st)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=f(this,on).get(e);let s=!1;if(n!==void 0)for(const[o,l]of Object.entries(t))n[o]!==l&&(s=!0,n[o]=l);else s=!0,f(this,on).set(e,t);s&&N(this,Eg,sP).call(this),t instanceof st&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return f(this,on).has(e)}getAll(){return f(this,on).size>0?sx(f(this,on)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return f(this,on).size}resetModified(){f(this,il)&&(P(this,il,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new iP(this)}get serializable(){if(f(this,on).size===0)return bw;const e=new Map,t=new rP,n=[],s=Object.create(null);let o=!1;for(const[l,c]of f(this,on)){const u=c instanceof st?c.serialize(!1,s):c;u&&(e.set(l,u),t.update(`${l}:${JSON.stringify(u)}`),o||(o=!!u.bitmap))}if(o)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:bw}get editorStats(){let e=null;const t=new Map;for(const n of f(this,on).values()){if(!(n instanceof st))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:o}=s;t.has(o)||t.set(o,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[c,u]of Object.entries(s)){if(c==="type")continue;let h=l.get(c);h||(h=new Map,l.set(c,h));const p=h.get(u)??0;h.set(u,p+1)}}for(const[n,s]of t)e[n]=s.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){P(this,ol,null)}get modifiedIds(){if(f(this,ol))return f(this,ol);const e=[];for(const t of f(this,on).values())!(t instanceof st)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return P(this,ol,{ids:new Set(e),hash:e.join(",")})}}il=new WeakMap,ol=new WeakMap,on=new WeakMap,Eg=new WeakSet,sP=function(){f(this,il)||(P(this,il,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var jh;class iP extends ux{constructor(t){super();I(this,jh);const{map:n,hash:s,transfer:o}=t.serializable,l=structuredClone(n,o?{transfer:o}:null);P(this,jh,{map:l,hash:s,transfer:o})}get print(){ht("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,jh)}get modifiedIds(){return qe(this,"modifiedIds",{ids:new Set,hash:""})}}jh=new WeakMap;var ru;class IB{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){I(this,ru,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,ru).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||f(this,ru).has(e.loadedName))){if(qt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:s,style:o}=e,l=new FontFace(n,s,o);this.addNativeFontFace(l);try{await l.load(),f(this,ru).add(n),t==null||t(e)}catch{Ue(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}ht("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw Ue(`Failed to load font '${n.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return qe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Tn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),qe(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(qt(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:t,callback:e};return n.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return qe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(M,L){return M.charCodeAt(L)<<24|M.charCodeAt(L+1)<<16|M.charCodeAt(L+2)<<8|M.charCodeAt(L+3)&255}function s(M,L,D,F){const j=M.substring(0,L),W=M.substring(L+D);return j+F+W}let o,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const u=c.getContext("2d");let h=0;function p(M,L){if(++h>30){Ue("Load test font never loaded."),L();return}if(u.font="30px "+M,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){L();return}setTimeout(p.bind(null,M,L))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=s(v,976,m.length,m);const b=16,x=1482184792;let C=n(v,b);for(o=0,l=m.length-3;o<l;o+=4)C=C-x+n(m,o)|0;o<m.length&&(C=C-x+n(m+"XXX",o)|0),v=s(v,b,4,vB(C));const _=`url(data:font/opentype;base64,${btoa(v)});`,k=`@font-face {font-family:"${m}";src:${_}}`;this.insertRule(k);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const M of[e.loadedName,m]){const L=this._document.createElement("span");L.textContent="Hi",L.style.fontFamily=M,T.append(L)}this._document.body.append(T),p(m,()=>{T.remove(),t.complete()})}}ru=new WeakMap;class LB{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${AB(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(o){Ue(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(o,l){};const s=[];for(let o=0,l=n.length;o<l;)switch(n[o++]){case ci.BEZIER_CURVE_TO:{const[c,u,h,p,m,v]=n.slice(o,o+6);s.push(w=>w.bezierCurveTo(c,u,h,p,m,v)),o+=6}break;case ci.MOVE_TO:{const[c,u]=n.slice(o,o+2);s.push(h=>h.moveTo(c,u)),o+=2}break;case ci.LINE_TO:{const[c,u]=n.slice(o,o+2);s.push(h=>h.lineTo(c,u)),o+=2}break;case ci.QUADRATIC_CURVE_TO:{const[c,u,h,p]=n.slice(o,o+4);s.push(m=>m.quadraticCurveTo(c,u,h,p)),o+=4}break;case ci.RESTORE:s.push(c=>c.restore());break;case ci.SAVE:s.push(c=>c.save());break;case ci.SCALE:qt(s.length===2,"Scale command is only valid at the third position.");break;case ci.TRANSFORM:{const[c,u,h,p,m,v]=n.slice(o,o+6);s.push(w=>w.transform(c,u,h,p,m,v)),o+=6}break;case ci.TRANSLATE:{const[c,u]=n.slice(o,o+2);s.push(h=>h.translate(c,u)),o+=2}break}return this.compiledGlyphs[t]=function(l,c){s[0](l),s[1](l),l.scale(c,-c);for(let u=2,h=s.length;u<h;u++)s[u](l)}}}var $h;class oP{constructor({enableHWA:e=!1}){I(this,$h,!1);P(this,$h,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!f(this,$h)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){ht("Abstract method `_createCanvas` called.")}}$h=new WeakMap;class DB extends oP{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class aP{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){ht("Abstract method `_fetch` called.")}}class lP extends aP{async _fetch(e){const t=await cv(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):lv(t)}}class cP{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,s,o){return"none"}destroy(e=!1){}}var al,ll,Os,wi,Cn,Cg,cl,ve,An,Nc,Mc,Mm,Ic,uP,xw,Lc,Qd,Jd,Sw,Zd;class OB extends cP{constructor({docId:t,ownerDocument:n=globalThis.document}){super();I(this,ve);I(this,al);I(this,ll);I(this,Os);I(this,wi);I(this,Cn);I(this,Cg);I(this,cl,0);P(this,wi,t),P(this,Cn,n)}addFilter(t){if(!t)return"none";let n=f(this,ve,An).get(t);if(n)return n;const[s,o,l]=N(this,ve,Mm).call(this,t),c=t.length===1?s:`${s}${o}${l}`;if(n=f(this,ve,An).get(c),n)return f(this,ve,An).set(t,n),n;const u=`g_${f(this,wi)}_transfer_map_${Nn(this,cl)._++}`,h=N(this,ve,Ic).call(this,u);f(this,ve,An).set(t,h),f(this,ve,An).set(c,h);const p=N(this,ve,Lc).call(this,u);return N(this,ve,Jd).call(this,s,o,l,p),h}addHCMFilter(t,n){var b;const s=`${t}-${n}`,o="base";let l=f(this,ve,Nc).get(o);if((l==null?void 0:l.key)===s||(l?((b=l.filter)==null||b.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},f(this,ve,Nc).set(o,l)),!t||!n))return l.url;const c=N(this,ve,Zd).call(this,t);t=_e.makeHexColor(...c);const u=N(this,ve,Zd).call(this,n);if(n=_e.makeHexColor(...u),f(this,ve,Mc).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return l.url;const h=new Array(256);for(let x=0;x<=255;x++){const C=x/255;h[x]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const p=h.join(","),m=`g_${f(this,wi)}_hcm_filter`,v=l.filter=N(this,ve,Lc).call(this,m);N(this,ve,Jd).call(this,p,p,p,v),N(this,ve,xw).call(this,v);const w=(x,C)=>{const _=c[x]/255,k=u[x]/255,T=new Array(C+1);for(let M=0;M<=C;M++)T[M]=_+M/C*(k-_);return T.join(",")};return N(this,ve,Jd).call(this,w(0,5),w(1,5),w(2,5),v),l.url=N(this,ve,Ic).call(this,m),l.url}addAlphaFilter(t){let n=f(this,ve,An).get(t);if(n)return n;const[s]=N(this,ve,Mm).call(this,[t]),o=`alpha_${s}`;if(n=f(this,ve,An).get(o),n)return f(this,ve,An).set(t,n),n;const l=`g_${f(this,wi)}_alpha_map_${Nn(this,cl)._++}`,c=N(this,ve,Ic).call(this,l);f(this,ve,An).set(t,c),f(this,ve,An).set(o,c);const u=N(this,ve,Lc).call(this,l);return N(this,ve,Sw).call(this,s,u),c}addLuminosityFilter(t){let n=f(this,ve,An).get(t||"luminosity");if(n)return n;let s,o;if(t?([s]=N(this,ve,Mm).call(this,[t]),o=`luminosity_${s}`):o="luminosity",n=f(this,ve,An).get(o),n)return f(this,ve,An).set(t,n),n;const l=`g_${f(this,wi)}_luminosity_map_${Nn(this,cl)._++}`,c=N(this,ve,Ic).call(this,l);f(this,ve,An).set(t,c),f(this,ve,An).set(o,c);const u=N(this,ve,Lc).call(this,l);return N(this,ve,uP).call(this,u),t&&N(this,ve,Sw).call(this,s,u),c}addHighlightHCMFilter(t,n,s,o,l){var k;const c=`${n}-${s}-${o}-${l}`;let u=f(this,ve,Nc).get(t);if((u==null?void 0:u.key)===c||(u?((k=u.filter)==null||k.remove(),u.key=c,u.url="none",u.filter=null):(u={key:c,url:"none",filter:null},f(this,ve,Nc).set(t,u)),!n||!s))return u.url;const[h,p]=[n,s].map(N(this,ve,Zd).bind(this));let m=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),v=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[w,b]=[o,l].map(N(this,ve,Zd).bind(this));v<m&&([m,v,w,b]=[v,m,b,w]),f(this,ve,Mc).style.color="";const x=(T,M,L)=>{const D=new Array(256),F=(v-m)/L,j=T/255,W=(M-T)/(255*L);let X=0;for(let Q=0;Q<=L;Q++){const ue=Math.round(m+Q*F),oe=j+Q*W;for(let he=X;he<=ue;he++)D[he]=oe;X=ue+1}for(let Q=X;Q<256;Q++)D[Q]=D[X-1];return D.join(",")},C=`g_${f(this,wi)}_hcm_${t}_filter`,_=u.filter=N(this,ve,Lc).call(this,C);return N(this,ve,xw).call(this,_),N(this,ve,Jd).call(this,x(w[0],b[0],5),x(w[1],b[1],5),x(w[2],b[2],5),_),u.url=N(this,ve,Ic).call(this,C),u.url}destroy(t=!1){t&&f(this,ve,Nc).size!==0||(f(this,Os)&&(f(this,Os).parentNode.parentNode.remove(),P(this,Os,null)),f(this,ll)&&(f(this,ll).clear(),P(this,ll,null)),P(this,cl,0))}}al=new WeakMap,ll=new WeakMap,Os=new WeakMap,wi=new WeakMap,Cn=new WeakMap,Cg=new WeakMap,cl=new WeakMap,ve=new WeakSet,An=function(){return f(this,ll)||P(this,ll,new Map)},Nc=function(){return f(this,Cg)||P(this,Cg,new Map)},Mc=function(){if(!f(this,Os)){const t=f(this,Cn).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=f(this,Cn).createElementNS(di,"svg");s.setAttribute("width",0),s.setAttribute("height",0),P(this,Os,f(this,Cn).createElementNS(di,"defs")),t.append(s),s.append(f(this,Os)),f(this,Cn).body.append(t)}return f(this,Os)},Mm=function(t){if(t.length===1){const h=t[0],p=new Array(256);for(let v=0;v<256;v++)p[v]=h[v]/255;const m=p.join(",");return[m,m,m]}const[n,s,o]=t,l=new Array(256),c=new Array(256),u=new Array(256);for(let h=0;h<256;h++)l[h]=n[h]/255,c[h]=s[h]/255,u[h]=o[h]/255;return[l.join(","),c.join(","),u.join(",")]},Ic=function(t){if(f(this,al)===void 0){P(this,al,"");const n=f(this,Cn).URL;n!==f(this,Cn).baseURI&&(uv(n)?Ue('#createUrl: ignore "data:"-URL for performance reasons.'):P(this,al,n.split("#",1)[0]))}return`url(${f(this,al)}#${t})`},uP=function(t){const n=f(this,Cn).createElementNS(di,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},xw=function(t){const n=f(this,Cn).createElementNS(di,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},Lc=function(t){const n=f(this,Cn).createElementNS(di,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),f(this,ve,Mc).append(n),n},Qd=function(t,n,s){const o=f(this,Cn).createElementNS(di,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",s),t.append(o)},Jd=function(t,n,s,o){const l=f(this,Cn).createElementNS(di,"feComponentTransfer");o.append(l),N(this,ve,Qd).call(this,l,"feFuncR",t),N(this,ve,Qd).call(this,l,"feFuncG",n),N(this,ve,Qd).call(this,l,"feFuncB",s)},Sw=function(t,n){const s=f(this,Cn).createElementNS(di,"feComponentTransfer");n.append(s),N(this,ve,Qd).call(this,s,"feFuncA",t)},Zd=function(t){return f(this,ve,Mc).style.color=t,cx(getComputedStyle(f(this,ve,Mc)).getPropertyValue("color"))};class dP{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){ht("Abstract method `_fetch` called.")}}class hP extends dP{async _fetch(e){const t=await cv(e,"arraybuffer");return new Uint8Array(t)}}if(Tn){var Aw=Promise.withResolvers(),uh=null;(async()=>{const e=await fm(()=>import("./__vite-browser-external.BIHI7g3E.js"),[],import.meta.url),t=await fm(()=>import("./__vite-browser-external.BIHI7g3E.js"),[],import.meta.url),n=await fm(()=>import("./__vite-browser-external.BIHI7g3E.js"),[],import.meta.url),s=await fm(()=>import("./__vite-browser-external.BIHI7g3E.js"),[],import.meta.url);let o,l;return new Map(Object.entries({fs:e,http:t,https:n,url:s,canvas:o,path2d:l}))})().then(e=>{uh=e,Aw.resolve()},e=>{Ue(`loadPackages: ${e}`),uh=new Map,Aw.resolve()})}class ca{static get promise(){return Aw.promise}static get(e){return uh==null?void 0:uh.get(e)}}async function fP(r){const t=await ca.get("fs").promises.readFile(r);return new Uint8Array(t)}class FB extends cP{}class jB extends oP{_createCanvas(e,t){return ca.get("canvas").createCanvas(e,t)}}class $B extends aP{async _fetch(e){return fP(e)}}class zB extends dP{async _fetch(e){return fP(e)}}const Ln={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Ew(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,n),r.clip(s)}class dx{getPattern(){ht("Abstract method `getPattern` called.")}}class HB extends dx{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,s){let o;if(s===Ln.STROKE||s===Ln.FILL){const l=t.current.getClippedPathBoundingBox(s,xt(e))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,u=Math.ceil(l[3]-l[1])||1,h=t.cachedCanvases.getCanvas("pattern",c,u),p=h.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=_e.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...t.baseTransform),this.matrix&&p.transform(...this.matrix),Ew(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=e.createPattern(h.canvas,"no-repeat");const m=new DOMMatrix(n);o.setTransform(m)}else Ew(e,this._bbox),o=this._createGradient(e);return o}}function x0(r,e,t,n,s,o,l,c){const u=e.coords,h=e.colors,p=r.data,m=r.width*4;let v;u[t+1]>u[n+1]&&(v=t,t=n,n=v,v=o,o=l,l=v),u[n+1]>u[s+1]&&(v=n,n=s,s=v,v=l,l=c,c=v),u[t+1]>u[n+1]&&(v=t,t=n,n=v,v=o,o=l,l=v);const w=(u[t]+e.offsetX)*e.scaleX,b=(u[t+1]+e.offsetY)*e.scaleY,x=(u[n]+e.offsetX)*e.scaleX,C=(u[n+1]+e.offsetY)*e.scaleY,_=(u[s]+e.offsetX)*e.scaleX,k=(u[s+1]+e.offsetY)*e.scaleY;if(b>=k)return;const T=h[o],M=h[o+1],L=h[o+2],D=h[l],F=h[l+1],j=h[l+2],W=h[c],X=h[c+1],Q=h[c+2],ue=Math.round(b),oe=Math.round(k);let he,ae,q,J,z,te,Z,$;for(let G=ue;G<=oe;G++){if(G<C){const K=G<b?0:(b-G)/(b-C);he=w-(w-x)*K,ae=T-(T-D)*K,q=M-(M-F)*K,J=L-(L-j)*K}else{let K;G>k?K=1:C===k?K=0:K=(C-G)/(C-k),he=x-(x-_)*K,ae=D-(D-W)*K,q=F-(F-X)*K,J=j-(j-Q)*K}let ee;G<b?ee=0:G>k?ee=1:ee=(b-G)/(b-k),z=w-(w-_)*ee,te=T-(T-W)*ee,Z=M-(M-X)*ee,$=L-(L-Q)*ee;const de=Math.round(Math.min(he,z)),Ae=Math.round(Math.max(he,z));let ce=m*G+de*4;for(let K=de;K<=Ae;K++)ee=(he-K)/(he-z),ee<0?ee=0:ee>1&&(ee=1),p[ce++]=ae-(ae-te)*ee|0,p[ce++]=q-(q-Z)*ee|0,p[ce++]=J-(J-$)*ee|0,p[ce++]=255}}function BB(r,e,t){const n=e.coords,s=e.colors;let o,l;switch(e.type){case"lattice":const c=e.verticesPerRow,u=Math.floor(n.length/c)-1,h=c-1;for(o=0;o<u;o++){let p=o*c;for(let m=0;m<h;m++,p++)x0(r,t,n[p],n[p+1],n[p+c],s[p],s[p+1],s[p+c]),x0(r,t,n[p+c+1],n[p+1],n[p+c],s[p+c+1],s[p+1],s[p+c])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)x0(r,t,n[o],n[o+1],n[o+2],s[o],s[o+1],s[o+2]);break;default:throw new Error("illegal figure")}}class WB extends dx{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const c=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-u,m=Math.min(Math.ceil(Math.abs(h*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(p*e[1]*1.1)),3e3),w=h/m,b=p/v,x={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-u,scaleX:1/w,scaleY:1/b},C=m+2*2,_=v+2*2,k=n.getCanvas("mesh",C,_),T=k.context,M=T.createImageData(m,v);if(t){const D=M.data;for(let F=0,j=D.length;F<j;F+=4)D[F]=t[0],D[F+1]=t[1],D[F+2]=t[2],D[F+3]=255}for(const D of this._figures)BB(M,D,x);return T.putImageData(M,2,2),{canvas:k.canvas,offsetX:c-2*w,offsetY:u-2*b,scaleX:w,scaleY:b}}getPattern(e,t,n,s){Ew(e,this._bbox);let o;if(s===Ln.SHADING)o=_e.singularValueDecompose2dScale(xt(e));else if(o=_e.singularValueDecompose2dScale(t.baseTransform),this.matrix){const c=_e.singularValueDecompose2dScale(this.matrix);o=[o[0]*c[0],o[1]*c[1]]}const l=this._createMeshCanvas(o,s===Ln.SHADING?null:this._background,t.cachedCanvases);return s!==Ln.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class UB extends dx{getPattern(){return"hotpink"}}function VB(r){switch(r[0]){case"RadialAxial":return new HB(r);case"Mesh":return new WB(r);case"Dummy":return new UB}throw new Error(`Unknown IR type: ${r[0]}`)}const A1={COLORED:1,UNCOLORED:2},_g=class _g{constructor(e,t,n,s,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=o}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:s,tilingType:o,color:l,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:h}=this;u=Math.abs(u),h=Math.abs(h),ov("TilingType: "+o);const p=t[0],m=t[1],v=t[2],w=t[3],b=v-p,x=w-m,C=_e.singularValueDecompose2dScale(this.matrix),_=_e.singularValueDecompose2dScale(this.baseTransform),k=C[0]*_[0],T=C[1]*_[1];let M=b,L=x,D=!1,F=!1;const j=Math.ceil(u*k),W=Math.ceil(h*T),X=Math.ceil(b*k),Q=Math.ceil(x*T);j>=X?M=u:D=!0,W>=Q?L=h:F=!0;const ue=this.getSizeAndScale(M,this.ctx.canvas.width,k),oe=this.getSizeAndScale(L,this.ctx.canvas.height,T),he=e.cachedCanvases.getCanvas("pattern",ue.size,oe.size),ae=he.context,q=c.createCanvasGraphics(ae);if(q.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(q,s,l),ae.translate(-ue.scale*p,-oe.scale*m),q.transform(ue.scale,0,0,oe.scale,0,0),ae.save(),this.clipBbox(q,p,m,v,w),q.baseTransform=xt(q.ctx),q.executeOperatorList(n),q.endDrawing(),ae.restore(),D||F){const J=he.canvas;D&&(M=u),F&&(L=h);const z=this.getSizeAndScale(M,this.ctx.canvas.width,k),te=this.getSizeAndScale(L,this.ctx.canvas.height,T),Z=z.size,$=te.size,G=e.cachedCanvases.getCanvas("pattern-workaround",Z,$),ee=G.context,de=D?Math.floor(b/u):0,Ae=F?Math.floor(x/h):0;for(let ce=0;ce<=de;ce++)for(let K=0;K<=Ae;K++)ee.drawImage(J,Z*ce,$*K,Z,$,0,0,Z,$);return{canvas:G.canvas,scaleX:z.scale,scaleY:te.scale,offsetX:p,offsetY:m}}return{canvas:he.canvas,scaleX:ue.scale,scaleY:oe.scale,offsetX:p,offsetY:m}}getSizeAndScale(e,t,n){const s=Math.max(_g.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*n);return o>=s?o=s:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,s,o){const l=s-t,c=o-n;e.ctx.rect(t,n,l,c),e.current.updateRectMinMax(xt(e.ctx),[t,n,s,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const s=e.ctx,o=e.current;switch(t){case A1.COLORED:const l=this.ctx;s.fillStyle=l.fillStyle,s.strokeStyle=l.strokeStyle,o.fillColor=l.fillStyle,o.strokeColor=l.strokeStyle;break;case A1.UNCOLORED:const c=_e.makeHexColor(n[0],n[1],n[2]);s.fillStyle=c,s.strokeStyle=c,o.fillColor=c,o.strokeColor=c;break;default:throw new gB(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,s){let o=n;s!==Ln.SHADING&&(o=_e.transform(o,t.baseTransform),this.matrix&&(o=_e.transform(o,this.matrix)));const l=this.createPatternCanvas(t);let c=new DOMMatrix(o);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const u=e.createPattern(l.canvas,"repeat");return u.setTransform(c),u}};Le(_g,"MAX_PATTERN_SIZE",3e3);let Cw=_g;function GB({src:r,srcPos:e=0,dest:t,width:n,height:s,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const c=On.isLittleEndian?4278190080:255,[u,h]=l?[o,c]:[c,o],p=n>>3,m=n&7,v=r.length;t=new Uint32Array(t.buffer);let w=0;for(let b=0;b<s;b++){for(const C=e+p;e<C;e++){const _=e<v?r[e]:255;t[w++]=_&128?h:u,t[w++]=_&64?h:u,t[w++]=_&32?h:u,t[w++]=_&16?h:u,t[w++]=_&8?h:u,t[w++]=_&4?h:u,t[w++]=_&2?h:u,t[w++]=_&1?h:u}if(m===0)continue;const x=e<v?r[e++]:255;for(let C=0;C<m;C++)t[w++]=x&1<<7-C?h:u}return{srcPos:e,destPos:w}}const E1=16,C1=100,YB=15,_1=10,k1=1e3,Jn=16;function XB(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(n,s){e.translate(n,s),this.__originalTranslate(n,s)},r.scale=function(n,s){e.scale(n,s),this.__originalScale(n,s)},r.transform=function(n,s,o,l,c,u){e.transform(n,s,o,l,c,u),this.__originalTransform(n,s,o,l,c,u)},r.setTransform=function(n,s,o,l,c,u){e.setTransform(n,s,o,l,c,u),this.__originalSetTransform(n,s,o,l,c,u)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(n){e.rotate(n),this.__originalRotate(n)},r.clip=function(n){e.clip(n),this.__originalClip(n)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,s,o,l,c){e.bezierCurveTo(t,n,s,o,l,c),this.__originalBezierCurveTo(t,n,s,o,l,c)},r.rect=function(t,n,s,o){e.rect(t,n,s,o),this.__originalRect(t,n,s,o)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class qB{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,n)):(s=this.canvasFactory.create(t,n),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function pm(r,e,t,n,s,o,l,c,u,h){const[p,m,v,w,b,x]=xt(r);if(m===0&&v===0){const k=l*p+b,T=Math.round(k),M=c*w+x,L=Math.round(M),D=(l+u)*p+b,F=Math.abs(Math.round(D)-T)||1,j=(c+h)*w+x,W=Math.abs(Math.round(j)-L)||1;return r.setTransform(Math.sign(p),0,0,Math.sign(w),T,L),r.drawImage(e,t,n,s,o,0,0,F,W),r.setTransform(p,m,v,w,b,x),[F,W]}if(p===0&&w===0){const k=c*v+b,T=Math.round(k),M=l*m+x,L=Math.round(M),D=(c+h)*v+b,F=Math.abs(Math.round(D)-T)||1,j=(l+u)*m+x,W=Math.abs(Math.round(j)-L)||1;return r.setTransform(0,Math.sign(m),Math.sign(v),0,T,L),r.drawImage(e,t,n,s,o,0,0,W,F),r.setTransform(p,m,v,w,b,x),[W,F]}r.drawImage(e,t,n,s,o,l,c,u,h);const C=Math.hypot(p,m),_=Math.hypot(v,w);return[C*u,_*h]}function KB(r){const{width:e,height:t}=r;if(e>k1||t>k1)return null;const n=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let l=new Uint8Array(o*(t+1)),c,u,h;const p=e+7&-8;let m=new Uint8Array(p*t),v=0;for(const _ of r.data){let k=128;for(;k>0;)m[v++]=_&k?0:255,k>>=1}let w=0;for(v=0,m[v]!==0&&(l[0]=1,++w),u=1;u<e;u++)m[v]!==m[v+1]&&(l[u]=m[v]?2:1,++w),v++;for(m[v]!==0&&(l[u]=2,++w),c=1;c<t;c++){v=c*p,h=c*o,m[v-p]!==m[v]&&(l[h]=m[v]?1:8,++w);let _=(m[v]?4:0)+(m[v-p]?8:0);for(u=1;u<e;u++)_=(_>>2)+(m[v+1]?4:0)+(m[v-p+1]?8:0),s[_]&&(l[h+u]=s[_],++w),v++;if(m[v-p]!==m[v]&&(l[h+u]=m[v]?2:4,++w),w>n)return null}for(v=p*(t-1),h=c*o,m[v]!==0&&(l[h]=8,++w),u=1;u<e;u++)m[v]!==m[v+1]&&(l[h+u]=m[v]?4:8,++w),v++;if(m[v]!==0&&(l[h+u]=4,++w),w>n)return null;const b=new Int32Array([0,o,-1,0,-o,0,0,0,1]),x=new Path2D;for(c=0;w&&c<=t;c++){let _=c*o;const k=_+e;for(;_<k&&!l[_];)_++;if(_===k)continue;x.moveTo(_%o,c);const T=_;let M=l[_];do{const L=b[M];do _+=L;while(!l[_]);const D=l[_];D!==5&&D!==10?(M=D,l[_]=0):(M=D&51*M>>4,l[_]&=M>>2|M<<2),x.lineTo(_%o,_/o|0),l[_]||--w}while(T!==_);--c}return m=null,l=null,function(_){_.save(),_.scale(1/e,-1/t),_.translate(0,-t),_.fill(x),_.beginPath(),_.restore()}}class T1{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=RT,this.textMatrixScale=1,this.fontMatrix=Q0,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Sn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=_e.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=_e.applyTransform(t,e),s=_e.applyTransform(t.slice(2),e),o=_e.applyTransform([t[0],t[3]],e),l=_e.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],s[0],o[0],l[0]),this.minY=Math.min(this.minY,n[1],s[1],o[1],l[1]),this.maxX=Math.max(this.maxX,n[0],s[0],o[0],l[0]),this.maxY=Math.max(this.maxY,n[1],s[1],o[1],l[1])}updateScalingPathMinMax(e,t){_e.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,s,o,l,c,u,h,p){const m=_e.bezierBoundingBox(t,n,s,o,l,c,u,h,p);p||this.updateRectMinMax(e,m)}getPathBoundingBox(e=Ln.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Ln.STROKE){t||ht("Stroke bounding box must include transform.");const s=_e.singularValueDecompose2dScale(t),o=s[0]*this.lineWidth/2,l=s[1]*this.lineWidth/2;n[0]-=o,n[1]-=l,n[2]+=o,n[3]+=l}return n}updateClipFromPath(){const e=_e.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Ln.FILL,t=null){return _e.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function P1(r,e){if(typeof ImageData<"u"&&e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,s=t%Jn,o=(t-s)/Jn,l=s===0?o:o+1,c=r.createImageData(n,Jn);let u=0,h;const p=e.data,m=c.data;let v,w,b,x;if(e.kind===Cm.GRAYSCALE_1BPP){const C=p.byteLength,_=new Uint32Array(m.buffer,0,m.byteLength>>2),k=_.length,T=n+7>>3,M=4294967295,L=On.isLittleEndian?4278190080:255;for(v=0;v<l;v++){for(b=v<o?Jn:s,h=0,w=0;w<b;w++){const D=C-u;let F=0;const j=D>T?n:D*8-7,W=j&-8;let X=0,Q=0;for(;F<W;F+=8)Q=p[u++],_[h++]=Q&128?M:L,_[h++]=Q&64?M:L,_[h++]=Q&32?M:L,_[h++]=Q&16?M:L,_[h++]=Q&8?M:L,_[h++]=Q&4?M:L,_[h++]=Q&2?M:L,_[h++]=Q&1?M:L;for(;F<j;F++)X===0&&(Q=p[u++],X=128),_[h++]=Q&X?M:L,X>>=1}for(;h<k;)_[h++]=0;r.putImageData(c,0,v*Jn)}}else if(e.kind===Cm.RGBA_32BPP){for(w=0,x=n*Jn*4,v=0;v<o;v++)m.set(p.subarray(u,u+x)),u+=x,r.putImageData(c,0,w),w+=Jn;v<l&&(x=n*s*4,m.set(p.subarray(u,u+x)),r.putImageData(c,0,w))}else if(e.kind===Cm.RGB_24BPP)for(b=Jn,x=n*b,v=0;v<l;v++){for(v>=o&&(b=s,x=n*b),h=0,w=x;w--;)m[h++]=p[u++],m[h++]=p[u++],m[h++]=p[u++],m[h++]=255;r.putImageData(c,0,v*Jn)}else throw new Error(`bad image kind: ${e.kind}`)}function R1(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,s=t%Jn,o=(t-s)/Jn,l=s===0?o:o+1,c=r.createImageData(n,Jn);let u=0;const h=e.data,p=c.data;for(let m=0;m<l;m++){const v=m<o?Jn:s;({srcPos:u}=GB({src:h,srcPos:u,dest:p,width:n,height:v,nonBlackColor:0})),r.putImageData(c,0,m*Jn)}}function Ud(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function mm(r){if(r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0),!Tn){const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}}function N1(r,e){if(e)return!0;const t=_e.singularValueDecompose2dScale(r);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*la.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const QB=["butt","round","square"],JB=["miter","round","bevel"],ZB={},M1={};var da,_w,kw;const xx=class xx{constructor(e,t,n,s,o,{optionalContentConfig:l,markedContentStack:c=null},u,h){I(this,da);this.ctx=e,this.current=new T1(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=s,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new qB(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:s=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=c,n){const u=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...xt(this.compositeCtx))}this.ctx.save(),mm(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=xt(this.ctx)}executeOperatorList(e,t,n,s){const o=e.argsArray,l=e.fnArray;let c=t||0;const u=o.length;if(u===c)return c;const h=u-c>_1&&typeof n=="function",p=h?Date.now()+YB:0;let m=0;const v=this.commonObjs,w=this.objs;let b;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,n),c;if(b=l[c],b!==Jr.dependency)this[b].apply(this,o[c]);else for(const x of o[c]){const C=x.startsWith("g_")?v:w;if(!C.has(x))return C.get(x,n),c}if(c++,c===u)return c;if(h&&++m>_1){if(Date.now()>p)return n(),c;m=0}}}endDrawing(){N(this,da,_w).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),N(this,da,kw).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,s=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),c=n,u=s,h="prescale1",p,m;for(;o>2&&c>1||l>2&&u>1;){let v=c,w=u;o>2&&c>1&&(v=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),o/=c/v),l>2&&u>1&&(w=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,l/=u/w),p=this.cachedCanvases.getCanvas(h,v,w),m=p.context,m.clearRect(0,0,v,w),m.drawImage(e,0,0,c,u,0,0,v,w),e=p.canvas,c=v,u=w,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:u}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:s}=e,o=this.current.fillColor,l=this.current.patternFill,c=xt(t);let u,h,p,m;if((e.bitmap||e.data)&&e.count>1){const j=e.bitmap||e.data.buffer;h=JSON.stringify(l?c:[c.slice(0,4),o]),u=this._cachedBitmapsMap.get(j),u||(u=new Map,this._cachedBitmapsMap.set(j,u));const W=u.get(h);if(W&&!l){const X=Math.round(Math.min(c[0],c[2])+c[4]),Q=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:W,offsetX:X,offsetY:Q}}p=W}p||(m=this.cachedCanvases.getCanvas("maskCanvas",n,s),R1(m.context,e));let v=_e.transform(c,[1/n,0,0,-1/s,0,0]);v=_e.transform(v,[1,0,0,1,0,-s]);const[w,b,x,C]=_e.getAxialAlignedBoundingBox([0,0,n,s],v),_=Math.round(x-w)||1,k=Math.round(C-b)||1,T=this.cachedCanvases.getCanvas("fillCanvas",_,k),M=T.context,L=w,D=b;M.translate(-L,-D),M.transform(...v),p||(p=this._scaleImage(m.canvas,ui(M)),p=p.img,u&&l&&u.set(h,p)),M.imageSmoothingEnabled=N1(xt(M),e.interpolate),pm(M,p,0,0,p.width,p.height,0,0,n,s),M.globalCompositeOperation="source-in";const F=_e.transform(ui(M),[1,0,0,1,-L,-D]);return M.fillStyle=l?o.getPattern(t,this,F,Ln.FILL):o,M.fillRect(0,0,n,s),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,T.canvas)),{canvas:T.canvas,offsetX:Math.round(L),offsetY:Math.round(D)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=QB[e]}setLineJoin(e){this.ctx.lineJoin=JB[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const o=this.ctx;o.setTransform(...xt(this.suspendedCtx)),Ud(this.suspendedCtx,o),XB(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ud(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,s){const o=s[0],l=s[1],c=s[2]-o,u=s[3]-l;c===0||u===0||(this.genericComposeSMask(t.context,n,c,u,t.subtype,t.backdrop,t.transferMap,o,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,s,o,l,c,u,h,p,m){let v=e.canvas,w=u-p,b=h-m;if(l){const C=_e.makeHexColor(...l);if(w<0||b<0||w+n>v.width||b+s>v.height){const _=this.cachedCanvases.getCanvas("maskExtension",n,s),k=_.context;k.drawImage(v,-w,-b),k.globalCompositeOperation="destination-atop",k.fillStyle=C,k.fillRect(0,0,n,s),k.globalCompositeOperation="source-over",v=_.canvas,w=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(w,b,n,s),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=C,e.fillRect(w,b,n,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const x=new Path2D;x.rect(u,h,n,s),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(v,w,b,n,s,u,h,n,s),t.restore()}save(){this.inSMaskMode?(Ud(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ud(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,s,o,l){this.ctx.transform(e,t,n,s,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const s=this.ctx,o=this.current;let l=o.x,c=o.y,u,h;const p=xt(s),m=p[0]===0&&p[3]===0||p[1]===0&&p[2]===0,v=m?n.slice(0):null;for(let w=0,b=0,x=e.length;w<x;w++)switch(e[w]|0){case Jr.rectangle:l=t[b++],c=t[b++];const C=t[b++],_=t[b++],k=l+C,T=c+_;s.moveTo(l,c),C===0||_===0?s.lineTo(k,T):(s.lineTo(k,c),s.lineTo(k,T),s.lineTo(l,T)),m||o.updateRectMinMax(p,[l,c,k,T]),s.closePath();break;case Jr.moveTo:l=t[b++],c=t[b++],s.moveTo(l,c),m||o.updatePathMinMax(p,l,c);break;case Jr.lineTo:l=t[b++],c=t[b++],s.lineTo(l,c),m||o.updatePathMinMax(p,l,c);break;case Jr.curveTo:u=l,h=c,l=t[b+4],c=t[b+5],s.bezierCurveTo(t[b],t[b+1],t[b+2],t[b+3],l,c),o.updateCurvePathMinMax(p,u,h,t[b],t[b+1],t[b+2],t[b+3],l,c,v),b+=6;break;case Jr.curveTo2:u=l,h=c,s.bezierCurveTo(l,c,t[b],t[b+1],t[b+2],t[b+3]),o.updateCurvePathMinMax(p,u,h,l,c,t[b],t[b+1],t[b+2],t[b+3],v),l=t[b+2],c=t[b+3],b+=4;break;case Jr.curveTo3:u=l,h=c,l=t[b+2],c=t[b+3],s.bezierCurveTo(t[b],t[b+1],l,c,l,c),o.updateCurvePathMinMax(p,u,h,t[b],t[b+1],l,c,l,c,v),b+=4;break;case Jr.closePath:s.closePath();break}m&&o.updateScalingPathMinMax(p,v),o.setCurrentPoint(l,c)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,ui(t),Ln.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;let o=!1;s&&(t.save(),t.fillStyle=n.getPattern(t,this,ui(t),Ln.FILL),o=!0);const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(l)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ZB}eoClip(){this.pendingClip=M1}beginText(){this.current.textMatrix=RT,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var p;const n=this.commonObjs.get(e),s=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=n.fontMatrix||Q0,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Ue("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif",l=((p=n.systemFontInfo)==null?void 0:p.css)||`"${o}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const u=n.italic?"italic":"normal";let h=t;t<E1?h=E1:t>C1&&(h=C1),this.current.fontSizeScale=t/h,this.ctx.font=`${u} ${c} ${h}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,s,o,l){this.current.textMatrix=[e,t,n,s,o,l],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,s){const o=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,p=u&Sn.FILL_STROKE_MASK,m=!!(u&Sn.ADD_TO_PATH_FLAG),v=l.patternFill&&!c.missingFile;let w;(c.disableFontFace||m||v)&&(w=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||v?(o.save(),o.translate(t,n),o.beginPath(),w(o,h),s&&o.setTransform(...s),(p===Sn.FILL||p===Sn.FILL_STROKE)&&o.fill(),(p===Sn.STROKE||p===Sn.FILL_STROKE)&&o.stroke(),o.restore()):((p===Sn.FILL||p===Sn.FILL_STROKE)&&o.fillText(e,t,n),(p===Sn.STROKE||p===Sn.FILL_STROKE)&&o.strokeText(e,t,n)),m&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:xt(o),x:t,y:n,fontSize:h,addToPath:w})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){n=!0;break}return qe(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const o=this.ctx,l=t.fontSizeScale,c=t.charSpacing,u=t.wordSpacing,h=t.fontDirection,p=t.textHScale*h,m=e.length,v=n.vertical,w=v?1:-1,b=n.defaultVMetrics,x=s*t.fontMatrix[0],C=t.textRenderingMode===Sn.FILL&&!n.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),h>0?o.scale(p,-1):o.scale(p,1);let _;if(t.patternFill){o.save();const D=t.fillColor.getPattern(o,this,ui(o),Ln.FILL);_=xt(o),o.restore(),o.fillStyle=D}let k=t.lineWidth;const T=t.textMatrixScale;if(T===0||k===0){const D=t.textRenderingMode&Sn.FILL_STROKE_MASK;(D===Sn.STROKE||D===Sn.FILL_STROKE)&&(k=this.getSinglePixelWidth())}else k/=T;if(l!==1&&(o.scale(l,l),k/=l),o.lineWidth=k,n.isInvalidPDFjsFont){const D=[];let F=0;for(const j of e)D.push(j.unicode),F+=j.width;o.fillText(D.join(""),0,0),t.x+=F*x*p,o.restore(),this.compose();return}let M=0,L;for(L=0;L<m;++L){const D=e[L];if(typeof D=="number"){M+=w*D*s/1e3;continue}let F=!1;const j=(D.isSpace?u:0)+c,W=D.fontChar,X=D.accent;let Q,ue,oe=D.width;if(v){const ae=D.vmetric||b,q=-(D.vmetric?ae[1]:oe*.5)*x,J=ae[2]*x;oe=ae?-ae[0]:oe,Q=q/l,ue=(M+J)/l}else Q=M/l,ue=0;if(n.remeasure&&oe>0){const ae=o.measureText(W).width*1e3/s*l;if(oe<ae&&this.isFontSubpixelAAEnabled){const q=oe/ae;F=!0,o.save(),o.scale(q,1),Q/=q}else oe!==ae&&(Q+=(oe-ae)/2e3*s/l)}if(this.contentVisible&&(D.isInFont||n.missingFile)){if(C&&!X)o.fillText(W,Q,ue);else if(this.paintChar(W,Q,ue,_),X){const ae=Q+s*X.offset.x/l,q=ue-s*X.offset.y/l;this.paintChar(X.fontChar,ae,q,_)}}const he=v?oe*x-j*h:oe*x+j*h;M+=he,F&&o.restore()}v?t.y-=M:t.x+=M*p,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,s=n.font,o=n.fontSize,l=n.fontDirection,c=s.vertical?1:-1,u=n.charSpacing,h=n.wordSpacing,p=n.textHScale*l,m=n.fontMatrix||Q0,v=e.length,w=n.textRenderingMode===Sn.INVISIBLE;let b,x,C,_;if(!(w||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(p,l),b=0;b<v;++b){if(x=e[b],typeof x=="number"){_=c*x*o/1e3,this.ctx.translate(_,0),n.x+=_*p;continue}const k=(x.isSpace?h:0)+u,T=s.charProcOperatorList[x.operatorListId];if(!T){Ue(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),t.scale(o,o),t.transform(...m),this.executeOperatorList(T),this.restore()),C=_e.applyTransform([x.width,0],m)[0]*o+k,t.translate(C,0),n.x+=C*p}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,s,o,l){this.ctx.rect(n,s,o-n,l-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],s=this.baseTransform||xt(this.ctx),o={createCanvasGraphics:l=>new xx(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Cw(e,n,this.ctx,o,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=_e.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=_e.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=VB(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,ui(t),Ln.SHADING);const s=ui(t);if(s){const{width:o,height:l}=t.canvas,[c,u,h,p]=_e.getAxialAlignedBoundingBox([0,0,o,l],s);this.ctx.fillRect(c,u,h-c,p-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ht("Should not call beginInlineImage")}beginImageData(){ht("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=xt(this.ctx),t)){const n=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],n,s),this.current.updateRectMinMax(xt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||ov("TODO: Support non-isolated groups."),e.knockout&&Ue("Knockout groups not supported.");const n=xt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=_e.getAxialAlignedBoundingBox(e.bbox,xt(t));const o=[0,0,t.canvas.width,t.canvas.height];s=_e.intersect(s,o)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-l,1),h=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,h]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(p,u,h),v=m.context;v.translate(-l,-c),v.transform(...n),e.smask?this.smaskStack.push({canvas:m.canvas,context:v,offsetX:l,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,c),t.save()),Ud(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=xt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const o=_e.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,s,o){if(N(this,da,_w).call(this),mm(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],c=t[3]-t[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=c;const[u,h]=_e.singularValueDecompose2dScale(xt(this.ctx)),{viewportScale:p}=this,m=Math.ceil(l*this.outputScaleX*p),v=Math.ceil(c*this.outputScaleY*p);this.annotationCanvas=this.canvasFactory.create(m,v);const{canvas:w,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,w),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(u,0,0,-h,0,c*h),mm(this.ctx)}else mm(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],l,c),this.ctx.clip(),this.ctx.beginPath()}this.current=new T1(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),N(this,da,kw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=KB(e)),s.compiled)){s.compiled(n);return}const o=this._createMaskCanvas(e),l=o.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,o.offsetX,o.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,s=0,o,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const c=this.ctx;c.save();const u=xt(c);c.transform(t,n,s,o,0,0);const h=this._createMaskCanvas(e);c.setTransform(1,0,0,1,h.offsetX-u[4],h.offsetY-u[5]);for(let p=0,m=l.length;p<m;p+=2){const v=_e.transform(u,[t,n,s,o,l[p],l[p+1]]),[w,b]=_e.applyTransform([0,0],v);c.drawImage(h.canvas,w,b)}c.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const o of e){const{data:l,width:c,height:u,transform:h}=o,p=this.cachedCanvases.getCanvas("maskCanvas",c,u),m=p.context;m.save();const v=this.getObject(l,o);R1(m,v),m.globalCompositeOperation="source-in",m.fillStyle=s?n.getPattern(m,this,ui(t),Ln.FILL):n,m.fillRect(0,0,c,u),m.restore(),t.save(),t.transform(...h),t.scale(1,-1),pm(t,p.canvas,0,0,c,u,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ue("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,s){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Ue("Dependent image isn't ready yet");return}const l=o.width,c=o.height,u=[];for(let h=0,p=s.length;h<p;h+=2)u.push({transform:[t,0,0,n,s[h],s[h+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(o,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:s}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,s),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,s=this.ctx;if(this.save(),!Tn){const{filter:c}=s;c!=="none"&&c!==""&&(s.filter="none")}s.scale(1/t,-1/n);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const u=this.cachedCanvases.getCanvas("inlineImage",t,n).context;P1(u,e),o=this.applyTransferMapsToCanvas(u)}const l=this._scaleImage(o,ui(s));s.imageSmoothingEnabled=N1(xt(s),e.interpolate),pm(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const o=e.width,l=e.height,u=this.cachedCanvases.getCanvas("inlineImage",o,l).context;P1(u,e),s=this.applyTransferMapsToCanvas(u)}for(const o of t)n.save(),n.transform(...o.transform),n.scale(1,-1),pm(n,s,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===M1?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=xt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:s,d:o}=this.ctx.getTransform();let l,c;if(n===0&&s===0){const u=Math.abs(t),h=Math.abs(o);if(u===h)if(e===0)l=c=1/u;else{const p=u*e;l=c=p<1?1/p:1}else if(e===0)l=1/u,c=1/h;else{const p=u*e,m=h*e;l=p<1?1/p:1,c=m<1?1/m:1}}else{const u=Math.abs(t*o-n*s),h=Math.hypot(t,n),p=Math.hypot(s,o);if(e===0)l=p/u,c=h/u;else{const m=e*u;l=p>m?p/m:1,c=h>m?h/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[s,o]=this.getScaleForStroking();if(t.lineWidth=n||1,s===1&&o===1){t.stroke();return}const l=t.getLineDash();if(e&&t.save(),t.scale(s,o),l.length>0){const c=Math.max(s,o);t.setLineDash(l.map(u=>u/c)),t.lineDashOffset/=c}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};da=new WeakSet,_w=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},kw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Bc=xx;for(const r in Jr)Bc.prototype[r]!==void 0&&(Bc.prototype[Jr[r]]=Bc.prototype[r]);var zh,Hh;class ji{static get workerPort(){return f(this,zh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");P(this,zh,e)}static get workerSrc(){return f(this,Hh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");P(this,Hh,e)}}zh=new WeakMap,Hh=new WeakMap,I(ji,zh,null),I(ji,Hh,"");const gm={DATA:1,ERROR:2},Dt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function or(r){switch(r instanceof Error||typeof r=="object"&&r!==null||ht('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new ec(r.message);case"MissingPDFException":return new Zl(r.message);case"PasswordException":return new J0(r.message,r.code);case"UnexpectedResponseException":return new av(r.message,r.status);case"UnknownErrorException":return new Z0(r.message,r.details);default:return new Z0(r.message,r.toString())}}var su,jr,pP,mP,gP,Im;class eh{constructor(e,t,n){I(this,jr);I(this,su,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",N(this,jr,pP).bind(this),{signal:f(this,su).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const s=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[s]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(e,t,n,s){const o=this.streamId++,l=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:h=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:h,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:l,targetName:c,action:e,streamId:o,data:t,desiredSize:h.desiredSize},s),p.promise},pull:h=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,u.postMessage({sourceName:l,targetName:c,stream:Dt.PULL,streamId:o,desiredSize:h.desiredSize}),p.promise},cancel:h=>{qt(h instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,u.postMessage({sourceName:l,targetName:c,stream:Dt.CANCEL,streamId:o,reason:or(h)}),p.promise}},n)}destroy(){var e;(e=f(this,su))==null||e.abort(),P(this,su,null)}}su=new WeakMap,jr=new WeakSet,pP=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){N(this,jr,gP).call(this,e);return}if(e.callback){const n=e.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===gm.DATA)s.resolve(e.data);else if(e.callback===gm.ERROR)s.reject(or(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,s=e.sourceName,o=this.comObj;new Promise(function(l){l(t(e.data))}).then(function(l){o.postMessage({sourceName:n,targetName:s,callback:gm.DATA,callbackId:e.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:s,callback:gm.ERROR,callbackId:e.callbackId,reason:or(l)})});return}if(e.streamId){N(this,jr,mP).call(this,e);return}t(e.data)},mP=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,o=this.comObj,l=this,c=this.actionHandler[e.action],u={enqueue(h,p=1,m){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=p,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:s,stream:Dt.ENQUEUE,streamId:t,chunk:h},m)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:Dt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(h){qt(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:Dt.ERROR,streamId:t,reason:or(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,new Promise(function(h){h(c(e.data,u))}).then(function(){o.postMessage({sourceName:n,targetName:s,stream:Dt.START_COMPLETE,streamId:t,success:!0})},function(h){o.postMessage({sourceName:n,targetName:s,stream:Dt.START_COMPLETE,streamId:t,reason:or(h)})})},gP=function(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,o=this.comObj,l=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case Dt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(or(e.reason));break;case Dt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(or(e.reason));break;case Dt.PULL:if(!c){o.postMessage({sourceName:n,targetName:s,stream:Dt.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,new Promise(function(u){var h;u((h=c.onPull)==null?void 0:h.call(c))}).then(function(){o.postMessage({sourceName:n,targetName:s,stream:Dt.PULL_COMPLETE,streamId:t,success:!0})},function(u){o.postMessage({sourceName:n,targetName:s,stream:Dt.PULL_COMPLETE,streamId:t,reason:or(u)})});break;case Dt.ENQUEUE:if(qt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case Dt.CLOSE:if(qt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),N(this,jr,Im).call(this,l,t);break;case Dt.ERROR:qt(l,"error should have stream controller"),l.controller.error(or(e.reason)),N(this,jr,Im).call(this,l,t);break;case Dt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(or(e.reason)),N(this,jr,Im).call(this,l,t);break;case Dt.CANCEL:if(!c)break;new Promise(function(u){var h;u((h=c.onCancel)==null?void 0:h.call(c,or(e.reason)))}).then(function(){o.postMessage({sourceName:n,targetName:s,stream:Dt.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){o.postMessage({sourceName:n,targetName:s,stream:Dt.CANCEL_COMPLETE,streamId:t,reason:or(u)})}),c.sinkCapability.reject(or(e.reason)),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Im=async function(e,t){var n,s,o;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(s=e.pullCall)==null?void 0:s.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var ul,Bh;class e4{constructor({parsedData:e,rawData:t}){I(this,ul);I(this,Bh);P(this,ul,e),P(this,Bh,t)}getRaw(){return f(this,Bh)}get(e){return f(this,ul).get(e)??null}getAll(){return sx(f(this,ul))}has(e){return f(this,ul).has(e)}}ul=new WeakMap,Bh=new WeakMap;const Dc=Symbol("INTERNAL");var Wh,Uh,Vh,iu;class t4{constructor(e,{name:t,intent:n,usage:s,rbGroups:o}){I(this,Wh,!1);I(this,Uh,!1);I(this,Vh,!1);I(this,iu,!0);P(this,Wh,!!(e&mr.DISPLAY)),P(this,Uh,!!(e&mr.PRINT)),this.name=t,this.intent=n,this.usage=s,this.rbGroups=o}get visible(){if(f(this,Vh))return f(this,iu);if(!f(this,iu))return!1;const{print:e,view:t}=this.usage;return f(this,Wh)?(t==null?void 0:t.viewState)!=="OFF":f(this,Uh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Dc&&ht("Internal method `_setVisible` called."),P(this,Vh,n),P(this,iu,t)}}Wh=new WeakMap,Uh=new WeakMap,Vh=new WeakMap,iu=new WeakMap;var Wo,nt,ou,au,Gh,Tw;class n4{constructor(e,t=mr.DISPLAY){I(this,Gh);I(this,Wo,null);I(this,nt,new Map);I(this,ou,null);I(this,au,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,P(this,au,e.order);for(const n of e.groups)f(this,nt).set(n.id,new t4(t,n));if(e.baseState==="OFF")for(const n of f(this,nt).values())n._setVisible(Dc,!1);for(const n of e.on)f(this,nt).get(n)._setVisible(Dc,!0);for(const n of e.off)f(this,nt).get(n)._setVisible(Dc,!1);P(this,ou,this.getHash())}}isVisible(e){if(f(this,nt).size===0)return!0;if(!e)return ov("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,nt).has(e.id)?f(this,nt).get(e.id).visible:(Ue(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return N(this,Gh,Tw).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,nt).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(f(this,nt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,nt).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(!f(this,nt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,nt).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(!f(this,nt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,nt).has(t))return Ue(`Optional content group not found: ${t}`),!0;if(f(this,nt).get(t).visible)return!1}return!0}return Ue(`Unknown optional content policy ${e.policy}.`),!0}return Ue(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var o;const s=f(this,nt).get(e);if(!s){Ue(`Optional content group not found: ${e}`);return}if(n&&t&&s.rbGroups.length)for(const l of s.rbGroups)for(const c of l)c!==e&&((o=f(this,nt).get(c))==null||o._setVisible(Dc,!1,!0));s._setVisible(Dc,!!t,!0),P(this,Wo,null)}setOCGState({state:e,preserveRB:t}){let n;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const o=f(this,nt).get(s);if(o)switch(n){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!o.visible,t);break}}P(this,Wo,null)}get hasInitialVisibility(){return f(this,ou)===null||this.getHash()===f(this,ou)}getOrder(){return f(this,nt).size?f(this,au)?f(this,au).slice():[...f(this,nt).keys()]:null}getGroups(){return f(this,nt).size>0?sx(f(this,nt)):null}getGroup(e){return f(this,nt).get(e)||null}getHash(){if(f(this,Wo)!==null)return f(this,Wo);const e=new rP;for(const[t,n]of f(this,nt))e.update(`${t}:${n.visible}`);return P(this,Wo,e.hexdigest())}}Wo=new WeakMap,nt=new WeakMap,ou=new WeakMap,au=new WeakMap,Gh=new WeakSet,Tw=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let s=1;s<t;s++){const o=e[s];let l;if(Array.isArray(o))l=N(this,Gh,Tw).call(this,o);else if(f(this,nt).has(o))l=f(this,nt).get(o).visible;else return Ue(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class r4{constructor(e,{disableRange:t=!1,disableStream:n=!1}){qt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:o,progressiveDone:l,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,(o==null?void 0:o.length)>0){const u=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,h)=>{this._onReceiveData({begin:u,chunk:h})}),e.addProgressListener((u,h)=>{this._onProgress({loaded:u,total:h})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});qt(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,s,o;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(o=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||o.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){qt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new s4(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new i4(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class s4{constructor(e,t,n=!1,s=null){this._stream=e,this._done=n||!1,this._filename=ax(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class i4{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function o4(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let p=c(t);return p=unescape(p),p=u(p),p=h(p),o(p)}if(t=l(r),t){const p=h(t);return o(p)}if(t=n("filename","i").exec(r),t){t=t[1];let p=c(t);return p=h(p),o(p)}function n(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function s(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const v=new TextDecoder(p,{fatal:!0}),w=lv(m);m=v.decode(w),e=!1}catch{}}return m}function o(p){return e&&/[\x80-\xff]/.test(p)&&(p=s("utf-8",p),e&&(p=s("iso-8859-1",p))),p}function l(p){const m=[];let v;const w=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=w.exec(p))!==null;){let[,x,C,_]=v;if(x=parseInt(x,10),x in m){if(x===0)break;continue}m[x]=[C,_]}const b=[];for(let x=0;x<m.length&&x in m;++x){let[C,_]=m[x];_=c(_),C&&(_=unescape(_),x===0&&(_=u(_))),b.push(_)}return b.join("")}function c(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let v=0;v<m.length;++v){const w=m[v].indexOf('"');w!==-1&&(m[v]=m[v].slice(0,w),m.length=v+1),m[v]=m[v].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function u(p){const m=p.indexOf("'");if(m===-1)return p;const v=p.slice(0,m),b=p.slice(m+1).replace(/^[^']*'/,"");return s(v,b)}function h(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,v,w,b){if(w==="q"||w==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,C){return String.fromCharCode(parseInt(C,16))}),s(v,b);try{b=atob(b)}catch{}return s(v,b)})}return""}function hx(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const s=e[n];s!==void 0&&t.append(n,s)}return t}function fx({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(r.get("Content-Length"),10);return!Number.isInteger(o)||(s.suggestedLength=o,o<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function px(r){const e=r.get("Content-Disposition");if(e){let t=o4(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(ax(t))return t}return null}function dv(r,e){return r===404||r===0&&e.startsWith("file:")?new Zl('Missing PDF "'+e+'".'):new av(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r)}function vP(r){return r===200||r===206}function yP(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function wP(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Ue(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class I1{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=hx(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return qt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new a4(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new l4(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class a4{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),s=t.url;fetch(s,yP(n,this._withCredentials,this._abortController)).then(o=>{if(!vP(o.status))throw dv(o.status,s);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:c,suggestedLength:u}=fx({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=u||this._contentLength,this._filename=px(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ec("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:wP(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class l4{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${n-1}`);const l=s.url;fetch(l,yP(o,this._withCredentials,this._abortController)).then(c=>{if(!vP(c.status))throw dv(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:wP(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const S0=200,A0=206;function c4(r){const e=r.response;return typeof e!="string"?e:lv(e).buffer}class u4{constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=hx(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const s={begin:e,end:t};for(const o in n)s[o]=n[o];return this.request(s)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,l]of this.headers)t.setRequestHeader(o,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=A0):s.expectedStatus=S0,t.responseType="arraybuffer",e.onError&&(t.onerror=function(o){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var s;const n=this.pendingRequests[e];n&&((s=n.onProgress)==null||s.call(n,t))}onStateChange(e,t){var u,h,p;const n=this.pendingRequests[e];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){(u=n.onError)==null||u.call(n,s.status);return}const o=s.status||S0;if(!(o===S0&&n.expectedStatus===A0)&&o!==n.expectedStatus){(h=n.onError)==null||h.call(n,s.status);return}const c=c4(s);if(o===A0){const m=s.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(m);n.onDone({begin:parseInt(v[1],10),chunk:c})}else c?n.onDone({begin:0,chunk:c}):(p=n.onError)==null||p.call(n,s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class d4{constructor(e){this._source=e,this._manager=new u4(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return qt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new h4(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new f4(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class h4{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(l=>{const[c,...u]=l.split(": ");return[c,u.join(": ")]})),{allowRangeRequests:s,suggestedLength:o}=fx({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=px(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=dv(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class f4{constructor(e,t,n){this._manager=e;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=dv(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const p4=/^[a-z][a-z0-9\-+.]+:/i;function m4(r){if(p4.test(r))return new URL(r);const e=ca.get("url");return new URL(e.pathToFileURL(r))}function bP(r,e,t){return r.protocol==="http:"?ca.get("http").request(r,{headers:e},t):ca.get("https").request(r,{headers:e},t)}class g4{constructor(e){this.source=e,this.url=m4(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=hx(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return qt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new w4(this):new v4(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new b4(this,e,t):new y4(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class xP{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ec("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class SP{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class v4 extends xP{constructor(e){super(e);const t=Object.fromEntries(e.headers),n=s=>{if(s.statusCode===404){const u=new Zl(`Missing PDF "${this._url}".`);this._storedError=u,this._headersCapability.reject(u);return}this._headersCapability.resolve(),this._setReadableStream(s);const o=new Headers(this._readableStream.headers),{allowRangeRequests:l,suggestedLength:c}=fx({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=px(o)};this._request=bP(this._url,t,n),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class y4 extends SP{constructor(e,t,n){super(e);const s=Object.fromEntries(e.headers);s.Range=`bytes=${t}-${n-1}`;const o=l=>{if(l.statusCode===404){const c=new Zl(`Missing PDF "${this._url}".`);this._storedError=c;return}this._setReadableStream(l)};this._request=bP(this._url,s,o),this._request.on("error",l=>{this._storedError=l}),this._request.end()}}class w4 extends xP{constructor(e){super(e);const t=ca.get("fs");t.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new Zl(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class b4 extends SP{constructor(e,t,n){super(e);const s=ca.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}}const x4=1e5,Gn=30,S4=.8;var $1,Uo,qn,Yh,Xh,dl,bi,qh,Kh,hl,lu,cu,Vo,uu,Qh,du,fl,Jh,Zh,pl,ml,ef,Go,hu,qi,AP,EP,Pw,wr,Lm,Rw,CP,_P;const Vt=class Vt{constructor({textContentSource:e,container:t,viewport:n}){I(this,qi);I(this,Uo,Promise.withResolvers());I(this,qn,null);I(this,Yh,!1);I(this,Xh,!!(($1=globalThis.FontInspector)!=null&&$1.enabled));I(this,dl,null);I(this,bi,null);I(this,qh,0);I(this,Kh,0);I(this,hl,null);I(this,lu,null);I(this,cu,0);I(this,Vo,0);I(this,uu,Object.create(null));I(this,Qh,[]);I(this,du,null);I(this,fl,[]);I(this,Jh,new WeakMap);I(this,Zh,null);var u;if(e instanceof ReadableStream)P(this,du,e);else if(typeof e=="object")P(this,du,new ReadableStream({start(h){h.enqueue(e),h.close()}}));else throw new Error('No "textContentSource" parameter specified.');P(this,qn,P(this,lu,t)),P(this,Vo,n.scale*(globalThis.devicePixelRatio||1)),P(this,cu,n.rotation),P(this,bi,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:o,pageX:l,pageY:c}=n.rawDims;P(this,Zh,[1,0,0,-1,-l,c+o]),P(this,Kh,s),P(this,qh,o),N(u=Vt,wr,CP).call(u),Vl(t,n),f(this,Uo).promise.finally(()=>{f(Vt,hu).delete(this),P(this,bi,null),P(this,uu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=On.platform;return qe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{f(this,hl).read().then(({value:t,done:n})=>{if(n){f(this,Uo).resolve();return}f(this,dl)??P(this,dl,t.lang),Object.assign(f(this,uu),t.styles),N(this,qi,AP).call(this,t.items),e()},f(this,Uo).reject)};return P(this,hl,f(this,du).getReader()),f(Vt,hu).add(this),e(),f(this,Uo).promise}update({viewport:e,onBefore:t=null}){var o;const n=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==f(this,cu)&&(t==null||t(),P(this,cu,s),Vl(f(this,lu),{rotation:s})),n!==f(this,Vo)){t==null||t(),P(this,Vo,n);const l={div:null,properties:null,ctx:N(o=Vt,wr,Lm).call(o,f(this,dl))};for(const c of f(this,fl))l.properties=f(this,Jh).get(c),l.div=c,N(this,qi,Pw).call(this,l)}}cancel(){var t;const e=new ec("TextLayer task cancelled.");(t=f(this,hl))==null||t.cancel(e).catch(()=>{}),P(this,hl,null),f(this,Uo).reject(e)}get textDivs(){return f(this,fl)}get textContentItemsStr(){return f(this,Qh)}static cleanup(){if(!(f(this,hu).size>0)){f(this,pl).clear();for(const{canvas:e}of f(this,ml).values())e.remove();f(this,ml).clear()}}};Uo=new WeakMap,qn=new WeakMap,Yh=new WeakMap,Xh=new WeakMap,dl=new WeakMap,bi=new WeakMap,qh=new WeakMap,Kh=new WeakMap,hl=new WeakMap,lu=new WeakMap,cu=new WeakMap,Vo=new WeakMap,uu=new WeakMap,Qh=new WeakMap,du=new WeakMap,fl=new WeakMap,Jh=new WeakMap,Zh=new WeakMap,pl=new WeakMap,ml=new WeakMap,ef=new WeakMap,Go=new WeakMap,hu=new WeakMap,qi=new WeakSet,AP=function(e){var s,o;if(f(this,Yh))return;(o=f(this,bi)).ctx??(o.ctx=N(s=Vt,wr,Lm).call(s,f(this,dl)));const t=f(this,fl),n=f(this,Qh);for(const l of e){if(t.length>x4){Ue("Ignoring additional textDivs for performance reasons."),P(this,Yh,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const c=f(this,qn);P(this,qn,document.createElement("span")),f(this,qn).classList.add("markedContent"),l.id!==null&&f(this,qn).setAttribute("id",`${l.id}`),c.append(f(this,qn))}else l.type==="endMarkedContent"&&P(this,qn,f(this,qn).parentNode);continue}n.push(l.str),N(this,qi,EP).call(this,l)}},EP=function(e){var x;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,fl).push(t);const s=_e.transform(f(this,Zh),e.transform);let o=Math.atan2(s[1],s[0]);const l=f(this,uu)[e.fontName];l.vertical&&(o+=Math.PI/2);let c=f(this,Xh)&&l.fontSubstitution||l.fontFamily;c=Vt.fontFamilyMap.get(c)||c;const u=Math.hypot(s[2],s[3]),h=u*N(x=Vt,wr,_P).call(x,c,f(this,dl));let p,m;o===0?(p=s[4],m=s[5]-h):(p=s[4]+h*Math.sin(o),m=s[5]-h*Math.cos(o));const v="calc(var(--scale-factor)*",w=t.style;f(this,qn)===f(this,lu)?(w.left=`${(100*p/f(this,Kh)).toFixed(2)}%`,w.top=`${(100*m/f(this,qh)).toFixed(2)}%`):(w.left=`${v}${p.toFixed(2)}px)`,w.top=`${v}${m.toFixed(2)}px)`),w.fontSize=`${v}${(f(Vt,Go)*u).toFixed(2)}px)`,w.fontFamily=c,n.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,Xh)&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const C=Math.abs(e.transform[0]),_=Math.abs(e.transform[3]);C!==_&&Math.max(C,_)/Math.min(C,_)>1.5&&(b=!0)}if(b&&(n.canvasWidth=l.vertical?e.height:e.width),f(this,Jh).set(t,n),f(this,bi).div=t,f(this,bi).properties=n,N(this,qi,Pw).call(this,f(this,bi)),n.hasText&&f(this,qn).append(t),n.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),f(this,qn).append(C)}},Pw=function(e){var c;const{div:t,properties:n,ctx:s}=e,{style:o}=t;let l="";if(f(Vt,Go)>1&&(l=`scale(${1/f(Vt,Go)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:u}=o,{canvasWidth:h,fontSize:p}=n;N(c=Vt,wr,Rw).call(c,s,p*f(this,Vo),u);const{width:m}=s.measureText(t.textContent);m>0&&(l=`scaleX(${h*f(this,Vo)/m}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)},wr=new WeakSet,Lm=function(e=null){let t=f(this,ml).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,ml).set(e,t),f(this,ef).set(t,{size:0,family:""})}return t},Rw=function(e,t,n){const s=f(this,ef).get(e);t===s.size&&n===s.family||(e.font=`${t}px ${n}`,s.size=t,s.family=n)},CP=function(){if(f(this,Go)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),P(this,Go,e.getBoundingClientRect().height),e.remove()},_P=function(e,t){const n=f(this,pl).get(e);if(n)return n;const s=N(this,wr,Lm).call(this,t);s.canvas.width=s.canvas.height=Gn,N(this,wr,Rw).call(this,s,Gn,e);const o=s.measureText("");let l=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);if(l){const p=l/(l+c);return f(this,pl).set(e,p),s.canvas.width=s.canvas.height=0,p}s.strokeStyle="red",s.clearRect(0,0,Gn,Gn),s.strokeText("g",0,0);let u=s.getImageData(0,0,Gn,Gn).data;c=0;for(let p=u.length-1-3;p>=0;p-=4)if(u[p]>0){c=Math.ceil(p/4/Gn);break}s.clearRect(0,0,Gn,Gn),s.strokeText("A",0,Gn),u=s.getImageData(0,0,Gn,Gn).data,l=0;for(let p=0,m=u.length;p<m;p+=4)if(u[p]>0){l=Gn-Math.floor(p/4/Gn);break}s.canvas.width=s.canvas.height=0;const h=l?l/(l+c):S4;return f(this,pl).set(e,h),h},I(Vt,wr),I(Vt,pl,new Map),I(Vt,ml,new Map),I(Vt,ef,new WeakMap),I(Vt,Go,null),I(Vt,hu,new Set);let vh=Vt;class yh{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function s(o){var u;if(!o)return;let l=null;const c=o.name;if(c==="#text")l=o.value;else if(yh.shouldBuildText(c))(u=o==null?void 0:o.attributes)!=null&&u.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&t.push({str:l}),!!o.children)for(const h of o.children)s(h)}return s(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const A4=65536,E4=100,C4=5e3,_4=Tn?jB:DB,k4=Tn?$B:lP,T4=Tn?FB:OB,P4=Tn?zB:hP;function R4(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new Nw,{docId:t}=e,n=r.url?N4(r.url):null,s=r.data?M4(r.data):null,o=r.httpHeaders||null,l=r.withCredentials===!0,c=r.password??null,u=r.range instanceof kP?r.range:null,h=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:A4;let p=r.worker instanceof Wc?r.worker:null;const m=r.verbosity,v=typeof r.docBaseUrl=="string"&&!uv(r.docBaseUrl)?r.docBaseUrl:null,w=typeof r.cMapUrl=="string"?r.cMapUrl:null,b=r.cMapPacked!==!1,x=r.CMapReaderFactory||k4,C=typeof r.standardFontDataUrl=="string"?r.standardFontDataUrl:null,_=r.StandardFontDataFactory||P4,k=r.stopAtErrors!==!0,T=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,M=r.isEvalSupported!==!1,L=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!Tn,D=typeof r.isChrome=="boolean"?r.isChrome:!On.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),F=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,j=typeof r.disableFontFace=="boolean"?r.disableFontFace:Tn,W=r.fontExtraProperties===!0,X=r.enableXfa===!0,Q=r.ownerDocument||globalThis.document,ue=r.disableRange===!0,oe=r.disableStream===!0,he=r.disableAutoFetch===!0,ae=r.pdfBug===!0,q=r.CanvasFactory||_4,J=r.FilterFactory||T4,z=r.enableHWA===!0,te=u?u.length:r.length??NaN,Z=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!Tn&&!j,$=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:x===lP&&_===hP&&w&&C&&Yd(w,document.baseURI)&&Yd(C,document.baseURI);r.canvasFactory&&x1("`canvasFactory`-instance option, please use `CanvasFactory` instead."),r.filterFactory&&x1("`filterFactory`-instance option, please use `FilterFactory` instead.");const G=null;hB(m);const ee={canvasFactory:new q({ownerDocument:Q,enableHWA:z}),filterFactory:new J({docId:t,ownerDocument:Q}),cMapReaderFactory:$?null:new x({baseUrl:w,isCompressed:b}),standardFontDataFactory:$?null:new _({baseUrl:C})};if(!p){const ce={verbosity:m,port:ji.workerPort};p=ce.port?Wc.fromPort(ce):new Wc(ce),e._worker=p}const de={docId:t,apiVersion:"4.8.69",data:s,password:c,disableAutoFetch:he,rangeChunkSize:h,length:te,docBaseUrl:v,enableXfa:X,evaluatorOptions:{maxImageSize:T,disableFontFace:j,ignoreErrors:k,isEvalSupported:M,isOffscreenCanvasSupported:L,isChrome:D,canvasMaxAreaInBytes:F,fontExtraProperties:W,useSystemFonts:Z,cMapUrl:$?w:null,standardFontDataUrl:$?C:null}},Ae={disableFontFace:j,fontExtraProperties:W,ownerDocument:Q,pdfBug:ae,styleElement:G,loadingParams:{disableAutoFetch:he,enableXfa:X}};return p.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const ce=p.messageHandler.sendWithPromise("GetDocRequest",de,s?[s.buffer]:null);let K;if(u)K=new r4(u,{disableRange:ue,disableStream:oe});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");let me;Tn?me=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Yd(n)?I1:g4:me=Yd(n)?I1:d4,K=new me({url:n,length:te,httpHeaders:o,withCredentials:l,rangeChunkSize:h,disableRange:ue,disableStream:oe})}return ce.then(me=>{if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Ce=new eh(t,me,p.port),Te=new O4(Ce,e,K,Ae,ee);e._transport=Te,Ce.send("Ready",null)})}).catch(e._capability.reject),e}function N4(r){if(r instanceof URL)return r.href;try{return new URL(r,window.location).href}catch{if(Tn&&typeof r=="string")return r}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function M4(r){if(Tn&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return lv(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function L1(r){return typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0}var kg;const Tg=class Tg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Nn(Tg,kg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};kg=new WeakMap,I(Tg,kg,0);let Nw=Tg;class kP{constructor(e,t,n=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){ht("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class I4{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return qe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Yo,xi,Or,Oc,Dm;class L4{constructor(e,t,n,s=!1){I(this,Or);I(this,Yo,null);I(this,xi,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=s?new b1:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new TP,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:o=!1}={}){return new Bf({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:s,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return qe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:s=No.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:h=null,printAnnotationStorage:p=null,isEditing:m=!1}){var M,L;(M=this._stats)==null||M.time("Overall");const v=this._transport.getRenderingIntent(n,s,p,m),{renderingIntent:w,cacheKey:b}=v;P(this,xi,!1),N(this,Or,Dm).call(this),c||(c=this._transport.getOptionalContentConfig(w));let x=this._intentStates.get(b);x||(x=Object.create(null),this._intentStates.set(b,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const C=!!(w&mr.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(L=this._stats)==null||L.time("Page Request"),this._pumpOperatorList(v));const _=D=>{var F;x.renderTasks.delete(k),(this._maybeCleanupAfterRender||C)&&P(this,xi,!0),N(this,Or,Oc).call(this,!C),D?(k.capability.reject(D),this._abortOperatorList({intentState:x,reason:D instanceof Error?D:new Error(D)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(F=globalThis.Stats)!=null&&F.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new Iw({callback:_,params:{canvasContext:e,viewport:t,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:h});(x.renderTasks||(x.renderTasks=new Set)).add(k);const T=k.task;return Promise.all([x.displayReadyCapability.promise,c]).then(([D,F])=>{var j;if(this.destroyed){_();return}if((j=this._stats)==null||j.time("Rendering"),!(F.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:D,optionalContentConfig:F}),k.operatorListChanged()}).catch(_),T}getOperatorList({intent:e="display",annotationMode:t=No.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){var h;function o(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(u))}const l=this._transport.getRenderingIntent(e,t,n,s,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let u;return c.opListReadCapability||(u=Object.create(null),u.operatorListChanged=o,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||(c.renderTasks=new Set)).add(u),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(h=this._stats)==null||h.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>yh.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,s){function o(){l.read().then(function({value:u,done:h}){if(h){n(c);return}c.lang??(c.lang=u.lang),Object.assign(c.styles,u.styles),c.items.push(...u.items),o()},s)}const l=t.getReader(),c={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),P(this,xi,!1),N(this,Or,Dm).call(this),Promise.all(e)}cleanup(e=!1){P(this,xi,!0);const t=N(this,Or,Oc).call(this,!1);return e&&t&&this._stats&&(this._stats=new b1),t}_startRenderPage(e,t){var s,o;const n=this._intentStates.get(t);n&&((s=this._stats)==null||s.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let n=0,s=e.length;n<s;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&N(this,Or,Oc).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:s}){const{map:o,transfer:l}=n,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:s},l).getReader(),h=this._intentStates.get(t);h.streamReader=u;const p=()=>{u.read().then(({value:m,done:v})=>{if(v){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,h),p())},m=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const v of h.renderTasks)v.operatorListChanged();N(this,Or,Oc).call(this,!0)}if(h.displayReadyCapability)h.displayReadyCapability.reject(m);else if(h.opListReadCapability)h.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof ox){let s=E4;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new ec(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,o]of this._intentStates)if(o===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}Yo=new WeakMap,xi=new WeakMap,Or=new WeakSet,Oc=function(e=!1){if(N(this,Or,Dm).call(this),!f(this,xi)||this.destroyed)return!1;if(e)return P(this,Yo,setTimeout(()=>{P(this,Yo,null),N(this,Or,Oc).call(this,!1)},C4)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),P(this,xi,!1),!0},Dm=function(){f(this,Yo)&&(clearTimeout(f(this,Yo)),P(this,Yo,null))};var Si,Pg;class D4{constructor(){I(this,Si,new Map);I(this,Pg,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};f(this,Pg).then(()=>{for(const[s]of f(this,Si))s.call(this,n)})}addEventListener(e,t,n=null){let s=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Ue("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);s=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}f(this,Si).set(t,s)}removeEventListener(e,t){const n=f(this,Si).get(t);n==null||n(),f(this,Si).delete(t)}terminate(){for(const[,e]of f(this,Si))e==null||e();f(this,Si).clear()}}Si=new WeakMap,Pg=new WeakMap;var Rg,gl,vl,fu,Om,pu,Fm;const pt=class pt{constructor({name:e=null,port:t=null,verbosity:n=fB()}={}){I(this,fu);var s;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=f(pt,vl))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(f(pt,vl)||P(pt,vl,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Tn?Promise.all([ca.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new eh("main","worker",e),this._messageHandler.on("ready",function(){}),N(this,fu,Om).call(this)}_initialize(){if(f(pt,gl)||f(pt,pu,Fm)){this._setupFakeWorker();return}let{workerSrc:e}=pt;try{pt._isSameOrigin(window.location.href,e)||(e=pt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new eh("main","worker",t),s=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:o.signal}),n.on("test",c=>{if(o.abort(),this.destroyed||!c){s();return}this._messageHandler=n,this._port=t,this._webWorker=t,N(this,fu,Om).call(this)}),n.on("ready",c=>{if(o.abort(),this.destroyed){s();return}try{l()}catch{this._setupFakeWorker()}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{ov("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){f(pt,gl)||(Ue("Setting up fake worker."),P(pt,gl,!0)),pt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new D4;this._port=t;const n=`fake${Nn(pt,Rg)._++}`,s=new eh(n+"_worker",n,t);e.setup(s,t),this._messageHandler=new eh(n,n+"_worker",t),N(this,fu,Om).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=f(pt,vl))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=f(this,vl))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new pt(e)}static get workerSrc(){if(ji.workerSrc)return ji.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return qe(this,"_setupFakeWorkerGlobal",(async()=>f(this,pu,Fm)?f(this,pu,Fm):(await import(this.workerSrc)).WorkerMessageHandler)())}};Rg=new WeakMap,gl=new WeakMap,vl=new WeakMap,fu=new WeakSet,Om=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},pu=new WeakSet,Fm=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},I(pt,pu),I(pt,Rg,0),I(pt,gl,!1),I(pt,vl),Tn&&(P(pt,gl,!0),ji.workerSrc||(ji.workerSrc="./pdf.worker.mjs")),pt._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const s=new URL(t,n);return n.origin===s.origin},pt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Wc=pt;var Ai,Fs,mu,gu,js,yl,th;class O4{constructor(e,t,n,s,o){I(this,yl);I(this,Ai,new Map);I(this,Fs,new Map);I(this,mu,new Map);I(this,gu,new Map);I(this,js,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new TP,this.fontLoader=new IB({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return qe(this,"annotationStorage",new ux)}getRenderingIntent(e,t=No.ENABLE,n=null,s=!1,o=!1){let l=mr.DISPLAY,c=bw;switch(e){case"any":l=mr.ANY;break;case"display":break;case"print":l=mr.PRINT;break;default:Ue(`getRenderingIntent - invalid intent: ${e}`)}const u=l&mr.PRINT&&n instanceof iP?n:this.annotationStorage;switch(t){case No.DISABLE:l+=mr.ANNOTATIONS_DISABLE;break;case No.ENABLE:break;case No.ENABLE_FORMS:l+=mr.ANNOTATIONS_FORMS;break;case No.ENABLE_STORAGE:l+=mr.ANNOTATIONS_STORAGE,c=u.serializable;break;default:Ue(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(l+=mr.IS_EDITING),o&&(l+=mr.OPLIST);const{ids:h,hash:p}=u.modifiedIds,m=[l,c.hash,p];return{renderingIntent:l,cacheKey:m.join("_"),annotationStorageSerializable:c,modifiedIds:h}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=f(this,js))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of f(this,Fs).values())e.push(s._destroy());f(this,Fs).clear(),f(this,mu).clear(),f(this,gu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),f(this,Ai).clear(),this.filterFactory.destroy(),vh.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new ec("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,s)=>{qt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},s.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){s.close();return}qt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{this._fullReader.cancel(o),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async n=>{var c;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:o,contentLength:l}=this._fullReader;return(!s||!o)&&(this._lastProgress&&((c=t.onProgress)==null||c.call(t,this._lastProgress)),this._fullReader.onProgress=u=>{var h;(h=t.onProgress)==null||h.call(t,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:s,isRangeSupported:o,contentLength:l}}),e.on("GetRangeReader",(n,s)=>{qt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){s.close();return}s.onPull=()=>{o.read().then(function({value:l,done:c}){if(c){s.close();return}qt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{s.error(l)})},s.onCancel=l=>{o.cancel(l),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new I4(n,this))}),e.on("DocException",function(n){let s;switch(n.name){case"PasswordException":s=new J0(n.message,n.code);break;case"InvalidPDFException":s=new NT(n.message);break;case"MissingPDFException":s=new Zl(n.message);break;case"UnexpectedResponseException":s=new av(n.message,n.status);break;case"UnknownErrorException":s=new Z0(n.message,n.details);break;default:ht("DocException - expected a valid Error.")}t._capability.reject(s)}),e.on("PasswordRequest",n=>{if(P(this,js,Promise.withResolvers()),t.onPassword){const s=o=>{o instanceof Error?f(this,js).reject(o):f(this,js).resolve({password:o})};try{t.onPassword(s,n.code)}catch(o){f(this,js).reject(o)}}else f(this,js).reject(new J0(n.message,n.code));return f(this,js).promise}),e.on("DataLoaded",n=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;f(this,Fs).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,s,o])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":const{disableFontFace:c,fontExtraProperties:u,pdfBug:h}=this._params;if("error"in o){const w=o.error;Ue(`Error during font loading: ${w}`),this.commonObjs.resolve(n,w);break}const p=h&&((l=globalThis.FontInspector)!=null&&l.enabled)?(w,b)=>globalThis.FontInspector.fontAdded(w,b):null,m=new LB(o,{disableFontFace:c,inspectFont:p});this.fontLoader.bind(m).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!u&&m.data&&(m.data=null),this.commonObjs.resolve(n,m)});break;case"CopyLocalImage":const{imageRef:v}=o;qt(v,"The imageRef must be defined.");for(const w of f(this,Fs).values())for(const[,b]of w.objs)if((b==null?void 0:b.ref)===v)return b.dataLen?(this.commonObjs.resolve(n,structuredClone(b)),b.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([n,s,o,l])=>{var u;if(this.destroyed)return;const c=f(this,Fs).get(s);if(!c.objs.has(n)){if(c._intentStates.size===0){(u=l==null?void 0:l.bitmap)==null||u.close();return}switch(o){case"Image":c.objs.resolve(n,l),(l==null?void 0:l.dataLen)>lB&&(c._maybeCleanupAfterRender=!0);break;case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Ue("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=f(this,mu).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&f(this,gu).set(o.refStr,e);const l=new L4(t,o,this,this._params.pdfBug);return f(this,Fs).set(t,l),l});return f(this,mu).set(t,s),s}getPageIndex(e){return L1(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return N(this,yl,th).call(this,"GetFieldObjects")}hasJSActions(){return N(this,yl,th).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return N(this,yl,th).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return N(this,yl,th).call(this,"GetOptionalContentConfig").then(t=>new n4(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,Ai).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(s=>{var o,l;return{info:s[0],metadata:s[1]?new e4(s[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return f(this,Ai).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,Fs).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,Ai).clear(),this.filterFactory.destroy(!0),vh.cleanup()}}cachedPageNumber(e){if(!L1(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,gu).get(t)??null}}Ai=new WeakMap,Fs=new WeakMap,mu=new WeakMap,gu=new WeakMap,js=new WeakMap,yl=new WeakSet,th=function(e,t=null){const n=f(this,Ai).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise(e,t);return f(this,Ai).set(e,s),s};const vm=Symbol("INITIAL_DATA");var ss,tf,Mw;class TP{constructor(){I(this,tf);I(this,ss,Object.create(null))}get(e,t=null){if(t){const s=N(this,tf,Mw).call(this,e);return s.promise.then(()=>t(s.data)),null}const n=f(this,ss)[e];if(!n||n.data===vm)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=f(this,ss)[e];return!!t&&t.data!==vm}resolve(e,t=null){const n=N(this,tf,Mw).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in f(this,ss)){const{data:n}=f(this,ss)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}P(this,ss,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,ss)){const{data:t}=f(this,ss)[e];t!==vm&&(yield[e,t])}}}ss=new WeakMap,tf=new WeakSet,Mw=function(e){var t;return(t=f(this,ss))[e]||(t[e]={...Promise.withResolvers(),data:vm})};var Xo;class F4{constructor(e){I(this,Xo,null);P(this,Xo,e),this.onContinue=null}get promise(){return f(this,Xo).capability.promise}cancel(e=0){f(this,Xo).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,Xo).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,Xo);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Xo=new WeakMap;var qo,wl;const Wa=class Wa{constructor({callback:e,params:t,objs:n,commonObjs:s,annotationCanvasMap:o,operatorList:l,pageIndex:c,canvasFactory:u,filterFactory:h,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:v=null}){I(this,qo,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=u,this.filterFactory=h,this._pdfBug=m,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new F4(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var c,u;if(this.cancelled)return;if(this._canvas){if(f(Wa,wl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(Wa,wl).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:s,transform:o,background:l}=this.params;this.gfx=new Bc(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),f(this,qo)&&(window.cancelAnimationFrame(f(this,qo)),P(this,qo,null)),f(Wa,wl).delete(this._canvas),this.callback(e||new ox(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?P(this,qo,window.requestAnimationFrame(()=>{P(this,qo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(Wa,wl).delete(this._canvas),this.callback())))}};qo=new WeakMap,wl=new WeakMap,I(Wa,wl,new WeakSet);let Iw=Wa;const j4="4.8.69",$4="3634dab10";function D1(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function Vd(r){return Math.max(0,Math.min(255,255*r))}class O1{static CMYK_G([e,t,n,s]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Vd(e),[e,e,e]}static G_HTML([e]){const t=D1(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Vd)}static RGB_HTML(e){return`#${e.map(D1).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,n+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,n,s]){return[Vd(1-Math.min(1,e+s)),Vd(1-Math.min(1,n+s)),Vd(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const s=1-e,o=1-t,l=1-n,c=Math.min(s,o,l);return["CMYK",s,o,l,c]}}class z4{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ht("Abstract method `_createSVG` called.")}}class mx extends z4{_createSVG(e){return document.createElementNS(di,e)}}class PP{static setupStorage(e,t,n,s,o){const l=s.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),o==="print")break;e.addEventListener("input",c=>{s.setValue(t,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",c=>{s.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),o==="print")break;e.addEventListener("input",c=>{s.setValue(t,{value:c.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const u=c.target.options,h=u.selectedIndex===-1?"":u[u.selectedIndex].value;s.setValue(t,{value:h})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:s,linkService:o}){const{attributes:l}=t,c=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${s}`);for(const[u,h]of Object.entries(l))if(h!=null)switch(u){case"class":h.length&&e.setAttribute(u,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!c||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,h)}c&&o.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){var m,v;const t=e.annotationStorage,n=e.linkService,s=e.xfaHtml,o=e.intent||"display",l=document.createElement(s.name);s.attributes&&this.setAttributes({html:l,element:s,intent:o,linkService:n});const c=o!=="richText",u=e.div;if(u.append(l),e.viewport){const w=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=w}c&&u.setAttribute("class","xfaLayer xfaFont");const h=[];if(s.children.length===0){if(s.value){const w=document.createTextNode(s.value);l.append(w),c&&yh.shouldBuildText(s.name)&&h.push(w)}return{textDivs:h}}const p=[[s,-1,l]];for(;p.length>0;){const[w,b,x]=p.at(-1);if(b+1===w.children.length){p.pop();continue}const C=w.children[++p.at(-1)[1]];if(C===null)continue;const{name:_}=C;if(_==="#text"){const T=document.createTextNode(C.value);h.push(T),x.append(T);continue}const k=(m=C==null?void 0:C.attributes)!=null&&m.xmlns?document.createElementNS(C.attributes.xmlns,_):document.createElement(_);if(x.append(k),C.attributes&&this.setAttributes({html:k,element:C,storage:t,intent:o,linkService:n}),((v=C.children)==null?void 0:v.length)>0)p.push([C,-1,k]);else if(C.value){const T=document.createTextNode(C.value);c&&yh.shouldBuildText(_)&&h.push(T),k.append(T)}}for(const w of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Uf=1e3,H4=9,Yl=new WeakSet;function Bi(r){return{width:r[2]-r[0],height:r[3]-r[1]}}class B4{static create(e){switch(e.data.annotationType){case Ut.LINK:return new RP(e);case Ut.TEXT:return new W4(e);case Ut.WIDGET:switch(e.data.fieldType){case"Tx":return new U4(e);case"Btn":return e.data.radioButton?new IP(e):e.data.checkBox?new G4(e):new Y4(e);case"Ch":return new X4(e);case"Sig":return new V4(e)}return new tc(e);case Ut.POPUP:return new Dw(e);case Ut.FREETEXT:return new jP(e);case Ut.LINE:return new K4(e);case Ut.SQUARE:return new Q4(e);case Ut.CIRCLE:return new J4(e);case Ut.POLYLINE:return new $P(e);case Ut.CARET:return new e5(e);case Ut.INK:return new gx(e);case Ut.POLYGON:return new Z4(e);case Ut.HIGHLIGHT:return new zP(e);case Ut.UNDERLINE:return new t5(e);case Ut.SQUIGGLY:return new n5(e);case Ut.STRIKEOUT:return new r5(e);case Ut.STAMP:return new HP(e);case Ut.FILEATTACHMENT:return new s5(e);default:return new Mt(e)}}}var bl,vu,yu,nf,Lw;const Sx=class Sx{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){I(this,nf);I(this,bl,null);I(this,vu,!1);I(this,yu,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Sx._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;f(this,bl)||P(this,bl,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&N(this,nf,Lw).call(this,t),(n=f(this,yu))==null||n.popup.updateEdited(e)}resetEdited(){var e;f(this,bl)&&(N(this,nf,Lw).call(this,f(this,bl).rect),(e=f(this,yu))==null||e.popup.resetEdited(),P(this,bl,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:s}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof tc||(o.tabIndex=Uf);const{style:l}=o;if(l.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof Dw){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,o),o}const{width:c,height:u}=Bi(t.rect);if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,C=t.borderStyle.verticalCornerRadius;if(x>0||C>0){const k=`calc(${x}px * var(--scale-factor)) / calc(${C}px * var(--scale-factor))`;l.borderRadius=k}else if(this instanceof IP){const k=`calc(${c}px * var(--scale-factor)) / calc(${u}px * var(--scale-factor))`;l.borderRadius=k}switch(t.borderStyle.style){case Wd.SOLID:l.borderStyle="solid";break;case Wd.DASHED:l.borderStyle="dashed";break;case Wd.BEVELED:Ue("Unimplemented border style: beveled");break;case Wd.INSET:Ue("Unimplemented border style: inset");break;case Wd.UNDERLINE:l.borderBottomStyle="solid";break}const _=t.borderColor||null;_?(P(this,vu,!0),l.borderColor=_e.makeHexColor(_[0]|0,_[1]|0,_[2]|0)):l.borderWidth=0}const h=_e.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:m,pageX:v,pageY:w}=s.rawDims;l.left=`${100*(h[0]-v)/p}%`,l.top=`${100*(h[1]-w)/m}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(l.width=`${100*c/p}%`,l.height=`${100*u/m}%`):this.setRotation(b,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:o,height:l}=Bi(this.data.rect);let c,u;e%180===0?(c=100*o/n,u=100*l/s):(c=100*l/n,u=100*o/s),t.style.width=`${c}%`,t.style.height=`${u}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,s)=>{const o=s.detail[t],l=o[0],c=o.slice(1);s.target.style[n]=O1[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:O1[`${l}_rgb`](c)})};return qe(this,"_commonActions",{display:t=>{const{display:n}=t.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const s of Object.keys(t.detail)){const o=e[s]||n[s];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[s,o]of Object.entries(t)){const l=n[s];if(l){const c={detail:{[s]:o},target:e};l(c),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,s,o]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,C,_,k]=e.subarray(2,6);if(s===x&&o===C&&t===_&&n===k)return}const{style:l}=this.container;let c;if(f(this,vu)){const{borderColor:x,borderWidth:C}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const u=s-t,h=o-n,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0);const v=p.createElement("defs");m.append(v);const w=p.createElement("clipPath"),b=`clippath_${this.data.id}`;w.setAttribute("id",b),w.setAttribute("clipPathUnits","objectBoundingBox"),v.append(w);for(let x=2,C=e.length;x<C;x+=8){const _=e[x],k=e[x+1],T=e[x+2],M=e[x+3],L=p.createElement("rect"),D=(T-t)/u,F=(o-k)/h,j=(_-T)/u,W=(k-M)/h;L.setAttribute("x",D),L.setAttribute("y",F),L.setAttribute("width",j),L.setAttribute("height",W),w.append(L),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${F}" width="${j}" height="${W}"/>`)}f(this,vu)&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(m),this.container.style.clipPath=`url(#${b})`}_createPopup(){const{data:e}=this,t=P(this,yu,new Dw({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){ht("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:o,id:l,exportValues:c}of s){if(o===-1||l===t)continue;const u=typeof c=="string"?c:null,h=document.querySelector(`[data-element-id="${l}"]`);if(h&&!Yl.has(h)){Ue(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:u,domElement:h})}return n}for(const s of document.getElementsByName(e)){const{exportValue:o}=s,l=s.getAttribute("data-element-id");l!==t&&Yl.has(s)&&n.push({id:l,exportValue:o,domElement:s})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};bl=new WeakMap,vu=new WeakMap,yu=new WeakMap,nf=new WeakSet,Lw=function(e){const{container:{style:t},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:c,pageY:u}}}}=this;n==null||n.splice(0,4,...e);const{width:h,height:p}=Bi(e);t.left=`${100*(e[0]-c)/o}%`,t.top=`${100*(l-e[3]+u)/l}%`,s===0?(t.width=`${100*h/o}%`,t.height=`${100*p/l}%`):this.setRotation(s)};let Mt=Sx;var vr,ja,NP,MP;class RP extends Mt{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});I(this,vr);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let o=!1;return t.url?(n.addLinkAttributes(s,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(s,t.action),o=!0):t.attachment?(N(this,vr,NP).call(this,s,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(N(this,vr,MP).call(this,s,t.setOCGState),o=!0):t.dest?(this._bindLink(s,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),o=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(s,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(s),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&N(this,vr,ja).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),N(this,vr,ja).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const l=s.get(o);l&&(t[l]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),N(this,vr,ja).call(this)}_bindResetFormAction(t,n){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),N(this,vr,ja).call(this),!this._fieldObjects){Ue('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var m;s==null||s();const{fields:o,refs:l,include:c}=n,u=[];if(o.length!==0||l.length!==0){const v=new Set(l);for(const w of o){const b=this._fieldObjects[w]||[];for(const{id:x}of b)v.add(x)}for(const w of Object.values(this._fieldObjects))for(const b of w)v.has(b.id)===c&&u.push(b)}else for(const v of Object.values(this._fieldObjects))u.push(...v);const h=this.annotationStorage,p=[];for(const v of u){const{id:w}=v;switch(p.push(w),v.type){case"text":{const x=v.defaultValue||"";h.setValue(w,{value:x});break}case"checkbox":case"radiobutton":{const x=v.defaultValue===v.exportValues;h.setValue(w,{value:x});break}case"combobox":case"listbox":{const x=v.defaultValue||"";h.setValue(w,{value:x});break}default:continue}const b=document.querySelector(`[data-element-id="${w}"]`);if(b){if(!Yl.has(b)){Ue(`_bindResetFormAction - element not allowed: ${w}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}})),!1}}}vr=new WeakSet,ja=function(){this.container.setAttribute("data-internal-link","")},NP=function(t,n,s=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,s),!1},N(this,vr,ja).call(this)},MP=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),N(this,vr,ja).call(this)};class W4 extends Mt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class tc extends Mt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return On.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,s,o){n.includes("mouse")?e.addEventListener(n,l=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{var c;if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(l)}}))})}_setEventListeners(e,t,n,s){var o,l,c;for(const[u,h]of n)(h==="Action"||(o=this.data.actions)!=null&&o[h])&&((h==="Focus"||h==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,u,h,s),h==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(e,t,"blur","Blur",null):h==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":_e.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||H4,o=e.style;let l;const c=2,u=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(h/(y0*s))||1,m=h/p;l=Math.min(s,u(m/y0))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(s,u(h/y0))}o.fontSize=`calc(${l}px * var(--scale-factor))`,o.color=_e.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class U4 extends tc{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,s){const o=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),o.setValue(l.id,{[s]:n})}render(){var s,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=e.getValue(t,{value:this.data.fieldValue});let c=l.value||"";const u=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;u&&c.length>u&&(c=c.slice(0,u));let h=l.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const p={userValue:c,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=h??c,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",h??c),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Yl.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Uf,this._setRequired(n,this.data.required),u&&(n.maxLength=u),n.addEventListener("input",v=>{e.setValue(t,{value:v.target.value}),this.setPropertyOnSiblings(n,"value",v.target.value,"value"),p.formattedValue=null}),n.addEventListener("resetform",v=>{const w=this.data.defaultFieldValue??"";n.value=p.userValue=w,p.formattedValue=null});let m=v=>{const{formattedValue:w}=p;w!=null&&(v.target.value=w),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",w=>{var x;if(p.focused)return;const{target:b}=w;p.userValue&&(b.value=p.userValue),p.lastCommittedValue=b.value,p.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(p.focused=!0)}),n.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const b={value(x){p.userValue=x.detail.value??"",e.setValue(t,{value:p.userValue.toString()}),x.target.value=p.userValue},formattedValue(x){const{formattedValue:C}=x.detail;p.formattedValue=C,C!=null&&x.target!==document.activeElement&&(x.target.value=C),e.setValue(t,{formattedValue:C})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var T;const{charLimit:C}=x.detail,{target:_}=x;if(C===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",C);let k=p.userValue;!k||k.length<=C||(k=k.slice(0,C),_.value=p.userValue=k,e.setValue(t,{value:k}),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(b,w)}),n.addEventListener("keydown",w=>{var C;p.commitKey=1;let b=-1;if(w.key==="Escape"?b=0:w.key==="Enter"&&!this.data.multiLine?b=2:w.key==="Tab"&&(p.commitKey=3),b===-1)return;const{value:x}=w.target;p.lastCommittedValue!==x&&(p.lastCommittedValue=x,p.userValue=x,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:b,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const v=m;m=null,n.addEventListener("blur",w=>{var x,C;if(!p.focused||!w.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(p.focused=!1);const{value:b}=w.target;p.userValue=b,p.lastCommittedValue!==b&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:p.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}})),v(w)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",w=>{var L;p.lastCommittedValue=null;const{data:b,target:x}=w,{value:C,selectionStart:_,selectionEnd:k}=x;let T=_,M=k;switch(w.inputType){case"deleteWordBackward":{const D=C.substring(0,_).match(/\w*[^\w]*$/);D&&(T-=D[0].length);break}case"deleteWordForward":{const D=C.substring(_).match(/^[^\w]*\w*/);D&&(M+=D[0].length);break}case"deleteContentBackward":_===k&&(T-=1);break;case"deleteContentForward":_===k&&(M+=1);break}w.preventDefault(),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,change:b||"",willCommit:!1,selStart:T,selEnd:M}})}),this._setEventListeners(n,p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(m&&n.addEventListener("blur",m),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/u;n.classList.add("comb"),n.style.letterSpacing=`calc(${w}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class V4 extends tc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class G4 extends tc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Yl.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=Uf,o.addEventListener("change",l=>{const{name:c,checked:u}=l.target;for(const h of this._getElementsByName(c,n)){const p=u&&h.exportValue===t.exportValue;h.domElement&&(h.domElement.checked=p),e.setValue(h.id,{value:p})}e.setValue(n,{value:u})}),o.addEventListener("resetform",l=>{const c=t.defaultFieldValue||"Off";l.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const c={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class IP extends tc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let s=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(n,{value:s})),s)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const o=document.createElement("input");if(Yl.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.tabIndex=Uf,o.addEventListener("change",l=>{const{name:c,checked:u}=l.target;for(const h of this._getElementsByName(c,n))e.setValue(h.id,{value:!1});e.setValue(n,{value:u})}),o.addEventListener("resetform",l=>{const c=t.defaultFieldValue;l.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;o.addEventListener("updatefromsandbox",c=>{const u={value:h=>{const p=l===h.detail.value;for(const m of this._getElementsByName(h.target.name)){const v=p&&m.id===n;m.domElement&&(m.domElement.checked=v),e.setValue(m.id,{value:v})}}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Y4 extends RP{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class X4 extends tc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");Yl.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Uf;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const v of s.options)v.selected=v.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,n.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),o=!1),s.append(m)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),s.prepend(p),l=()=>{p.remove(),s.removeEventListener("input",l),l=null},s.addEventListener("input",l)}const c=p=>{const m=p?"value":"textContent",{options:v,multiple:w}=s;return w?Array.prototype.filter.call(v,b=>b.selected).map(b=>b[m]):v.selectedIndex===-1?null:v[v.selectedIndex][m]};let u=c(!1);const h=p=>{const m=p.target.options;return Array.prototype.map.call(m,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",p=>{const m={value(v){l==null||l();const w=v.detail.value,b=new Set(Array.isArray(w)?w:[w]);for(const x of s.options)x.selected=b.has(x.value);e.setValue(t,{value:c(!0)}),u=c(!1)},multipleSelection(v){s.multiple=!0},remove(v){const w=s.options,b=v.detail.remove;w[b].selected=!1,s.remove(b),w.length>0&&Array.prototype.findIndex.call(w,C=>C.selected)===-1&&(w[0].selected=!0),e.setValue(t,{value:c(!0),items:h(v)}),u=c(!1)},clear(v){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),u=c(!1)},insert(v){const{index:w,displayValue:b,exportValue:x}=v.detail.insert,C=s.children[w],_=document.createElement("option");_.textContent=b,_.value=x,C?C.before(_):s.append(_),e.setValue(t,{value:c(!0),items:h(v)}),u=c(!1)},items(v){const{items:w}=v.detail;for(;s.length!==0;)s.remove(0);for(const b of w){const{displayValue:x,exportValue:C}=b,_=document.createElement("option");_.textContent=x,_.value=C,s.append(_)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:c(!0),items:h(v)}),u=c(!1)},indices(v){const w=new Set(v.detail.indices);for(const b of v.target.options)b.selected=w.has(b.index);e.setValue(t,{value:c(!0)}),u=c(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(m,p)}),s.addEventListener("input",p=>{var w;const m=c(!0),v=c(!1);e.setValue(t,{value:m}),p.preventDefault(),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:v,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):s.addEventListener("input",function(p){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Dw extends Mt{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Mt._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new q4({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${ix}${n}`).join(",")),this.container}}var wu,Ng,Mg,bu,xl,Et,Ei,xu,rf,sf,Su,Ci,is,_i,of,ki,af,Sl,Al,ot,jm,Ow,LP,DP,OP,FP,$m,zm,Fw;class q4{constructor({container:e,color:t,elements:n,titleObj:s,modificationDate:o,contentsObj:l,richText:c,parent:u,rect:h,parentRect:p,open:m}){I(this,ot);I(this,wu,N(this,ot,OP).bind(this));I(this,Ng,N(this,ot,Fw).bind(this));I(this,Mg,N(this,ot,zm).bind(this));I(this,bu,N(this,ot,$m).bind(this));I(this,xl,null);I(this,Et,null);I(this,Ei,null);I(this,xu,null);I(this,rf,null);I(this,sf,null);I(this,Su,null);I(this,Ci,!1);I(this,is,null);I(this,_i,null);I(this,of,null);I(this,ki,null);I(this,af,null);I(this,Sl,null);I(this,Al,!1);var v;P(this,Et,e),P(this,af,s),P(this,Ei,l),P(this,ki,c),P(this,sf,u),P(this,xl,t),P(this,of,h),P(this,Su,p),P(this,rf,n),P(this,xu,lx.toDateObject(o)),this.trigger=n.flatMap(w=>w.getElementsToTriggerPopup());for(const w of this.trigger)w.addEventListener("click",f(this,bu)),w.addEventListener("mouseenter",f(this,Mg)),w.addEventListener("mouseleave",f(this,Ng)),w.classList.add("popupTriggerArea");for(const w of n)(v=w.container)==null||v.addEventListener("keydown",f(this,wu));f(this,Et).hidden=!0,m&&N(this,ot,$m).call(this)}render(){if(f(this,is))return;const e=P(this,is,document.createElement("div"));if(e.className="popup",f(this,xl)){const o=e.style.outlineColor=_e.makeHexColor(...f(this,xl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=_e.makeHexColor(...f(this,xl).map(c=>Math.floor(.7*(255-c)+c)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=f(this,af),e.append(t),f(this,xu)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,xu).valueOf()})),t.append(o)}const s=f(this,ot,jm);if(s)PP.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(f(this,Ei));e.append(o)}f(this,Et).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let o=0,l=s.length;o<l;++o){const c=s[o];n.append(document.createTextNode(c)),o<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;f(this,Sl)||P(this,Sl,{contentsObj:f(this,Ei),richText:f(this,ki)}),e&&P(this,_i,null),t&&(P(this,ki,N(this,ot,DP).call(this,t)),P(this,Ei,null)),(n=f(this,is))==null||n.remove(),P(this,is,null)}resetEdited(){var e;f(this,Sl)&&({contentsObj:Nn(this,Ei)._,richText:Nn(this,ki)._}=f(this,Sl),P(this,Sl,null),(e=f(this,is))==null||e.remove(),P(this,is,null),P(this,_i,null))}forceHide(){P(this,Al,this.isVisible),f(this,Al)&&(f(this,Et).hidden=!0)}maybeShow(){f(this,Al)&&(f(this,is)||N(this,ot,zm).call(this),P(this,Al,!1),f(this,Et).hidden=!1)}get isVisible(){return f(this,Et).hidden===!1}}wu=new WeakMap,Ng=new WeakMap,Mg=new WeakMap,bu=new WeakMap,xl=new WeakMap,Et=new WeakMap,Ei=new WeakMap,xu=new WeakMap,rf=new WeakMap,sf=new WeakMap,Su=new WeakMap,Ci=new WeakMap,is=new WeakMap,_i=new WeakMap,of=new WeakMap,ki=new WeakMap,af=new WeakMap,Sl=new WeakMap,Al=new WeakMap,ot=new WeakSet,jm=function(){const e=f(this,ki),t=f(this,Ei);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,ki).html||null},Ow=function(){var e,t,n;return((n=(t=(e=f(this,ot,jm))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},LP=function(){var e,t,n;return((n=(t=(e=f(this,ot,jm))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},DP=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:f(this,ot,LP),fontSize:f(this,ot,Ow)?`calc(${f(this,ot,Ow)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:s});return n},OP=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,Ci))&&N(this,ot,$m).call(this)},FP=function(){if(f(this,_i)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:s,pageY:o}}}=f(this,sf);let l=!!f(this,Su),c=l?f(this,Su):f(this,of);for(const b of f(this,rf))if(!c||_e.intersect(b.data.rect,c)!==null){c=b.data.rect,l=!0;break}const u=_e.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),p=l?c[2]-c[0]+5:0,m=u[0]+p,v=u[1];P(this,_i,[100*(m-s)/t,100*(v-o)/n]);const{style:w}=f(this,Et);w.left=`${f(this,_i)[0]}%`,w.top=`${f(this,_i)[1]}%`},$m=function(){P(this,Ci,!f(this,Ci)),f(this,Ci)?(N(this,ot,zm).call(this),f(this,Et).addEventListener("click",f(this,bu)),f(this,Et).addEventListener("keydown",f(this,wu))):(N(this,ot,Fw).call(this),f(this,Et).removeEventListener("click",f(this,bu)),f(this,Et).removeEventListener("keydown",f(this,wu)))},zm=function(){f(this,is)||this.render(),this.isVisible?f(this,Ci)&&f(this,Et).classList.add("focused"):(N(this,ot,FP).call(this),f(this,Et).hidden=!1,f(this,Et).style.zIndex=parseInt(f(this,Et).style.zIndex)+1e3)},Fw=function(){f(this,Et).classList.remove("focused"),!(f(this,Ci)||!this.isVisible)&&(f(this,Et).hidden=!0,f(this,Et).style.zIndex=parseInt(f(this,Et).style.zIndex)-1e3)};class jP extends Mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=He.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var lf;class K4 extends Mt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,lf,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:s}=Bi(t.rect),o=this.svgFactory.create(n,s,!0),l=P(this,lf,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,lf)}addHighlightArea(){this.container.classList.add("highlightArea")}}lf=new WeakMap;var cf;class Q4 extends Mt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,cf,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:s}=Bi(t.rect),o=this.svgFactory.create(n,s,!0),l=t.borderStyle.width,c=P(this,cf,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",n-l),c.setAttribute("height",s-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,cf)}addHighlightArea(){this.container.classList.add("highlightArea")}}cf=new WeakMap;var uf;class J4 extends Mt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,uf,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:s}=Bi(t.rect),o=this.svgFactory.create(n,s,!0),l=t.borderStyle.width,c=P(this,uf,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",n/2),c.setAttribute("cy",s/2),c.setAttribute("rx",n/2-l/2),c.setAttribute("ry",s/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,uf)}addHighlightArea(){this.container.classList.add("highlightArea")}}uf=new WeakMap;var df;class $P extends Mt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,df,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:s,popupRef:o}}=this;if(!n)return this.container;const{width:l,height:c}=Bi(t),u=this.svgFactory.create(l,c,!0);let h=[];for(let m=0,v=n.length;m<v;m+=2){const w=n[m]-t[0],b=t[3]-n[m+1];h.push(`${w},${b}`)}h=h.join(" ");const p=P(this,df,this.svgFactory.createElement(this.svgElementName));return p.setAttribute("points",h),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),u.append(p),this.container.append(u),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,df)}addHighlightArea(){this.container.classList.add("highlightArea")}}df=new WeakMap;class Z4 extends $P{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class e5 extends Mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var hf;class gx extends Mt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,hf,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?He.HIGHLIGHT:He.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:s,popupRef:o}}=this,{width:l,height:c}=Bi(t),u=this.svgFactory.create(l,c,!0);for(const h of n){let p=[];for(let v=0,w=h.length;v<w;v+=2){const b=h[v]-t[0],x=t[3]-h[v+1];p.push(`${b},${x}`)}p=p.join(" ");const m=this.svgFactory.createElement(this.svgElementName);f(this,hf).push(m),m.setAttribute("points",p),m.setAttribute("stroke-width",s.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),u.append(m)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return f(this,hf)}addHighlightArea(){this.container.classList.add("highlightArea")}}hf=new WeakMap;class zP extends Mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=He.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class t5 extends Mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class n5 extends Mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class r5 extends Mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class HP extends Mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=He.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ff,pf,jw;class s5 extends Mt{constructor(t){var s;super(t,{isRenderable:!0});I(this,pf);I(this,ff,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let s;n.hasAppearance||n.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),s.addEventListener("dblclick",N(this,pf,jw).bind(this)),P(this,ff,s);const{isMac:o}=On.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(o?l.metaKey:l.ctrlKey)&&N(this,pf,jw).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return f(this,ff)}addHighlightArea(){this.container.classList.add("highlightArea")}}ff=new WeakMap,pf=new WeakSet,jw=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var mf,El,Cl,gf,Xl,BP,$w;class i5{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:s,page:o,viewport:l,structTreeLayer:c}){I(this,Xl);I(this,mf,null);I(this,El,null);I(this,Cl,new Map);I(this,gf,null);this.div=e,P(this,mf,t),P(this,El,n),P(this,gf,c||null),this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return f(this,Cl).size>0}async render(e){var l;const{annotations:t}=e,n=this.div;Vl(n,this.viewport);const s=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new mx,annotationStorage:e.annotationStorage||new ux,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const u=c.annotationType===Ut.POPUP;if(u){const m=s.get(c.id);if(!m)continue;o.elements=m}else{const{width:m,height:v}=Bi(c.rect);if(m<=0||v<=0)continue}o.data=c;const h=B4.create(o);if(!h.isRenderable)continue;if(!u&&c.popupRef){const m=s.get(c.popupRef);m?m.push(h):s.set(c.popupRef,[h])}const p=h.render();c.hidden&&(p.style.visibility="hidden"),await N(this,Xl,BP).call(this,p,c.id),h._isEditable&&(f(this,Cl).set(h.data.id,h),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(h))}N(this,Xl,$w).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Vl(t,{rotation:e.rotation}),N(this,Xl,$w).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,Cl).values())}getEditableAnnotation(e){return f(this,Cl).get(e)}}mf=new WeakMap,El=new WeakMap,Cl=new WeakMap,gf=new WeakMap,Xl=new WeakSet,BP=async function(e,t){var l,c;const n=e.firstChild||e,s=n.id=`${ix}${t}`,o=await((l=f(this,gf))==null?void 0:l.getAriaAttributes(s));if(o)for(const[u,h]of o)n.setAttribute(u,h);this.div.append(e),(c=f(this,mf))==null||c.moveElementInDOM(this.div,e,n,!1)},$w=function(){if(!f(this,El))return;const e=this.div;for(const[t,n]of f(this,El)){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):s.append(n)}f(this,El).clear()};const ym=/\r\n?|\n/g;var os,cr,vf,_l,ur,jt,WP,UP,VP,Hm,Ui,Bm,Wm,GP,Hw,YP;const ct=class ct extends st{constructor(t){super({...t,name:"freeTextEditor"});I(this,jt);I(this,os);I(this,cr,"");I(this,vf,`${this.id}-editor`);I(this,_l,null);I(this,ur);P(this,os,t.color||ct._defaultColor||st._defaultLineColor),P(this,ur,t.fontSize||ct._defaultFontSize)}static get _keyboardManager(){const t=ct.prototype,n=l=>l.isEmpty(),s=Gl.TRANSLATE_SMALL,o=Gl.TRANSLATE_BIG;return qe(this,"_keyboardManager",new Wf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(t,n){st.initialize(t,n);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case De.FREETEXT_SIZE:ct._defaultFontSize=n;break;case De.FREETEXT_COLOR:ct._defaultColor=n;break}}updateParams(t,n){switch(t){case De.FREETEXT_SIZE:N(this,jt,WP).call(this,n);break;case De.FREETEXT_COLOR:N(this,jt,UP).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[De.FREETEXT_SIZE,ct._defaultFontSize],[De.FREETEXT_COLOR,ct._defaultColor||st._defaultLineColor]]}get propertiesToUpdate(){return[[De.FREETEXT_SIZE,f(this,ur)],[De.FREETEXT_COLOR,f(this,os)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-ct._internalPadding*t,-(ct._internalPadding+f(this,ur))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(He.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),P(this,_l,new AbortController);const t=this._uiManager.combinedSignal(f(this,_l));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,vf)),this._isDraggable=!0,(t=f(this,_l))==null||t.abort(),P(this,_l,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,cr),n=P(this,cr,N(this,jt,VP).call(this).trimEnd());if(t===n)return;const s=o=>{if(P(this,cr,o),!o){this.remove();return}N(this,jt,Wm).call(this),this._uiManager.rebuild(this),N(this,jt,Hm).call(this)};this.addCommands({cmd:()=>{s(n)},undo:()=>{s(t)},mustExec:!1}),N(this,jt,Hm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ct._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,vf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${f(this,ur)}px * var(--scale-factor))`,s.color=f(this,os),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),dg(this,this.div,["dblclick","keydown"]),this.width){const[o,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[u,h]=this.getInitialTranslation();[u,h]=this.pageTranslationToScreen(u,h);const[p,m]=this.pageDimensions,[v,w]=this.pageTranslation;let b,x;switch(this.rotation){case 0:b=t+(c[0]-v)/p,x=n+this.height-(c[1]-w)/m;break;case 90:b=t+(c[0]-v)/p,x=n-(c[1]-w)/m,[u,h]=[h,-u];break;case 180:b=t-this.width+(c[0]-v)/p,x=n-(c[1]-w)/m,[u,h]=[-u,-h];break;case 270:b=t+(c[0]-v-this.height*m)/p,x=n+(c[1]-w-this.width*p)/m,[u,h]=[-h,u];break}this.setAt(b*o,x*l,u,h)}else this.setAt(t*o,n*l,this.width*o,this.height*l);N(this,jt,Wm).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,x,C;const n=t.clipboardData||window.clipboardData,{types:s}=n;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const o=N(b=ct,Ui,Hw).call(b,n.getData("text")||"").replaceAll(ym,`
`);if(!o)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!o.includes(`
`)){c.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:u,startOffset:h}=c,p=[],m=[];if(u.nodeType===Node.TEXT_NODE){const _=u.parentElement;if(m.push(u.nodeValue.slice(h).replaceAll(ym,"")),_!==this.editorDiv){let k=p;for(const T of this.editorDiv.childNodes){if(T===_){k=m;continue}k.push(N(x=ct,Ui,Bm).call(x,T))}}p.push(u.nodeValue.slice(0,h).replaceAll(ym,""))}else if(u===this.editorDiv){let _=p,k=0;for(const T of this.editorDiv.childNodes)k++===h&&(_=m),_.push(N(C=ct,Ui,Bm).call(C,T))}P(this,cr,`${p.join(`
`)}${o}${m.join(`
`)}`),N(this,jt,Wm).call(this);const v=new Range;let w=p.reduce((_,k)=>_+k.length,0);for(const{firstChild:_}of this.editorDiv.childNodes)if(_.nodeType===Node.TEXT_NODE){const k=_.nodeValue.length;if(w<=k){v.setStart(_,w),v.setEnd(_,w);break}w-=k}l.removeAllRanges(),l.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,s){var c;let o=null;if(t instanceof jP){const{data:{defaultAppearanceData:{fontSize:u,fontColor:h},rect:p,rotation:m,id:v,popupRef:w},textContent:b,textPosition:x,parent:{page:{pageNumber:C}}}=t;if(!b||b.length===0)return null;o=t={annotationType:He.FREETEXT,color:Array.from(h),fontSize:u,value:b.join(`
`),position:x,pageIndex:C-1,rect:p.slice(0),rotation:m,id:v,deleted:!1,popupRef:w}}const l=await super.deserialize(t,n,s);return P(l,ur,t.fontSize),P(l,os,_e.makeHexColor(...t.color)),P(l,cr,N(c=ct,Ui,Hw).call(c,t.value)),l.annotationElementId=t.id||null,l._initialData=o,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=ct._internalPadding*this.parentScale,s=this.getRect(n,n),o=st._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:f(this,os)),l={annotationType:He.FREETEXT,color:o,fontSize:f(this,ur),value:N(this,jt,GP).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?l:this.annotationElementId&&!N(this,jt,YP).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:s}=n;s.fontSize=`calc(${f(this,ur)}px * var(--scale-factor))`,s.color=f(this,os),n.replaceChildren();for(const l of f(this,cr).split(`
`)){const c=document.createElement("div");c.append(l?document.createTextNode(l):document.createElement("br")),n.append(c)}const o=ct._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:f(this,cr)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};os=new WeakMap,cr=new WeakMap,vf=new WeakMap,_l=new WeakMap,ur=new WeakMap,jt=new WeakSet,WP=function(t){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-f(this,ur))*this.parentScale),P(this,ur,o),N(this,jt,Hm).call(this)},s=f(this,ur);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},UP=function(t){const n=o=>{P(this,os,this.editorDiv.style.color=o)},s=f(this,os);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},VP=function(){var s;const t=[];this.editorDiv.normalize();let n=null;for(const o of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(N(s=ct,Ui,Bm).call(s,o)),n=o);return t.join(`
`)},Hm=function(){const[t,n]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:o,div:l}=this,c=l.style.display,u=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",o.div.append(this.div),s=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/n):(this.width=s.height/t,this.height=s.width/n),this.fixAndSetPosition()},Ui=new WeakSet,Bm=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(ym,"")},Wm=function(){if(this.editorDiv.replaceChildren(),!!f(this,cr))for(const t of f(this,cr).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},GP=function(){return f(this,cr).replaceAll(" "," ")},Hw=function(t){return t.replaceAll(" "," ")},YP=function(t){const{value:n,fontSize:s,color:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==s||t.color.some((c,u)=>c!==o[u])||t.pageIndex!==l},I(ct,Ui),Le(ct,"_freeTextDefaultContent",""),Le(ct,"_internalPadding",0),Le(ct,"_defaultColor",null),Le(ct,"_defaultFontSize",10),Le(ct,"_type","freetext"),Le(ct,"_editorType",He.FREETEXT);let zw=ct;class XP{toSVGPath(){ht("Abstract method `toSVGPath` must be implemented.")}get box(){ht("Abstract getter `box` must be implemented.")}serialize(e,t){ht("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ht("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ht("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var dr,as,Au,Eu,$s,Ye,kl,Tl,yf,wf,Cu,_u,Ko,bf,Ig,Lg,Kt,nh,qP,KP,QP,JP,ZP,eR;const fi=class fi{constructor({x:e,y:t},n,s,o,l,c=0){I(this,Kt);I(this,dr);I(this,as,[]);I(this,Au);I(this,Eu);I(this,$s,[]);I(this,Ye,new Float64Array(18));I(this,kl);I(this,Tl);I(this,yf);I(this,wf);I(this,Cu);I(this,_u);I(this,Ko,[]);P(this,dr,n),P(this,_u,o*s),P(this,Eu,l),f(this,Ye).set([NaN,NaN,NaN,NaN,e,t],6),P(this,Au,c),P(this,wf,f(fi,bf)*s),P(this,yf,f(fi,Lg)*s),P(this,Cu,s),f(this,Ko).push(e,t)}isEmpty(){return isNaN(f(this,Ye)[8])}add({x:e,y:t}){var W;P(this,kl,e),P(this,Tl,t);const[n,s,o,l]=f(this,dr);let[c,u,h,p]=f(this,Ye).subarray(8,12);const m=e-h,v=t-p,w=Math.hypot(m,v);if(w<f(this,yf))return!1;const b=w-f(this,wf),x=b/w,C=x*m,_=x*v;let k=c,T=u;c=h,u=p,h+=C,p+=_,(W=f(this,Ko))==null||W.push(e,t);const M=-_/b,L=C/b,D=M*f(this,_u),F=L*f(this,_u);return f(this,Ye).set(f(this,Ye).subarray(2,8),0),f(this,Ye).set([h+D,p+F],4),f(this,Ye).set(f(this,Ye).subarray(14,18),12),f(this,Ye).set([h-D,p-F],16),isNaN(f(this,Ye)[6])?(f(this,$s).length===0&&(f(this,Ye).set([c+D,u+F],2),f(this,$s).push(NaN,NaN,NaN,NaN,(c+D-n)/o,(u+F-s)/l),f(this,Ye).set([c-D,u-F],14),f(this,as).push(NaN,NaN,NaN,NaN,(c-D-n)/o,(u-F-s)/l)),f(this,Ye).set([k,T,c,u,h,p],6),!this.isEmpty()):(f(this,Ye).set([k,T,c,u,h,p],6),Math.abs(Math.atan2(T-u,k-c)-Math.atan2(_,C))<Math.PI/2?([c,u,h,p]=f(this,Ye).subarray(2,6),f(this,$s).push(NaN,NaN,NaN,NaN,((c+h)/2-n)/o,((u+p)/2-s)/l),[c,u,k,T]=f(this,Ye).subarray(14,18),f(this,as).push(NaN,NaN,NaN,NaN,((k+c)/2-n)/o,((T+u)/2-s)/l),!0):([k,T,c,u,h,p]=f(this,Ye).subarray(0,6),f(this,$s).push(((k+5*c)/6-n)/o,((T+5*u)/6-s)/l,((5*c+h)/6-n)/o,((5*u+p)/6-s)/l,((c+h)/2-n)/o,((u+p)/2-s)/l),[h,p,c,u,k,T]=f(this,Ye).subarray(12,18),f(this,as).push(((k+5*c)/6-n)/o,((T+5*u)/6-s)/l,((5*c+h)/6-n)/o,((5*u+p)/6-s)/l,((c+h)/2-n)/o,((u+p)/2-s)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,$s),t=f(this,as);if(isNaN(f(this,Ye)[6])&&!this.isEmpty())return N(this,Kt,qP).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);N(this,Kt,QP).call(this,n);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return N(this,Kt,KP).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,s,o,l){return new tR(e,t,n,s,o,l)}getOutlines(){var m;const e=f(this,$s),t=f(this,as),n=f(this,Ye),[s,o,l,c]=f(this,dr),u=new Float64Array((((m=f(this,Ko))==null?void 0:m.length)??0)+2);for(let v=0,w=u.length-2;v<w;v+=2)u[v]=(f(this,Ko)[v]-s)/l,u[v+1]=(f(this,Ko)[v+1]-o)/c;if(u[u.length-2]=(f(this,kl)-s)/l,u[u.length-1]=(f(this,Tl)-o)/c,isNaN(n[6])&&!this.isEmpty())return N(this,Kt,JP).call(this,u);const h=new Float64Array(f(this,$s).length+24+f(this,as).length);let p=e.length;for(let v=0;v<p;v+=2){if(isNaN(e[v])){h[v]=h[v+1]=NaN;continue}h[v]=e[v],h[v+1]=e[v+1]}p=N(this,Kt,eR).call(this,h,p);for(let v=t.length-6;v>=6;v-=6)for(let w=0;w<6;w+=2){if(isNaN(t[v+w])){h[p]=h[p+1]=NaN,p+=2;continue}h[p]=t[v+w],h[p+1]=t[v+w+1],p+=2}return N(this,Kt,ZP).call(this,h,p),this.newFreeDrawOutline(h,u,f(this,dr),f(this,Cu),f(this,Au),f(this,Eu))}};dr=new WeakMap,as=new WeakMap,Au=new WeakMap,Eu=new WeakMap,$s=new WeakMap,Ye=new WeakMap,kl=new WeakMap,Tl=new WeakMap,yf=new WeakMap,wf=new WeakMap,Cu=new WeakMap,_u=new WeakMap,Ko=new WeakMap,bf=new WeakMap,Ig=new WeakMap,Lg=new WeakMap,Kt=new WeakSet,nh=function(){const e=f(this,Ye).subarray(4,6),t=f(this,Ye).subarray(16,18),[n,s,o,l]=f(this,dr);return[(f(this,kl)+(e[0]-t[0])/2-n)/o,(f(this,Tl)+(e[1]-t[1])/2-s)/l,(f(this,kl)+(t[0]-e[0])/2-n)/o,(f(this,Tl)+(t[1]-e[1])/2-s)/l]},qP=function(){const[e,t,n,s]=f(this,dr),[o,l,c,u]=N(this,Kt,nh).call(this);return`M${(f(this,Ye)[2]-e)/n} ${(f(this,Ye)[3]-t)/s} L${(f(this,Ye)[4]-e)/n} ${(f(this,Ye)[5]-t)/s} L${o} ${l} L${c} ${u} L${(f(this,Ye)[16]-e)/n} ${(f(this,Ye)[17]-t)/s} L${(f(this,Ye)[14]-e)/n} ${(f(this,Ye)[15]-t)/s} Z`},KP=function(e){const t=f(this,as);e.push(`L${t[4]} ${t[5]} Z`)},QP=function(e){const[t,n,s,o]=f(this,dr),l=f(this,Ye).subarray(4,6),c=f(this,Ye).subarray(16,18),[u,h,p,m]=N(this,Kt,nh).call(this);e.push(`L${(l[0]-t)/s} ${(l[1]-n)/o} L${u} ${h} L${p} ${m} L${(c[0]-t)/s} ${(c[1]-n)/o}`)},JP=function(e){const t=f(this,Ye),[n,s,o,l]=f(this,dr),[c,u,h,p]=N(this,Kt,nh).call(this),m=new Float64Array(36);return m.set([NaN,NaN,NaN,NaN,(t[2]-n)/o,(t[3]-s)/l,NaN,NaN,NaN,NaN,(t[4]-n)/o,(t[5]-s)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(t[16]-n)/o,(t[17]-s)/l,NaN,NaN,NaN,NaN,(t[14]-n)/o,(t[15]-s)/l],0),this.newFreeDrawOutline(m,e,f(this,dr),f(this,Cu),f(this,Au),f(this,Eu))},ZP=function(e,t){const n=f(this,as);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},eR=function(e,t){const n=f(this,Ye).subarray(4,6),s=f(this,Ye).subarray(16,18),[o,l,c,u]=f(this,dr),[h,p,m,v]=N(this,Kt,nh).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/c,(n[1]-l)/u,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,m,v,NaN,NaN,NaN,NaN,(s[0]-o)/c,(s[1]-l)/u],t),t+=24},I(fi,bf,8),I(fi,Ig,2),I(fi,Lg,f(fi,bf)+f(fi,Ig));let fg=fi;var ku,Pl,Ti,xf,hr,Sf,Nt,Zn,rh,sh,nR;class tR extends XP{constructor(t,n,s,o,l,c){super();I(this,Zn);I(this,ku);I(this,Pl,null);I(this,Ti);I(this,xf);I(this,hr);I(this,Sf);I(this,Nt);P(this,Nt,t),P(this,hr,n),P(this,ku,s),P(this,Sf,o),P(this,Ti,l),P(this,xf,c),N(this,Zn,nR).call(this,c);const{x:u,y:h,width:p,height:m}=f(this,Pl);for(let v=0,w=t.length;v<w;v+=2)t[v]=(t[v]-u)/p,t[v+1]=(t[v+1]-h)/m;for(let v=0,w=n.length;v<w;v+=2)n[v]=(n[v]-u)/p,n[v+1]=(n[v+1]-h)/m}toSVGPath(){const t=[`M${f(this,Nt)[4]} ${f(this,Nt)[5]}`];for(let n=6,s=f(this,Nt).length;n<s;n+=6){if(isNaN(f(this,Nt)[n])){t.push(`L${f(this,Nt)[n+4]} ${f(this,Nt)[n+5]}`);continue}t.push(`C${f(this,Nt)[n]} ${f(this,Nt)[n+1]} ${f(this,Nt)[n+2]} ${f(this,Nt)[n+3]} ${f(this,Nt)[n+4]} ${f(this,Nt)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,s,o],l){const c=s-t,u=o-n;let h,p;switch(l){case 0:h=N(this,Zn,rh).call(this,f(this,Nt),t,o,c,-u),p=N(this,Zn,rh).call(this,f(this,hr),t,o,c,-u);break;case 90:h=N(this,Zn,sh).call(this,f(this,Nt),t,n,c,u),p=N(this,Zn,sh).call(this,f(this,hr),t,n,c,u);break;case 180:h=N(this,Zn,rh).call(this,f(this,Nt),s,n,-c,u),p=N(this,Zn,rh).call(this,f(this,hr),s,n,-c,u);break;case 270:h=N(this,Zn,sh).call(this,f(this,Nt),s,o,-c,-u),p=N(this,Zn,sh).call(this,f(this,hr),s,o,-c,-u);break}return{outline:Array.from(h),points:[Array.from(p)]}}get box(){return f(this,Pl)}newOutliner(t,n,s,o,l,c=0){return new fg(t,n,s,o,l,c)}getNewOutline(t,n){const{x:s,y:o,width:l,height:c}=f(this,Pl),[u,h,p,m]=f(this,ku),v=l*p,w=c*m,b=s*p+u,x=o*m+h,C=this.newOutliner({x:f(this,hr)[0]*v+b,y:f(this,hr)[1]*w+x},f(this,ku),f(this,Sf),t,f(this,xf),n??f(this,Ti));for(let _=2;_<f(this,hr).length;_+=2)C.add({x:f(this,hr)[_]*v+b,y:f(this,hr)[_+1]*w+x});return C.getOutlines()}get mustRemoveSelfIntersections(){return!0}}ku=new WeakMap,Pl=new WeakMap,Ti=new WeakMap,xf=new WeakMap,hr=new WeakMap,Sf=new WeakMap,Nt=new WeakMap,Zn=new WeakSet,rh=function(t,n,s,o,l){const c=new Float64Array(t.length);for(let u=0,h=t.length;u<h;u+=2)c[u]=n+t[u]*o,c[u+1]=s+t[u+1]*l;return c},sh=function(t,n,s,o,l){const c=new Float64Array(t.length);for(let u=0,h=t.length;u<h;u+=2)c[u]=n+t[u+1]*o,c[u+1]=s+t[u]*l;return c},nR=function(t){const n=f(this,Nt);let s=n[4],o=n[5],l=s,c=o,u=s,h=o,p=s,m=o;const v=t?Math.max:Math.min;for(let _=6,k=n.length;_<k;_+=6){if(isNaN(n[_]))l=Math.min(l,n[_+4]),c=Math.min(c,n[_+5]),u=Math.max(u,n[_+4]),h=Math.max(h,n[_+5]),m<n[_+5]?(p=n[_+4],m=n[_+5]):m===n[_+5]&&(p=v(p,n[_+4]));else{const T=_e.bezierBoundingBox(s,o,...n.slice(_,_+6));l=Math.min(l,T[0]),c=Math.min(c,T[1]),u=Math.max(u,T[2]),h=Math.max(h,T[3]),m<T[3]?(p=T[2],m=T[3]):m===T[3]&&(p=v(p,T[2]))}s=n[_+4],o=n[_+5]}const w=l-f(this,Ti),b=c-f(this,Ti),x=u-l+2*f(this,Ti),C=h-c+2*f(this,Ti);P(this,Pl,{x:w,y:b,width:x,height:C,lastPoint:[p,m]})};var Af,Qo,ls,jn,rR,Um,sR,iR,Bw;class F1{constructor(e,t=0,n=0,s=!0){I(this,jn);I(this,Af);I(this,Qo,[]);I(this,ls,[]);let o=1/0,l=-1/0,c=1/0,u=-1/0;const h=10**-4;for(const{x:C,y:_,width:k,height:T}of e){const M=Math.floor((C-t)/h)*h,L=Math.ceil((C+k+t)/h)*h,D=Math.floor((_-t)/h)*h,F=Math.ceil((_+T+t)/h)*h,j=[M,D,F,!0],W=[L,D,F,!1];f(this,Qo).push(j,W),o=Math.min(o,M),l=Math.max(l,L),c=Math.min(c,D),u=Math.max(u,F)}const p=l-o+2*n,m=u-c+2*n,v=o-n,w=c-n,b=f(this,Qo).at(s?-1:-2),x=[b[0],b[2]];for(const C of f(this,Qo)){const[_,k,T]=C;C[0]=(_-v)/p,C[1]=(k-w)/m,C[2]=(T-w)/m}P(this,Af,{x:v,y:w,width:p,height:m,lastPoint:x})}getOutlines(){f(this,Qo).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of f(this,Qo))t[3]?(e.push(...N(this,jn,Bw).call(this,t)),N(this,jn,sR).call(this,t)):(N(this,jn,iR).call(this,t),e.push(...N(this,jn,Bw).call(this,t)));return N(this,jn,rR).call(this,e)}}Af=new WeakMap,Qo=new WeakMap,ls=new WeakMap,jn=new WeakSet,rR=function(e){const t=[],n=new Set;for(const l of e){const[c,u,h]=l;t.push([c,u,l],[c,h,l])}t.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=t.length;l<c;l+=2){const u=t[l][2],h=t[l+1][2];u.push(h),h.push(u),n.add(u),n.add(h)}const s=[];let o;for(;n.size>0;){const l=n.values().next().value;let[c,u,h,p,m]=l;n.delete(l);let v=c,w=u;for(o=[c,h],s.push(o);;){let b;if(n.has(p))b=p;else if(n.has(m))b=m;else break;n.delete(b),[c,u,h,p,m]=b,v!==c&&(o.push(v,w,c,w===u?u:h),v=c),w=w===u?h:u}o.push(v,w)}return new o5(s,f(this,Af))},Um=function(e){const t=f(this,ls);let n=0,s=t.length-1;for(;n<=s;){const o=n+s>>1,l=t[o][0];if(l===e)return o;l<e?n=o+1:s=o-1}return s+1},sR=function([,e,t]){const n=N(this,jn,Um).call(this,e);f(this,ls).splice(n,0,[e,t])},iR=function([,e,t]){const n=N(this,jn,Um).call(this,e);for(let s=n;s<f(this,ls).length;s++){const[o,l]=f(this,ls)[s];if(o!==e)break;if(o===e&&l===t){f(this,ls).splice(s,1);return}}for(let s=n-1;s>=0;s--){const[o,l]=f(this,ls)[s];if(o!==e)break;if(o===e&&l===t){f(this,ls).splice(s,1);return}}},Bw=function(e){const[t,n,s]=e,o=[[t,n,s]],l=N(this,jn,Um).call(this,s);for(let c=0;c<l;c++){const[u,h]=f(this,ls)[c];for(let p=0,m=o.length;p<m;p++){const[,v,w]=o[p];if(!(h<=v||w<=u)){if(v>=u){if(w>h)o[p][1]=h;else{if(m===1)return[];o.splice(p,1),p--,m--}continue}o[p][2]=u,w>h&&o.push([t,h,w])}}}return o};var Ef,Tu;class o5 extends XP{constructor(t,n){super();I(this,Ef);I(this,Tu);P(this,Tu,t),P(this,Ef,n)}toSVGPath(){const t=[];for(const n of f(this,Tu)){let[s,o]=n;t.push(`M${s} ${o}`);for(let l=2;l<n.length;l+=2){const c=n[l],u=n[l+1];c===s?(t.push(`V${u}`),o=u):u===o&&(t.push(`H${c}`),s=c)}t.push("Z")}return t.join(" ")}serialize([t,n,s,o],l){const c=[],u=s-t,h=o-n;for(const p of f(this,Tu)){const m=new Array(p.length);for(let v=0;v<p.length;v+=2)m[v]=t+p[v]*u,m[v+1]=o-p[v+1]*h;c.push(m)}return c}get box(){return f(this,Ef)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Ef=new WeakMap,Tu=new WeakMap;class Ww extends fg{newFreeDrawOutline(e,t,n,s,o,l){return new a5(e,t,n,s,o,l)}get classNamesForDrawing(){return["highlight","free"]}}class a5 extends tR{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,s,o,l=0){return new Ww(e,t,n,s,o,l)}}var cs,Rl,Pu,Yt,Cf,Ru,_f,kf,Jo,us,Nu,Tf,it,Uw,Vw,Gw,$a,oR,Po;const Yn=class Yn{constructor({editor:e=null,uiManager:t=null}){I(this,it);I(this,cs,null);I(this,Rl,null);I(this,Pu);I(this,Yt,null);I(this,Cf,!1);I(this,Ru,!1);I(this,_f,null);I(this,kf);I(this,Jo,null);I(this,us,null);I(this,Nu);var n;e?(P(this,Ru,!1),P(this,Nu,De.HIGHLIGHT_COLOR),P(this,_f,e)):(P(this,Ru,!0),P(this,Nu,De.HIGHLIGHT_DEFAULT_COLOR)),P(this,us,(e==null?void 0:e._uiManager)||t),P(this,kf,f(this,us)._eventBus),P(this,Pu,(e==null?void 0:e.color)||((n=f(this,us))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),f(Yn,Tf)||P(Yn,Tf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return qe(this,"_keyboardManager",new Wf([[["Escape","mac+Escape"],Yn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Yn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Yn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Yn.prototype._moveToPrevious],[["Home","mac+Home"],Yn.prototype._moveToBeginning],[["End","mac+End"],Yn.prototype._moveToEnd]]))}renderButton(){const e=P(this,cs,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=f(this,us)._signal;e.addEventListener("click",N(this,it,$a).bind(this),{signal:t}),e.addEventListener("keydown",N(this,it,Gw).bind(this),{signal:t});const n=P(this,Rl,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=f(this,Pu),e.append(n),e}renderMainDropdown(){const e=P(this,Yt,N(this,it,Uw).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===f(this,cs)){N(this,it,$a).call(this,e);return}const t=e.target.getAttribute("data-color");t&&N(this,it,Vw).call(this,t,e)}_moveToNext(e){var t,n;if(!f(this,it,Po)){N(this,it,$a).call(this,e);return}if(e.target===f(this,cs)){(t=f(this,Yt).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=f(this,Yt))==null?void 0:t.firstChild)||e.target===f(this,cs)){f(this,it,Po)&&this._hideDropdownFromKeyboard();return}f(this,it,Po)||N(this,it,$a).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!f(this,it,Po)){N(this,it,$a).call(this,e);return}(t=f(this,Yt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,it,Po)){N(this,it,$a).call(this,e);return}(t=f(this,Yt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=f(this,Yt))==null||e.classList.add("hidden"),(t=f(this,Jo))==null||t.abort(),P(this,Jo,null)}_hideDropdownFromKeyboard(){var e;if(!f(this,Ru)){if(!f(this,it,Po)){(e=f(this,_f))==null||e.unselect();return}this.hideDropdown(),f(this,cs).focus({preventScroll:!0,focusVisible:f(this,Cf)})}}updateColor(e){if(f(this,Rl)&&(f(this,Rl).style.backgroundColor=e),!f(this,Yt))return;const t=f(this,us).highlightColors.values();for(const n of f(this,Yt).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=f(this,cs))==null||e.remove(),P(this,cs,null),P(this,Rl,null),(t=f(this,Yt))==null||t.remove(),P(this,Yt,null)}};cs=new WeakMap,Rl=new WeakMap,Pu=new WeakMap,Yt=new WeakMap,Cf=new WeakMap,Ru=new WeakMap,_f=new WeakMap,kf=new WeakMap,Jo=new WeakMap,us=new WeakMap,Nu=new WeakMap,Tf=new WeakMap,it=new WeakSet,Uw=function(){const e=document.createElement("div"),t=f(this,us)._signal;e.addEventListener("contextmenu",$r,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,s]of f(this,us).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",s),o.title=n,o.setAttribute("data-l10n-id",f(Yn,Tf)[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=s,o.setAttribute("aria-selected",s===f(this,Pu)),o.addEventListener("click",N(this,it,Vw).bind(this,s),{signal:t}),e.append(o)}return e.addEventListener("keydown",N(this,it,Gw).bind(this),{signal:t}),e},Vw=function(e,t){t.stopPropagation(),f(this,kf).dispatch("switchannotationeditorparams",{source:this,type:f(this,Nu),value:e})},Gw=function(e){Yn._keyboardManager.exec(this,e)},$a=function(e){if(f(this,it,Po)){this.hideDropdown();return}if(P(this,Cf,e.detail===0),f(this,Jo)||(P(this,Jo,new AbortController),window.addEventListener("pointerdown",N(this,it,oR).bind(this),{signal:f(this,us).combinedSignal(f(this,Jo))})),f(this,Yt)){f(this,Yt).classList.remove("hidden");return}const t=P(this,Yt,N(this,it,Uw).call(this));f(this,cs).append(t)},oR=function(e){var t;(t=f(this,Yt))!=null&&t.contains(e.target)||this.hideDropdown()},Po=function(){return f(this,Yt)&&!f(this,Yt).classList.contains("hidden")},I(Yn,Tf,null);let pg=Yn;var Mu,Pf,Pi,Nl,Iu,Ir,Rf,Nf,Ml,ds,_n,Kn,Lu,Ri,Xt,Du,Lr,Mf,ze,Yw,Vm,aR,lR,cR,Xw,za,Fr,Fc,uR,Gm,ih,dR,hR,fR,pR,mR;const Je=class Je extends st{constructor(t){super({...t,name:"highlightEditor"});I(this,ze);I(this,Mu,null);I(this,Pf,0);I(this,Pi);I(this,Nl,null);I(this,Iu,null);I(this,Ir,null);I(this,Rf,null);I(this,Nf,0);I(this,Ml,null);I(this,ds,null);I(this,_n,null);I(this,Kn,!1);I(this,Lu,null);I(this,Ri);I(this,Xt,null);I(this,Du,"");I(this,Lr);I(this,Mf,"");this.color=t.color||Je._defaultColor,P(this,Lr,t.thickness||Je._defaultThickness),P(this,Ri,t.opacity||Je._defaultOpacity),P(this,Pi,t.boxes||null),P(this,Mf,t.methodOfCreation||""),P(this,Du,t.text||""),this._isDraggable=!1,t.highlightId>-1?(P(this,Kn,!0),N(this,ze,Vm).call(this,t),N(this,ze,za).call(this)):f(this,Pi)&&(P(this,Mu,t.anchorNode),P(this,Pf,t.anchorOffset),P(this,Rf,t.focusNode),P(this,Nf,t.focusOffset),N(this,ze,Yw).call(this),N(this,ze,za).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Je.prototype;return qe(this,"_keyboardManager",new Wf([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,Kn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:f(this,Lr),methodOfCreation:f(this,Mf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var s;st.initialize(t,n),Je._defaultColor||(Je._defaultColor=((s=n.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case De.HIGHLIGHT_DEFAULT_COLOR:Je._defaultColor=n;break;case De.HIGHLIGHT_THICKNESS:Je._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return f(this,Lu)}updateParams(t,n){switch(t){case De.HIGHLIGHT_COLOR:N(this,ze,aR).call(this,n);break;case De.HIGHLIGHT_THICKNESS:N(this,ze,lR).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[De.HIGHLIGHT_DEFAULT_COLOR,Je._defaultColor],[De.HIGHLIGHT_THICKNESS,Je._defaultThickness]]}get propertiesToUpdate(){return[[De.HIGHLIGHT_COLOR,this.color||Je._defaultColor],[De.HIGHLIGHT_THICKNESS,f(this,Lr)||Je._defaultThickness],[De.HIGHLIGHT_FREE,f(this,Kn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(P(this,Iu,new pg({editor:this})),t.addColorPicker(f(this,Iu))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(N(this,ze,ih).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,N(this,ze,ih).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){N(this,ze,Xw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,ze,za).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let n=!1;this.parent&&!t?N(this,ze,Xw).call(this):t&&(N(this,ze,za).call(this,t),n=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var o,l,c;const{drawLayer:n}=this.parent;let s;f(this,Kn)?(t=(t-this.rotation+360)%360,s=N(o=Je,Fr,Fc).call(o,f(this,ds).box,t)):s=N(l=Je,Fr,Fc).call(l,this,t),n.rotate(f(this,_n),t),n.rotate(f(this,Xt),t),n.updateBox(f(this,_n),s),n.updateBox(f(this,Xt),N(c=Je,Fr,Fc).call(c,f(this,Ir).box,t))}render(){if(this.div)return this.div;const t=super.render();f(this,Du)&&(t.setAttribute("aria-label",f(this,Du)),t.setAttribute("role","mark")),f(this,Kn)?t.classList.add("free"):this.div.addEventListener("keydown",N(this,ze,uR).bind(this),{signal:this._uiManager._signal});const n=P(this,Ml,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=f(this,Nl);const[s,o]=this.parentDimensions;return this.setDims(this.width*s,this.height*o),dg(this,f(this,Ml),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(f(this,Xt),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(f(this,Xt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:N(this,ze,Gm).call(this,!0);break;case 1:case 3:N(this,ze,Gm).call(this,!1);break}}select(){var t,n;super.select(),f(this,Xt)&&((t=this.parent)==null||t.drawLayer.removeClass(f(this,Xt),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(f(this,Xt),"selected"))}unselect(){var t;super.unselect(),f(this,Xt)&&((t=this.parent)==null||t.drawLayer.removeClass(f(this,Xt),"selected"),f(this,Kn)||N(this,ze,Gm).call(this,!1))}get _mustFixPosition(){return!f(this,Kn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(f(this,_n),t),this.parent.drawLayer.show(f(this,Xt),t))}static startHighlighting(t,n,{target:s,x:o,y:l}){const{x:c,y:u,width:h,height:p}=s.getBoundingClientRect(),m=new AbortController,v=t.combinedSignal(m),w=x=>{x.preventDefault(),x.stopPropagation()},b=x=>{m.abort(),N(this,Fr,pR).call(this,t,x)};window.addEventListener("blur",b,{signal:v}),window.addEventListener("pointerup",b,{signal:v}),window.addEventListener("pointerdown",w,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",$r,{signal:v}),s.addEventListener("pointermove",N(this,Fr,fR).bind(this,t),{signal:v}),this._freeHighlight=new Ww({x:o,y:l},[c,u,h,p],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,n,s){var x,C,_,k;let o=null;if(t instanceof zP){const{data:{quadPoints:T,rect:M,rotation:L,id:D,color:F,opacity:j,popupRef:W},parent:{page:{pageNumber:X}}}=t;o=t={annotationType:He.HIGHLIGHT,color:Array.from(F),opacity:j,quadPoints:T,boxes:null,pageIndex:X-1,rect:M.slice(0),rotation:L,id:D,deleted:!1,popupRef:W}}else if(t instanceof gx){const{data:{inkLists:T,rect:M,rotation:L,id:D,color:F,borderStyle:{rawWidth:j},popupRef:W},parent:{page:{pageNumber:X}}}=t;o=t={annotationType:He.HIGHLIGHT,color:Array.from(F),thickness:j,inkLists:T,boxes:null,pageIndex:X-1,rect:M.slice(0),rotation:L,id:D,deleted:!1,popupRef:W}}const{color:l,quadPoints:c,inkLists:u,opacity:h}=t,p=await super.deserialize(t,n,s);p.color=_e.makeHexColor(...l),P(p,Ri,h||1),u&&P(p,Lr,t.thickness),p.annotationElementId=t.id||null,p._initialData=o;const[m,v]=p.pageDimensions,[w,b]=p.pageTranslation;if(c){const T=P(p,Pi,[]);for(let M=0;M<c.length;M+=8)T.push({x:(c[M]-w)/m,y:1-(c[M+1]-b)/v,width:(c[M+2]-c[M])/m,height:(c[M+1]-c[M+5])/v});N(x=p,ze,Yw).call(x),N(C=p,ze,za).call(C),p.rotate(p.rotation)}else if(u){P(p,Kn,!0);const T=u[0],M={x:T[0]-w,y:v-(T[1]-b)},L=new Ww(M,[0,0,m,v],1,f(p,Lr)/2,!0,.001);for(let j=0,W=T.length;j<W;j+=2)M.x=T[j]-w,M.y=v-(T[j+1]-b),L.add(M);const{id:D,clipPathId:F}=n.drawLayer.draw(L,p.color,p._defaultOpacity,!0);N(_=p,ze,Vm).call(_,{highlightOutlines:L.getOutlines(),highlightId:D,clipPathId:F}),N(k=p,ze,za).call(k)}return p}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),s=st._colorManager.convert(this.color),o={annotationType:He.HIGHLIGHT,color:s,opacity:f(this,Ri),thickness:f(this,Lr),quadPoints:N(this,ze,dR).call(this),outlines:N(this,ze,hR).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:N(this,ze,ih).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!N(this,ze,mR).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Mu=new WeakMap,Pf=new WeakMap,Pi=new WeakMap,Nl=new WeakMap,Iu=new WeakMap,Ir=new WeakMap,Rf=new WeakMap,Nf=new WeakMap,Ml=new WeakMap,ds=new WeakMap,_n=new WeakMap,Kn=new WeakMap,Lu=new WeakMap,Ri=new WeakMap,Xt=new WeakMap,Du=new WeakMap,Lr=new WeakMap,Mf=new WeakMap,ze=new WeakSet,Yw=function(){const t=new F1(f(this,Pi),.001);P(this,ds,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=f(this,ds).box;const n=new F1(f(this,Pi),.0025,.001,this._uiManager.direction==="ltr");P(this,Ir,n.getOutlines());const{lastPoint:s}=f(this,Ir).box;P(this,Lu,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Vm=function({highlightOutlines:t,highlightId:n,clipPathId:s}){var m,v;if(P(this,ds,t),P(this,Ir,t.getNewOutline(f(this,Lr)/2+1.5,.0025)),n>=0)P(this,_n,n),P(this,Nl,s),this.parent.drawLayer.finalizeLine(n,t),P(this,Xt,this.parent.drawLayer.drawOutline(f(this,Ir)));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(f(this,_n),t),this.parent.drawLayer.updateBox(f(this,_n),N(m=Je,Fr,Fc).call(m,f(this,ds).box,(w-this.rotation+360)%360)),this.parent.drawLayer.updateLine(f(this,Xt),f(this,Ir)),this.parent.drawLayer.updateBox(f(this,Xt),N(v=Je,Fr,Fc).call(v,f(this,Ir).box,w))}const{x:l,y:c,width:u,height:h}=t.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=u,this.height=h;break;case 90:{const[w,b]=this.parentDimensions;this.x=c,this.y=1-l,this.width=u*b/w,this.height=h*w/b;break}case 180:this.x=1-l,this.y=1-c,this.width=u,this.height=h;break;case 270:{const[w,b]=this.parentDimensions;this.x=1-c,this.y=l,this.width=u*b/w,this.height=h*w/b;break}}const{lastPoint:p}=f(this,Ir).box;P(this,Lu,[(p[0]-l)/u,(p[1]-c)/h])},aR=function(t){const n=(l,c)=>{var u,h,p;this.color=l,(u=this.parent)==null||u.drawLayer.changeColor(f(this,_n),l),(h=f(this,Iu))==null||h.updateColor(l),P(this,Ri,c),(p=this.parent)==null||p.drawLayer.changeOpacity(f(this,_n),c)},s=this.color,o=f(this,Ri);this.addCommands({cmd:n.bind(this,t,Je._defaultOpacity),undo:n.bind(this,s,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},lR=function(t){const n=f(this,Lr),s=o=>{P(this,Lr,o),N(this,ze,cR).call(this,o)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},cR=function(t){if(!f(this,Kn))return;N(this,ze,Vm).call(this,{highlightOutlines:f(this,ds).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)},Xw=function(){f(this,_n)===null||!this.parent||(this.parent.drawLayer.remove(f(this,_n)),P(this,_n,null),this.parent.drawLayer.remove(f(this,Xt)),P(this,Xt,null))},za=function(t=this.parent){f(this,_n)===null&&({id:Nn(this,_n)._,clipPathId:Nn(this,Nl)._}=t.drawLayer.draw(f(this,ds),this.color,f(this,Ri)),P(this,Xt,t.drawLayer.drawOutline(f(this,Ir))),f(this,Ml)&&(f(this,Ml).style.clipPath=f(this,Nl)))},Fr=new WeakSet,Fc=function({x:t,y:n,width:s,height:o},l){switch(l){case 90:return{x:1-n-o,y:t,width:o,height:s};case 180:return{x:1-t-s,y:1-n-o,width:s,height:o};case 270:return{x:n,y:1-t-s,width:o,height:s}}return{x:t,y:n,width:s,height:o}},uR=function(t){Je._keyboardManager.exec(this,t)},Gm=function(t){if(!f(this,Mu))return;const n=window.getSelection();t?n.setPosition(f(this,Mu),f(this,Pf)):n.setPosition(f(this,Rf),f(this,Nf))},ih=function(){return f(this,Kn)?this.rotation:0},dR=function(){if(f(this,Kn))return null;const[t,n]=this.pageDimensions,[s,o]=this.pageTranslation,l=f(this,Pi),c=new Float32Array(l.length*8);let u=0;for(const{x:h,y:p,width:m,height:v}of l){const w=h*t+s,b=(1-p-v)*n+o;c[u]=c[u+4]=w,c[u+1]=c[u+3]=b,c[u+2]=c[u+6]=w+m*t,c[u+5]=c[u+7]=b+v*n,u+=8}return c},hR=function(t){return f(this,ds).serialize(t,N(this,ze,ih).call(this))},fR=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},pR=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},mR=function(t){const{color:n}=this._initialData;return t.color.some((s,o)=>s!==n[o])},I(Je,Fr),Le(Je,"_defaultColor",null),Le(Je,"_defaultOpacity",1),Le(Je,"_defaultThickness",12),Le(Je,"_type","highlight"),Le(Je,"_editorType",He.HIGHLIGHT),Le(Je,"_freeHighlightId",-1),Le(Je,"_freeHighlight",null),Le(Je,"_freeHighlightClipId","");let mg=Je;var Il,Ll,zs,Ni,Dr,Dl,Ol,Fl,Mi,Ou,jl,$l,Zo,fe,gR,vR,yR,wR,Kw,bR,Qw,xR,SR,AR,ER,CR,Ha,Jw,Zw,eb,Ym,Xm,jc,tb,qm,Ki,_R,nb,kR,TR,rb,Km,oh;const yt=class yt extends st{constructor(t){super({...t,name:"inkEditor"});I(this,fe);I(this,Il,0);I(this,Ll,0);I(this,zs,null);I(this,Ni,new Path2D);I(this,Dr,!1);I(this,Dl,null);I(this,Ol,!1);I(this,Fl,!1);I(this,Mi,null);I(this,Ou,null);I(this,jl,0);I(this,$l,0);I(this,Zo,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){st.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case De.INK_THICKNESS:yt._defaultThickness=n;break;case De.INK_COLOR:yt._defaultColor=n;break;case De.INK_OPACITY:yt._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case De.INK_THICKNESS:N(this,fe,gR).call(this,n);break;case De.INK_COLOR:N(this,fe,vR).call(this,n);break;case De.INK_OPACITY:N(this,fe,yR).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[De.INK_THICKNESS,yt._defaultThickness],[De.INK_COLOR,yt._defaultColor||st._defaultLineColor],[De.INK_OPACITY,Math.round(yt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[De.INK_THICKNESS,this.thickness||yt._defaultThickness],[De.INK_COLOR,this.color||yt._defaultColor||st._defaultLineColor],[De.INK_OPACITY,Math.round(100*(this.opacity??yt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(N(this,fe,Ym).call(this),N(this,fe,Xm).call(this)),this.isAttachedToDOM||(this.parent.add(this),N(this,fe,jc).call(this)),N(this,fe,oh).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,f(this,zs)&&(clearTimeout(f(this,zs)),P(this,zs,null)),(t=f(this,Mi))==null||t.disconnect(),P(this,Mi,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,s=this.width*t,o=this.height*n;this.setDimensions(s,o)}enableEditMode(){f(this,Dr)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,N(this,fe,Jw).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),N(this,fe,Zw).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){f(this,Dr)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),P(this,Dr,!0),this.div.classList.add("disabled"),N(this,fe,oh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||f(this,Dr)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),N(this,fe,bR).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),N(this,fe,Qw).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),N(this,fe,eb).call(this,t)}canvasPointerleave(t){N(this,fe,eb).call(this,t)}get isResizable(){return!this.isEmpty()&&f(this,Dr)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,o,l,c]=N(this,fe,wR).call(this);if(this.setAt(s,o,0,0),this.setDims(l,c),N(this,fe,Ym).call(this),this.width){const[u,h]=this.parentDimensions;this.setAspectRatio(this.width*u,this.height*h),this.setAt(t*u,n*h,this.width*u,this.height*h),P(this,Fl,!0),N(this,fe,jc).call(this),this.setDims(this.width*u,this.height*h),N(this,fe,Ha).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return N(this,fe,Xm).call(this),this.div}setDimensions(t,n){const s=Math.round(t),o=Math.round(n);if(f(this,jl)===s&&f(this,$l)===o)return;P(this,jl,s),P(this,$l,o),this.canvas.style.visibility="hidden";const[l,c]=this.parentDimensions;this.width=t/l,this.height=n/c,this.fixAndSetPosition(),f(this,Dr)&&N(this,fe,tb).call(this,t,n),N(this,fe,jc).call(this),N(this,fe,Ha).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,n,s){var C,_,k;if(t instanceof gx)return null;const o=await super.deserialize(t,n,s);o.thickness=t.thickness,o.color=_e.makeHexColor(...t.color),o.opacity=t.opacity;const[l,c]=o.pageDimensions,u=o.width*l,h=o.height*c,p=o.parentScale,m=t.thickness/2;P(o,Dr,!0),P(o,jl,Math.round(u)),P(o,$l,Math.round(h));const{paths:v,rect:w,rotation:b}=t;for(let{bezier:T}of v){T=N(C=yt,Ki,kR).call(C,T,w,b);const M=[];o.paths.push(M);let L=p*(T[0]-m),D=p*(T[1]-m);for(let j=2,W=T.length;j<W;j+=6){const X=p*(T[j]-m),Q=p*(T[j+1]-m),ue=p*(T[j+2]-m),oe=p*(T[j+3]-m),he=p*(T[j+4]-m),ae=p*(T[j+5]-m);M.push([[L,D],[X,Q],[ue,oe],[he,ae]]),L=he,D=ae}const F=N(this,Ki,_R).call(this,M);o.bezierPath2D.push(F)}const x=N(_=o,fe,rb).call(_);return P(o,Ll,Math.max(st.MIN_SIZE,x[2]-x[0])),P(o,Il,Math.max(st.MIN_SIZE,x[3]-x[1])),N(k=o,fe,tb).call(k,u,h),o}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=st._colorManager.convert(this.ctx.strokeStyle);return{annotationType:He.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:N(this,fe,TR).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Il=new WeakMap,Ll=new WeakMap,zs=new WeakMap,Ni=new WeakMap,Dr=new WeakMap,Dl=new WeakMap,Ol=new WeakMap,Fl=new WeakMap,Mi=new WeakMap,Ou=new WeakMap,jl=new WeakMap,$l=new WeakMap,Zo=new WeakMap,fe=new WeakSet,gR=function(t){const n=o=>{this.thickness=o,N(this,fe,oh).call(this)},s=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},vR=function(t){const n=o=>{this.color=o,N(this,fe,Ha).call(this)},s=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},yR=function(t){const n=o=>{this.opacity=o,N(this,fe,Ha).call(this)};t/=100;const s=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:De.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},wR=function(){const{parentRotation:t,parentDimensions:[n,s]}=this;switch(t){case 90:return[0,s,s,n];case 180:return[n,s,n,s];case 270:return[n,0,s,n];default:return[0,0,n,s]}},Kw=function(){const{ctx:t,color:n,opacity:s,thickness:o,parentScale:l,scaleFactor:c}=this;t.lineWidth=o*l/c,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${PB(s)}`},bR=function(t,n){this.canvas.addEventListener("contextmenu",$r,{signal:this._uiManager._signal}),N(this,fe,Zw).call(this),P(this,Dl,new AbortController);const s=this._uiManager.combinedSignal(f(this,Dl));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:s}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:s}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:s}),this.isEditing=!0,f(this,Fl)||(P(this,Fl,!0),N(this,fe,jc).call(this),this.thickness||(this.thickness=yt._defaultThickness),this.color||(this.color=yt._defaultColor||st._defaultLineColor),this.opacity??(this.opacity=yt._defaultOpacity)),this.currentPath.push([t,n]),P(this,Ol,!1),N(this,fe,Kw).call(this),P(this,Zo,()=>{N(this,fe,AR).call(this),f(this,Zo)&&window.requestAnimationFrame(f(this,Zo))}),window.requestAnimationFrame(f(this,Zo))},Qw=function(t,n){const[s,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===s&&n===o)return;const l=this.currentPath;let c=f(this,Ni);if(l.push([t,n]),P(this,Ol,!0),l.length<=2){c.moveTo(...l[0]),c.lineTo(t,n);return}l.length===3&&(P(this,Ni,c=new Path2D),c.moveTo(...l[0])),N(this,fe,ER).call(this,c,...l.at(-3),...l.at(-2),t,n)},xR=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);f(this,Ni).lineTo(...t)},SR=function(t,n){P(this,Zo,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),N(this,fe,Qw).call(this,t,n),N(this,fe,xR).call(this);let s;if(this.currentPath.length!==1)s=N(this,fe,CR).call(this);else{const h=[t,n];s=[[h,h.slice(),h.slice(),h]]}const o=f(this,Ni),l=this.currentPath;this.currentPath=[],P(this,Ni,new Path2D);const c=()=>{this.allRawPaths.push(l),this.paths.push(s),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},u=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(N(this,fe,Ym).call(this),N(this,fe,Xm).call(this)),N(this,fe,oh).call(this))};this.addCommands({cmd:c,undo:u,mustExec:!0})},AR=function(){if(!f(this,Ol))return;P(this,Ol,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),s=n.map(c=>c[0]),o=n.map(c=>c[1]);Math.min(...s)-t,Math.max(...s)+t,Math.min(...o)-t,Math.max(...o)+t;const{ctx:l}=this;l.save(),l.clearRect(0,0,this.canvas.width,this.canvas.height);for(const c of this.bezierPath2D)l.stroke(c);l.stroke(f(this,Ni)),l.restore()},ER=function(t,n,s,o,l,c,u){const h=(n+o)/2,p=(s+l)/2,m=(o+c)/2,v=(l+u)/2;t.bezierCurveTo(h+2*(o-h)/3,p+2*(l-p)/3,m+2*(o-m)/3,v+2*(l-v)/3,m,v)},CR=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let s,[o,l]=t[0];for(s=1;s<t.length-2;s++){const[w,b]=t[s],[x,C]=t[s+1],_=(w+x)/2,k=(b+C)/2,T=[o+2*(w-o)/3,l+2*(b-l)/3],M=[_+2*(w-_)/3,k+2*(b-k)/3];n.push([[o,l],T,M,[_,k]]),[o,l]=[_,k]}const[c,u]=t[s],[h,p]=t[s+1],m=[o+2*(c-o)/3,l+2*(u-l)/3],v=[h+2*(c-h)/3,p+2*(u-p)/3];return n.push([[o,l],m,v,[h,p]]),n},Ha=function(){if(this.isEmpty()){N(this,fe,qm).call(this);return}N(this,fe,Kw).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),N(this,fe,qm).call(this);for(const s of this.bezierPath2D)n.stroke(s)},Jw=function(){if(f(this,Ou))return;P(this,Ou,new AbortController);const t=this._uiManager.combinedSignal(f(this,Ou));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},Zw=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},eb=function(t){var n;(n=f(this,Dl))==null||n.abort(),P(this,Dl,null),N(this,fe,Jw).call(this),f(this,zs)&&clearTimeout(f(this,zs)),P(this,zs,setTimeout(()=>{P(this,zs,null),this.canvas.removeEventListener("contextmenu",$r)},10)),N(this,fe,SR).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ym=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Xm=function(){P(this,Mi,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),f(this,Mi).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=f(this,Mi))==null||t.disconnect(),P(this,Mi,null)},{once:!0})},jc=function(){if(!f(this,Fl))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),N(this,fe,qm).call(this)},tb=function(t,n){const s=N(this,fe,Km).call(this),o=(t-s)/f(this,Ll),l=(n-s)/f(this,Il);this.scaleFactor=Math.min(o,l)},qm=function(){const t=N(this,fe,Km).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Ki=new WeakSet,_R=function(t){const n=new Path2D;for(let s=0,o=t.length;s<o;s++){const[l,c,u,h]=t[s];s===0&&n.moveTo(...l),n.bezierCurveTo(c[0],c[1],u[0],u[1],h[0],h[1])}return n},nb=function(t,n,s){const[o,l,c,u]=n;switch(s){case 0:for(let h=0,p=t.length;h<p;h+=2)t[h]+=o,t[h+1]=u-t[h+1];break;case 90:for(let h=0,p=t.length;h<p;h+=2){const m=t[h];t[h]=t[h+1]+o,t[h+1]=m+l}break;case 180:for(let h=0,p=t.length;h<p;h+=2)t[h]=c-t[h],t[h+1]+=l;break;case 270:for(let h=0,p=t.length;h<p;h+=2){const m=t[h];t[h]=c-t[h+1],t[h+1]=u-m}break;default:throw new Error("Invalid rotation")}return t},kR=function(t,n,s){const[o,l,c,u]=n;switch(s){case 0:for(let h=0,p=t.length;h<p;h+=2)t[h]-=o,t[h+1]=u-t[h+1];break;case 90:for(let h=0,p=t.length;h<p;h+=2){const m=t[h];t[h]=t[h+1]-l,t[h+1]=m-o}break;case 180:for(let h=0,p=t.length;h<p;h+=2)t[h]=c-t[h],t[h+1]-=l;break;case 270:for(let h=0,p=t.length;h<p;h+=2){const m=t[h];t[h]=u-t[h+1],t[h+1]=c-m}break;default:throw new Error("Invalid rotation")}return t},TR=function(t,n,s,o){var p,m;const l=[],c=this.thickness/2,u=t*n+c,h=t*s+c;for(const v of this.paths){const w=[],b=[];for(let x=0,C=v.length;x<C;x++){const[_,k,T,M]=v[x];if(_[0]===M[0]&&_[1]===M[1]&&C===1){const oe=t*_[0]+u,he=t*_[1]+h;w.push(oe,he),b.push(oe,he);break}const L=t*_[0]+u,D=t*_[1]+h,F=t*k[0]+u,j=t*k[1]+h,W=t*T[0]+u,X=t*T[1]+h,Q=t*M[0]+u,ue=t*M[1]+h;x===0&&(w.push(L,D),b.push(L,D)),w.push(F,j,W,X,Q,ue),b.push(F,j),x===C-1&&b.push(Q,ue)}l.push({bezier:N(p=yt,Ki,nb).call(p,w,o,this.rotation),points:N(m=yt,Ki,nb).call(m,b,o,this.rotation)})}return l},rb=function(){let t=1/0,n=-1/0,s=1/0,o=-1/0;for(const l of this.paths)for(const[c,u,h,p]of l){const m=_e.bezierBoundingBox(...c,...u,...h,...p);t=Math.min(t,m[0]),s=Math.min(s,m[1]),n=Math.max(n,m[2]),o=Math.max(o,m[3])}return[t,s,n,o]},Km=function(){return f(this,Dr)?Math.ceil(this.thickness*this.parentScale):0},oh=function(t=!1){if(this.isEmpty())return;if(!f(this,Dr)){N(this,fe,Ha).call(this);return}const n=N(this,fe,rb).call(this),s=N(this,fe,Km).call(this);P(this,Ll,Math.max(st.MIN_SIZE,n[2]-n[0])),P(this,Il,Math.max(st.MIN_SIZE,n[3]-n[1]));const o=Math.ceil(s+f(this,Ll)*this.scaleFactor),l=Math.ceil(s+f(this,Il)*this.scaleFactor),[c,u]=this.parentDimensions;this.width=o/c,this.height=l/u,this.setAspectRatio(o,l);const h=this.translationX,p=this.translationY;this.translationX=-n[0],this.translationY=-n[1],N(this,fe,jc).call(this),N(this,fe,Ha).call(this),P(this,jl,o),P(this,$l,l),this.setDims(o,l);const m=t?s/this.scaleFactor/2:0;this.translate(h-this.translationX-m,p-this.translationY-m)},I(yt,Ki),Le(yt,"_defaultColor",null),Le(yt,"_defaultOpacity",1),Le(yt,"_defaultThickness",1),Le(yt,"_type","ink"),Le(yt,"_editorType",He.INK);let qw=yt;var bt,mn,ea,Ii,ta,Fu,Hs,Li,Bs,fr,ju,Xe,ah,lh,Qm,ib,PR,Jm,ob,Zm,RR,NR;const dh=class dh extends st{constructor(t){super({...t,name:"stampEditor"});I(this,Xe);I(this,bt,null);I(this,mn,null);I(this,ea,null);I(this,Ii,null);I(this,ta,null);I(this,Fu,"");I(this,Hs,null);I(this,Li,null);I(this,Bs,null);I(this,fr,!1);I(this,ju,!1);P(this,Ii,t.bitmapUrl),P(this,ta,t.bitmapFile)}static initialize(t,n){st.initialize(t,n)}static get supportedTypes(){return qe(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return qe(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(He.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:l,height:c}=t||this.copyCanvas(null,null,!0).imageData,u=await s.guess({name:"altText",request:{data:o,width:l,height:c,channels:o.length/(l*c)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const h=u.output;return await this.setGuessedAltText(h),n&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}remove(){var t,n;f(this,mn)&&(P(this,bt,null),this._uiManager.imageManager.deleteId(f(this,mn)),(t=f(this,Hs))==null||t.remove(),P(this,Hs,null),(n=f(this,Li))==null||n.disconnect(),P(this,Li,null),f(this,Bs)&&(clearTimeout(f(this,Bs)),P(this,Bs,null))),super.remove()}rebuild(){if(!this.parent){f(this,mn)&&N(this,Xe,Qm).call(this);return}super.rebuild(),this.div!==null&&(f(this,mn)&&f(this,Hs)===null&&N(this,Xe,Qm).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(f(this,ea)||f(this,bt)||f(this,Ii)||f(this,ta)||f(this,mn))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),f(this,bt)?N(this,Xe,ib).call(this):N(this,Xe,Qm).call(this),this.width&&!this.annotationElementId){const[s,o]=this.parentDimensions;this.setAt(t*s,n*o,this.width*s,this.height*o)}return this.div}copyCanvas(t,n,s=!1){var w;t||(t=224);const{width:o,height:l}=f(this,bt),c=new tw;let u=f(this,bt),h=o,p=l,m=null;if(n){if(o>n||l>n){const j=Math.min(n/o,n/l);h=Math.floor(o*j),p=Math.floor(l*j)}m=document.createElement("canvas");const b=m.width=Math.ceil(h*c.sx),x=m.height=Math.ceil(p*c.sy);f(this,fr)||(u=N(this,Xe,Jm).call(this,b,x));const C=m.getContext("2d");C.filter=this._uiManager.hcmFilter;let _="white",k="#cfcfd8";this._uiManager.hcmFilter!=="none"?k="black":(w=window.matchMedia)!=null&&w.call(window,"(prefers-color-scheme: dark)").matches&&(_="#8f8f9d",k="#42414d");const T=15,M=T*c.sx,L=T*c.sy,D=new OffscreenCanvas(M*2,L*2),F=D.getContext("2d");F.fillStyle=_,F.fillRect(0,0,M*2,L*2),F.fillStyle=k,F.fillRect(0,0,M,L),F.fillRect(M,L,M,L),C.fillStyle=C.createPattern(D,"repeat"),C.fillRect(0,0,b,x),C.drawImage(u,0,0,u.width,u.height,0,0,b,x)}let v=null;if(s){let b,x;if(c.symmetric&&u.width<t&&u.height<t)b=u.width,x=u.height;else if(u=f(this,bt),o>t||l>t){const k=Math.min(t/o,t/l);b=Math.floor(o*k),x=Math.floor(l*k),f(this,fr)||(u=N(this,Xe,Jm).call(this,b,x))}const _=new OffscreenCanvas(b,x).getContext("2d",{willReadFrequently:!0});_.drawImage(u,0,0,u.width,u.height,0,0,b,x),v={width:b,height:x,data:_.getImageData(0,0,b,x).data}}return{canvas:m,width:h,height:p,imageData:v}}getImageForAltText(){return f(this,Hs)}static async deserialize(t,n,s){var x;let o=null;if(t instanceof HP){const{data:{rect:C,rotation:_,id:k,structParent:T,popupRef:M},container:L,parent:{page:{pageNumber:D}}}=t,F=L.querySelector("canvas"),j=s.imageManager.getFromCanvas(L.id,F);F.remove();const W=((x=await n._structTree.getAriaAttributes(`${ix}${k}`))==null?void 0:x.get("aria-label"))||"";o=t={annotationType:He.STAMP,bitmapId:j.id,bitmap:j.bitmap,pageIndex:D-1,rect:C.slice(0),rotation:_,id:k,deleted:!1,accessibilityData:{decorative:!1,altText:W},isSvg:!1,structParent:T,popupRef:M}}const l=await super.deserialize(t,n,s),{rect:c,bitmap:u,bitmapUrl:h,bitmapId:p,isSvg:m,accessibilityData:v}=t;p&&s.imageManager.isValidId(p)?(P(l,mn,p),u&&P(l,bt,u)):P(l,Ii,h),P(l,fr,m);const[w,b]=l.pageDimensions;return l.width=(c[2]-c[0])/w,l.height=(c[3]-c[1])/b,l.annotationElementId=t.id||null,v&&(l.altTextData=v),l._initialData=o,P(l,ju,!!o),l}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:He.STAMP,bitmapId:f(this,mn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:f(this,fr),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=N(this,Xe,Zm).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:o,altText:l}=this.serializeAltText(!1);if(!o&&l&&(s.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const u=N(this,Xe,NR).call(this,s);if(u.isSame)return null;u.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,n===null)return s;n.stamps||(n.stamps=new Map);const c=f(this,fr)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!n.stamps.has(f(this,mn)))n.stamps.set(f(this,mn),{area:c,serialized:s}),s.bitmap=N(this,Xe,Zm).call(this,!1);else if(f(this,fr)){const u=n.stamps.get(f(this,mn));c>u.area&&(u.area=c,u.serialized.bitmap.close(),u.serialized.bitmap=N(this,Xe,Zm).call(this,!1))}return s}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};bt=new WeakMap,mn=new WeakMap,ea=new WeakMap,Ii=new WeakMap,ta=new WeakMap,Fu=new WeakMap,Hs=new WeakMap,Li=new WeakMap,Bs=new WeakMap,fr=new WeakMap,ju=new WeakMap,Xe=new WeakSet,ah=function(t,n=!1){if(!t){this.remove();return}P(this,bt,t.bitmap),n||(P(this,mn,t.id),P(this,fr,t.isSvg)),t.file&&P(this,Fu,t.file.name),N(this,Xe,ib).call(this)},lh=function(){if(P(this,ea,null),this._uiManager.enableWaiting(!1),!!f(this,Hs)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,bt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,bt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Qm=function(){if(f(this,mn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,mn)).then(s=>N(this,Xe,ah).call(this,s,!0)).finally(()=>N(this,Xe,lh).call(this));return}if(f(this,Ii)){const s=f(this,Ii);P(this,Ii,null),this._uiManager.enableWaiting(!0),P(this,ea,this._uiManager.imageManager.getFromUrl(s).then(o=>N(this,Xe,ah).call(this,o)).finally(()=>N(this,Xe,lh).call(this)));return}if(f(this,ta)){const s=f(this,ta);P(this,ta,null),this._uiManager.enableWaiting(!0),P(this,ea,this._uiManager.imageManager.getFromFile(s).then(o=>N(this,Xe,ah).call(this,o)).finally(()=>N(this,Xe,lh).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=dh.supportedTypesStr;const n=this._uiManager._signal;P(this,ea,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),N(this,Xe,ah).call(this,o)}s()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:n})}).finally(()=>N(this,Xe,lh).call(this))),t.click()},ib=function(){const{div:t}=this;let{width:n,height:s}=f(this,bt);const[o,l]=this.pageDimensions,c=.75;if(this.width)n=this.width*o,s=this.height*l;else if(n>c*o||s>c*l){const m=Math.min(c*o/n,c*l/s);n*=m,s*=m}const[u,h]=this.parentDimensions;this.setDims(n*u/o,s*h/l),this._uiManager.enableWaiting(!1);const p=P(this,Hs,document.createElement("canvas"));p.setAttribute("role","img"),this.addContainer(p),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),N(this,Xe,ob).call(this,n,s),N(this,Xe,RR).call(this),f(this,ju)||(this.parent.addUndoableEditor(this),P(this,ju,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,Fu)&&p.setAttribute("aria-label",f(this,Fu))},PR=function(t,n){var c;const[s,o]=this.parentDimensions;this.width=t/s,this.height=n/o,(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,f(this,Bs)!==null&&clearTimeout(f(this,Bs)),P(this,Bs,setTimeout(()=>{P(this,Bs,null),N(this,Xe,ob).call(this,t,n)},200))},Jm=function(t,n){const{width:s,height:o}=f(this,bt);let l=s,c=o,u=f(this,bt);for(;l>2*t||c>2*n;){const h=l,p=c;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*n&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const m=new OffscreenCanvas(l,c);m.getContext("2d").drawImage(u,0,0,h,p,0,0,l,c),u=m.transferToImageBitmap()}return u},ob=function(t,n){const s=new tw,o=Math.ceil(t*s.sx),l=Math.ceil(n*s.sy),c=f(this,Hs);if(!c||c.width===o&&c.height===l)return;c.width=o,c.height=l;const u=f(this,fr)?f(this,bt):N(this,Xe,Jm).call(this,o,l),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(u,0,0,u.width,u.height,0,0,o,l)},Zm=function(t){if(t){if(f(this,fr)){const o=this._uiManager.imageManager.getSvgUrl(f(this,mn));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=f(this,bt),n.getContext("2d").drawImage(f(this,bt),0,0),n.toDataURL()}if(f(this,fr)){const[n,s]=this.pageDimensions,o=Math.round(this.width*n*la.PDF_TO_CSS_UNITS),l=Math.round(this.height*s*la.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(o,l);return c.getContext("2d").drawImage(f(this,bt),0,0,f(this,bt).width,f(this,bt).height,0,0,o,l),c.transferToImageBitmap()}return structuredClone(f(this,bt))},RR=function(){this._uiManager._signal&&(P(this,Li,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&N(this,Xe,PR).call(this,n.width,n.height)})),f(this,Li).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=f(this,Li))==null||t.disconnect(),P(this,Li,null)},{once:!0}))},NR=function(t){var h;const{rect:n,pageIndex:s,accessibilityData:{altText:o}}=this._initialData,l=t.rect.every((p,m)=>Math.abs(p-n[m])<1),c=t.pageIndex===s,u=(((h=t.accessibilityData)==null?void 0:h.alt)||"")===o;return{isSame:l&&c&&u,isSameAltText:u}},Le(dh,"_type","stamp"),Le(dh,"_editorType",He.STAMP);let sb=dh;var zl,$u,Ws,na,Di,pr,ra,zu,Hu,kn,Oi,Re,sa,gn,MR,lb,cb,ub,eg;const Qr=class Qr{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:s,accessibilityManager:o,annotationLayer:l,drawLayer:c,textLayer:u,viewport:h,l10n:p}){I(this,gn);I(this,zl);I(this,$u,!1);I(this,Ws,null);I(this,na,null);I(this,Di,null);I(this,pr,new Map);I(this,ra,!1);I(this,zu,!1);I(this,Hu,!1);I(this,kn,null);I(this,Oi,null);I(this,Re);const m=[...f(Qr,sa).values()];if(!Qr._initialized){Qr._initialized=!0;for(const v of m)v.initialize(p,e)}e.registerEditorTypes(m),P(this,Re,e),this.pageIndex=t,this.div=n,P(this,zl,o),P(this,Ws,l),this.viewport=h,P(this,kn,u),this.drawLayer=c,this._structTree=s,f(this,Re).addLayer(this)}get isEmpty(){return f(this,pr).size===0}get isInvisible(){return this.isEmpty&&f(this,Re).getMode()===He.NONE}updateToolbar(e){f(this,Re).updateToolbar(e)}updateMode(e=f(this,Re).getMode()){switch(N(this,gn,eg).call(this),e){case He.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case He.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case He.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of f(Qr,sa).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,kn))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(f(this,Re).getMode()!==He.INK)return;if(!e){for(const n of f(this,pr).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){f(this,Re).setEditingState(e)}addCommands(e){f(this,Re).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,Ws))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of f(this,pr).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(f(this,Re).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!f(this,Ws))return;const t=f(this,Ws).getEditableAnnotations();for(const n of t){if(n.hide(),f(this,Re).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;P(this,Hu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const o of f(this,pr).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(s=this.getEditableAnnotation(o.annotationElementId))==null||s.show(),o.remove()}if(f(this,Ws)){const o=f(this,Ws).getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(f(this,Re).isDeletedAnnotationElement(c))continue;let u=t.get(c);if(u){u.resetAnnotationElement(l),u.show(!1),l.show();continue}u=e.get(c),u&&(f(this,Re).addChangedExistingAnnotation(u),u.renderAnnotationElement(l)&&u.show(!1)),l.show()}}N(this,gn,eg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const o of f(Qr,sa).values())n.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),P(this,Hu,!1)}getEditableAnnotation(e){var t;return((t=f(this,Ws))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,Re).getActive()!==e&&f(this,Re).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=f(this,kn))!=null&&e.div&&!f(this,Oi)){P(this,Oi,new AbortController);const t=f(this,Re).combinedSignal(f(this,Oi));f(this,kn).div.addEventListener("pointerdown",N(this,gn,MR).bind(this),{signal:t}),f(this,kn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,kn))!=null&&e.div&&f(this,Oi)&&(f(this,Oi).abort(),P(this,Oi,null),f(this,kn).div.classList.remove("highlighting"))}enableClick(){if(f(this,na))return;P(this,na,new AbortController);const e=f(this,Re).combinedSignal(f(this,na));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=f(this,na))==null||e.abort(),P(this,na,null)}attach(e){f(this,pr).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,Re).isDeletedAnnotationElement(t)&&f(this,Re).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,pr).delete(e.id),(t=f(this,zl))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,Hu)&&e.annotationElementId&&f(this,Re).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,Re).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,f(this,zu)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,Re).addDeletedAnnotationElement(e.annotationElementId),st.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,Re).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),f(this,Re).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,Di)&&(e._focusEventsAllowed=!1,P(this,Di,setTimeout(()=>{P(this,Di,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,Re)._signal}),t.focus())},0))),e._structTreeParentId=(n=f(this,zl))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return f(this,Re).getId()}combinedSignal(e){return f(this,Re).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=f(this,gn,lb))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){f(this,Re).updateToolbar(e),f(this,Re).updateMode(e);const{offsetX:n,offsetY:s}=N(this,gn,ub).call(this),o=this.getNextId(),l=N(this,gn,cb).call(this,{parent:this,id:o,x:n,y:s,uiManager:f(this,Re),isCentered:!0,...t});l&&this.add(l)}async deserialize(e){var t;return await((t=f(Qr,sa).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,Re)))||null}createAndAddNewEditor(e,t,n={}){const s=this.getNextId(),o=N(this,gn,cb).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:f(this,Re),isCentered:t,...n});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(N(this,gn,ub).call(this),!0)}setSelected(e){f(this,Re).setSelected(e)}toggleSelected(e){f(this,Re).toggleSelected(e)}unselect(e){f(this,Re).unselect(e)}pointerup(e){const{isMac:t}=On.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&f(this,ra)){if(P(this,ra,!1),!f(this,$u)){P(this,$u,!0);return}if(f(this,Re).getMode()===He.STAMP){f(this,Re).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(f(this,Re).getMode()===He.HIGHLIGHT&&this.enableTextSelection(),f(this,ra)){P(this,ra,!1);return}const{isMac:t}=On.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;P(this,ra,!0);const n=f(this,Re).getActive();P(this,$u,!n||n.isEmpty())}findNewParent(e,t,n){const s=f(this,Re).findParent(t,n);return s===null||s===this?!1:(s.changeParent(e),!0)}destroy(){var e,t;((e=f(this,Re).getActive())==null?void 0:e.parent)===this&&(f(this,Re).commitOrRemove(),f(this,Re).setActiveEditor(null)),f(this,Di)&&(clearTimeout(f(this,Di)),P(this,Di,null));for(const n of f(this,pr).values())(t=f(this,zl))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,f(this,pr).clear(),f(this,Re).removeLayer(this)}render({viewport:e}){this.viewport=e,Vl(this.div,e);for(const t of f(this,Re).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,Re).commitOrRemove(),N(this,gn,eg).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Vl(this.div,{rotation:n}),t!==n)for(const s of f(this,pr).values())s.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,Re).viewParameters.realScale}};zl=new WeakMap,$u=new WeakMap,Ws=new WeakMap,na=new WeakMap,Di=new WeakMap,pr=new WeakMap,ra=new WeakMap,zu=new WeakMap,Hu=new WeakMap,kn=new WeakMap,Oi=new WeakMap,Re=new WeakMap,sa=new WeakMap,gn=new WeakSet,MR=function(e){f(this,Re).unselectAll();const{target:t}=e;if(t===f(this,kn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&f(this,kn).div.contains(t)){const{isMac:n}=On.platform;if(e.button!==0||e.ctrlKey&&n)return;f(this,Re).showAllEditors("highlight",!0,!0),f(this,kn).div.classList.add("free"),this.toggleDrawing(),mg.startHighlighting(this,f(this,Re).direction==="ltr",{target:f(this,kn).div,x:e.x,y:e.y}),f(this,kn).div.addEventListener("pointerup",()=>{f(this,kn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,Re)._signal}),e.preventDefault()}},lb=function(){return f(Qr,sa).get(f(this,Re).getMode())},cb=function(e){const t=f(this,gn,lb);return t?new t.prototype.constructor(e):null},ub=function(){const{x:e,y:t,width:n,height:s}=this.div.getBoundingClientRect(),o=Math.max(0,e),l=Math.max(0,t),c=Math.min(window.innerWidth,e+n),u=Math.min(window.innerHeight,t+s),h=(o+c)/2-e,p=(l+u)/2-t,[m,v]=this.viewport.rotation%180===0?[h,p]:[p,h];return{offsetX:m,offsetY:v}},eg=function(){P(this,zu,!0);for(const e of f(this,pr).values())e.isEmpty()&&e.remove();P(this,zu,!1)},Le(Qr,"_initialized",!1),I(Qr,sa,new Map([zw,qw,sb,mg].map(e=>[e._editorType,e])));let ab=Qr;var Us,If,Ot,Fi,Lf,hb,ql,fb,IR;const hn=class hn{constructor({pageIndex:e}){I(this,ql);I(this,Us,null);I(this,If,0);I(this,Ot,new Map);I(this,Fi,new Map);this.pageIndex=e}setParent(e){if(!f(this,Us)){P(this,Us,e);return}if(f(this,Us)!==e){if(f(this,Ot).size>0)for(const t of f(this,Ot).values())t.remove(),e.append(t);P(this,Us,e)}}static get _svgFactory(){return qe(this,"_svgFactory",new mx)}draw(e,t,n,s=!1){const o=Nn(this,If)._++,l=N(this,ql,fb).call(this,e.box);l.classList.add(...e.classNamesForDrawing);const c=hn._svgFactory.createElement("defs");l.append(c);const u=hn._svgFactory.createElement("path");c.append(u);const h=`path_p${this.pageIndex}_${o}`;u.setAttribute("id",h),u.setAttribute("d",e.toSVGPath()),s&&f(this,Fi).set(o,u);const p=N(this,ql,IR).call(this,c,h),m=hn._svgFactory.createElement("use");return l.append(m),l.setAttribute("fill",t),l.setAttribute("fill-opacity",n),m.setAttribute("href",`#${h}`),f(this,Ot).set(o,l),{id:o,clipPathId:`url(#${p})`}}drawOutline(e){const t=Nn(this,If)._++,n=N(this,ql,fb).call(this,e.box);n.classList.add(...e.classNamesForOutlining);const s=hn._svgFactory.createElement("defs");n.append(s);const o=hn._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${t}`;o.setAttribute("id",l),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(e.mustRemoveSelfIntersections){const p=hn._svgFactory.createElement("mask");s.append(p),c=`mask_p${this.pageIndex}_${t}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const m=hn._svgFactory.createElement("rect");p.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const v=hn._svgFactory.createElement("use");p.append(v),v.setAttribute("href",`#${l}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const u=hn._svgFactory.createElement("use");n.append(u),u.setAttribute("href",`#${l}`),c&&u.setAttribute("mask",`url(#${c})`);const h=u.cloneNode();return n.append(h),u.classList.add("mainOutline"),h.classList.add("secondaryOutline"),f(this,Ot).set(t,n),t}finalizeLine(e,t){const n=f(this,Fi).get(e);f(this,Fi).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){f(this,Ot).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){f(this,Fi).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;N(n=hn,Lf,hb).call(n,f(this,Ot).get(e),t)}show(e,t){f(this,Ot).get(e).classList.toggle("hidden",!t)}rotate(e,t){f(this,Ot).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){f(this,Ot).get(e).setAttribute("fill",t)}changeOpacity(e,t){f(this,Ot).get(e).setAttribute("fill-opacity",t)}addClass(e,t){f(this,Ot).get(e).classList.add(t)}removeClass(e,t){f(this,Ot).get(e).classList.remove(t)}getSVGRoot(e){return f(this,Ot).get(e)}remove(e){f(this,Fi).delete(e),f(this,Us)!==null&&(f(this,Ot).get(e).remove(),f(this,Ot).delete(e))}destroy(){P(this,Us,null);for(const e of f(this,Ot).values())e.remove();f(this,Ot).clear(),f(this,Fi).clear()}};Us=new WeakMap,If=new WeakMap,Ot=new WeakMap,Fi=new WeakMap,Lf=new WeakSet,hb=function(e,{x:t=0,y:n=0,width:s=1,height:o=1}={}){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*s}%`,l.height=`${100*o}%`},ql=new WeakSet,fb=function(e){var n;const t=hn._svgFactory.create(1,1,!0);return f(this,Us).append(t),t.setAttribute("aria-hidden",!0),N(n=hn,Lf,hb).call(n,t,e),t},IR=function(e,t){const n=hn._svgFactory.createElement("clipPath");e.append(n);const s=`clip_${t}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const o=hn._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),s},I(hn,Lf);let db=hn;Oe.AbortException;Oe.AnnotationEditorLayer;Oe.AnnotationEditorParamsType;Oe.AnnotationEditorType;Oe.AnnotationEditorUIManager;Oe.AnnotationLayer;Oe.AnnotationMode;Oe.ColorPicker;Oe.DOMSVGFactory;Oe.DrawLayer;Oe.FeatureTest;var l5=Oe.GlobalWorkerOptions;Oe.ImageKind;Oe.InvalidPDFException;Oe.MissingPDFException;Oe.OPS;Oe.OutputScale;Oe.PDFDataRangeTransport;Oe.PDFDateString;Oe.PDFWorker;Oe.PasswordResponses;Oe.PermissionFlag;Oe.PixelsPerInch;Oe.RenderingCancelledException;Oe.TextLayer;Oe.UnexpectedResponseException;Oe.Util;Oe.VerbosityLevel;Oe.XfaLayer;Oe.build;Oe.createValidAbsoluteUrl;Oe.fetchData;var c5=Oe.getDocument;Oe.getFilenameFromUrl;Oe.getPdfFilenameFromUrl;Oe.getXfaPageViewport;Oe.isDataScheme;Oe.isPdfFile;Oe.noContextMenu;Oe.normalizeUnicode;Oe.setLayerDimensions;Oe.shadow;Oe.version;const u5=["application/pdf"],d5=10240;l5.workerSrc=new URL(""+new URL("pdf.worker.min.GB3t0DcA.mjs",import.meta.url).href,import.meta.url).toString();function h5({acceptedFileTypes:r=u5,maxSize:e=d5,file:t,setFile:n,cb:s=null}){const[o,l]=S.useState(!1),[c,u]=S.useState(""),h=x=>x>1e3?`${Math.round(x/1024)} MB`:`${x} KB`,p=S.useCallback(x=>{x.preventDefault(),x.stopPropagation(),l(!0)},[]),m=S.useCallback(x=>{x.preventDefault(),x.stopPropagation(),l(!1)},[]),v=S.useCallback(x=>{x.preventDefault(),x.stopPropagation(),l(!1);const C=x.dataTransfer.files[0];if(C)if(r.includes(C.type)){if(C.size/1024>e){u(`File size exceeds the maximum limit of ${h(e)}.`);return}n(C);const _=new FileReader;_.onload=k=>{const T=k.target.result,M=new Uint8Array(T);n({name:C.name,type:C.type,size:C.size,bytes:M})},_.readAsArrayBuffer(C),u("")}else u("Unsupported file type. Please upload a PDF file.")},[r,e]),w=S.useCallback(x=>{if(x.target.files&&x.target.files[0]){const C=x.target.files[0];if(r.includes(C.type)){if(C.size/1024>e){u(`File size exceeds the maximum limit of ${h(e)}.`);return}n(C);const _=new FileReader;_.onload=async k=>{const T=k.target.result,M=new Uint8Array(T);n({name:C.name,type:C.type,size:C.size,bytes:M})},_.readAsArrayBuffer(C),u("")}else u("Unsupported file type. Please upload a PDF file.")}},[r,e]),b=S.useCallback(()=>{n(null),n(null),u(""),s&&s()},[]);return A.jsxs("form",{className:"max-w-md",children:[A.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 ${o?"border-primary":"border-muted-foreground"}`,onDragOver:p,onDragLeave:m,onDrop:v,children:[A.jsx(Ua,{id:"file-upload",type:"file",accept:r.join(","),className:"sr-only",onChange:w,"aria-label":"File upload",disabled:!!t}),A.jsxs(Ro,{htmlFor:"file-upload",className:`flex flex-col items-center justify-center cursor-pointer ${t?"cursor-not-allowed":""}`,children:[A.jsx(Sb,{className:"w-10 h-10 text-muted-foreground mb-2"}),A.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Drag & drop a single file here or just click to select"}),A.jsx(Dn,{type:"button",variant:"outline",onClick:()=>{var x;return(x=document.getElementById("file-upload"))==null?void 0:x.click()},size:"sm",disabled:!!t,children:"Select File"})]})]}),c&&A.jsx("p",{className:"text-red-500 text-sm mt-2",children:c}),t&&A.jsxs("div",{className:"mt-4 flex items-center",children:[A.jsx(bb,{className:"w-5 h-5 text-green-600 font-bold mr-2"}),A.jsxs("div",{className:"flex items-center justify-between text-sm bg-muted p-2 rounded w-full",children:[A.jsx("span",{className:"truncate",children:t.name}),A.jsx(Dn,{type:"button",variant:"ghost",size:"icon",onClick:b,"aria-label":`Remove ${t.name}`,children:A.jsx(Hg,{className:"w-4 h-4"})})]})]})]})}function f5({fileCB:r=null}){const[e,t]=S.useState(null),[n,s]=S.useState(!1),[o,l]=S.useState(!1),c=async h=>{if(h.preventDefault(),s(!0),e&&e.bytes){const p=await c5(new Uint8Array(e.bytes)).promise,m=p.numPages,w=(await Promise.all(Array.from({length:m},(C,_)=>p.getPage(_+1).then(k=>k.getTextContent())))).flatMap(C=>C.items),b=tz(w).join(`
`),x={...e,text:b};if(t(x),r)try{await r(x)}catch(C){console.error("File callback failed:",C)}l(!0)}s(!1)},u=()=>{t(null),s(!1),l(!1)};return A.jsxs(A.Fragment,{children:[A.jsx(h5,{file:e,setFile:t,cb:u}),A.jsx(Dn,{className:"w-full mt-4",disabled:!e||o,onClick:c,children:o?"Complete":n?A.jsx(t2,{className:"animate-spin",size:16}):"Upload file"})]})}function p5(){const[r,e]=S.useState(""),[t,n]=S.useState("idle"),[s,o]=S.useState(""),[l,c]=S.useState(0),[u,h]=S.useState(0),[p,m]=S.useState(0),{handleSubmit:v}=ex(),w=k=>{const T=k.target.files[0];if(!T)return;const M=new FileReader;M.onload=L=>{e(L.target.result),$i("File loaded successfully")},M.onerror=()=>{$i.error("Error reading file")},M.readAsText(T)},b=()=>{e(""),n("idle"),o(""),c(0),h(0),m(0)},x=k=>{Array.isArray(k)||(k=[k]);for(let T=0;T<k.length;T++){const M=k[T];if(!M.rowkey)return{valid:!1,message:`Item ${T+1} is missing rowkey`};if(!M.family)return{valid:!1,message:`Item ${T+1} is missing family`};if(!M.qualifiers||typeof M.qualifiers!="object")return{valid:!1,message:`Item ${T+1} has invalid qualifiers`}}return{valid:!0,data:k}},C=async()=>{try{n("validating"),o(""),c(0),h(0);const k=JSON.parse(r),T=x(k);if(!T.valid){n("error"),o(T.message);return}const M=T.data;m(M.length),n("processing");for(let L=0;L<M.length;L++){const D=M[L],F={query:"WRITE",type:"WRITE",key:D.rowkey,family:D.family,qualifiers:Object.entries(D.qualifiers).map(([j,W])=>({name:j,value:encodeURIComponent(W)}))};await v(F),h(L+1),c(Math.floor((L+1)/M.length*100))}n("success"),$i.success(`Processed ${M.length} items successfully`)}catch(k){n("error"),o(k.message||"Failed to process JSON"),$i.error("Error processing JSON")}};async function _(k){const T=ez(k,{family:"documents",qualifier:"text",prefix:"documents"});for(const M of T){const L={type:"WRITE",key:M.rowKey,family:M.family,qualifiers:Object.entries(M.qualifiers).map(([F,j])=>({name:F,value:encodeURIComponent(j)}))},D=await v(L);D!=null&&D.success||console.error("Failed to write chunk:",M.rowKey)}console.log("✅ All chunks submitted!")}return A.jsxs(A.Fragment,{children:[A.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:"Upload"}),A.jsxs(ET,{className:"w-full",children:[A.jsx(f5,{fileCB:_}),A.jsxs(VH,{children:[A.jsx(GH,{children:"Upload JSON Data"}),A.jsx(YH,{children:"Upload JSON file or paste JSON content to process multiple records"})]}),A.jsx(XH,{children:A.jsxs(WH,{defaultValue:"upload",className:"w-full",children:[A.jsxs(UH,{className:"grid grid-cols-2 mb-4",children:[A.jsx(d1,{value:"upload",children:"Upload File"}),A.jsx(d1,{value:"paste",children:"Paste JSON"})]}),A.jsx(h1,{value:"upload",className:"space-y-4",children:A.jsx("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:A.jsxs("label",{htmlFor:"json-file",className:"cursor-pointer border-2 border-dashed rounded-md p-6 text-center hover:bg-muted/50",children:[A.jsx(Sb,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),A.jsx("p",{className:"text-sm font-medium",children:"Click to upload JSON file"}),A.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"or drag and drop"}),A.jsx("input",{id:"json-file",type:"file",accept:".json",onChange:w,className:"hidden"})]})})}),A.jsx(h1,{value:"paste",className:"space-y-4",children:A.jsx(SH,{placeholder:"Paste JSON content here...",className:"min-h-[200px] max-h-[300px] overflow-y-auto resize-none",value:r,onChange:k=>e(k.target.value)})}),r&&A.jsxs("div",{className:"mt-4 space-y-4",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("p",{className:"text-sm font-medium",children:"JSON Content Preview"}),A.jsx(Dn,{variant:"ghost",size:"sm",onClick:b,children:"Clear"})]}),A.jsx("div",{className:"bg-muted rounded-md p-3 max-h-[200px] overflow-y-auto",children:A.jsxs("pre",{className:"text-xs",children:[r.slice(0,500),r.length>500?"...":""]})})]}),t==="error"&&A.jsxs(f1,{variant:"destructive",className:"mt-4",children:[A.jsx(BL,{className:"h-4 w-4"}),A.jsx(p1,{children:"Error"}),A.jsx(m1,{children:s})]}),t==="processing"&&A.jsxs("div",{className:"mt-4 space-y-2",children:[A.jsxs("div",{className:"flex justify-between text-sm",children:[A.jsx("span",{children:"Processing records..."}),A.jsxs("span",{children:[u," of ",p]})]}),A.jsx(iB,{value:l,className:"h-2"})]}),t==="success"&&A.jsxs(f1,{className:"mt-4 bg-green-50 border-green-200",children:[A.jsx(bb,{className:"h-4 w-4 text-green-600"}),A.jsx(p1,{className:"text-green-600",children:"Success"}),A.jsxs(m1,{children:["All ",p," records were processed successfully."]})]}),A.jsx(Dn,{onClick:C,disabled:!r||t==="processing",className:"w-full mt-4",children:t==="processing"?A.jsxs(A.Fragment,{children:[A.jsx(xb,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):A.jsxs(A.Fragment,{children:[A.jsx(XL,{className:"mr-2 h-4 w-4"}),"Process JSON"]})})]})})]})]})}var m5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vf=m5.reduce((r,e)=>{const t=$n(`Primitive.${e}`),n=S.forwardRef((s,o)=>{const{asChild:l,...c}=s,u=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(u,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{});function g5(r,e){return S.useReducer((t,n)=>e[t][n]??t,r)}var vx="ScrollArea",[LR,W5]=zr(vx),[v5,Br]=LR(vx),DR=S.forwardRef((r,e)=>{const{__scopeScrollArea:t,type:n="hover",dir:s,scrollHideDelay:o=600,...l}=r,[c,u]=S.useState(null),[h,p]=S.useState(null),[m,v]=S.useState(null),[w,b]=S.useState(null),[x,C]=S.useState(null),[_,k]=S.useState(0),[T,M]=S.useState(0),[L,D]=S.useState(!1),[F,j]=S.useState(!1),W=Ve(e,Q=>u(Q)),X=zf(s);return A.jsx(v5,{scope:t,type:n,dir:X,scrollHideDelay:o,scrollArea:c,viewport:h,onViewportChange:p,content:m,onContentChange:v,scrollbarX:w,onScrollbarXChange:b,scrollbarXEnabled:L,onScrollbarXEnabledChange:D,scrollbarY:x,onScrollbarYChange:C,scrollbarYEnabled:F,onScrollbarYEnabledChange:j,onCornerWidthChange:k,onCornerHeightChange:M,children:A.jsx(Vf.div,{dir:X,...l,ref:W,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":T+"px",...r.style}})})});DR.displayName=vx;var OR="ScrollAreaViewport",FR=S.forwardRef((r,e)=>{const{__scopeScrollArea:t,children:n,nonce:s,...o}=r,l=Br(OR,t),c=S.useRef(null),u=Ve(e,c,l.onViewportChange);return A.jsxs(A.Fragment,{children:[A.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),A.jsx(Vf.div,{"data-radix-scroll-area-viewport":"",...o,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...r.style},children:A.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});FR.displayName=OR;var Ks="ScrollAreaScrollbar",jR=S.forwardRef((r,e)=>{const{forceMount:t,...n}=r,s=Br(Ks,r.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:l}=s,c=r.orientation==="horizontal";return S.useEffect(()=>(c?o(!0):l(!0),()=>{c?o(!1):l(!1)}),[c,o,l]),s.type==="hover"?A.jsx(y5,{...n,ref:e,forceMount:t}):s.type==="scroll"?A.jsx(w5,{...n,ref:e,forceMount:t}):s.type==="auto"?A.jsx($R,{...n,ref:e,forceMount:t}):s.type==="always"?A.jsx(yx,{...n,ref:e}):null});jR.displayName=Ks;var y5=S.forwardRef((r,e)=>{const{forceMount:t,...n}=r,s=Br(Ks,r.__scopeScrollArea),[o,l]=S.useState(!1);return S.useEffect(()=>{const c=s.scrollArea;let u=0;if(c){const h=()=>{window.clearTimeout(u),l(!0)},p=()=>{u=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",p),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",p)}}},[s.scrollArea,s.scrollHideDelay]),A.jsx(Hr,{present:t||o,children:A.jsx($R,{"data-state":o?"visible":"hidden",...n,ref:e})})}),w5=S.forwardRef((r,e)=>{const{forceMount:t,...n}=r,s=Br(Ks,r.__scopeScrollArea),o=r.orientation==="horizontal",l=fv(()=>u("SCROLL_END"),100),[c,u]=g5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,s.scrollHideDelay,u]),S.useEffect(()=>{const h=s.viewport,p=o?"scrollLeft":"scrollTop";if(h){let m=h[p];const v=()=>{const w=h[p];m!==w&&(u("SCROLL"),l()),m=w};return h.addEventListener("scroll",v),()=>h.removeEventListener("scroll",v)}},[s.viewport,o,u,l]),A.jsx(Hr,{present:t||c!=="hidden",children:A.jsx(yx,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Pe(r.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Pe(r.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),$R=S.forwardRef((r,e)=>{const t=Br(Ks,r.__scopeScrollArea),{forceMount:n,...s}=r,[o,l]=S.useState(!1),c=r.orientation==="horizontal",u=fv(()=>{if(t.viewport){const h=t.viewport.offsetWidth<t.viewport.scrollWidth,p=t.viewport.offsetHeight<t.viewport.scrollHeight;l(c?h:p)}},10);return Uu(t.viewport,u),Uu(t.content,u),A.jsx(Hr,{present:n||o,children:A.jsx(yx,{"data-state":o?"visible":"hidden",...s,ref:e})})}),yx=S.forwardRef((r,e)=>{const{orientation:t="vertical",...n}=r,s=Br(Ks,r.__scopeScrollArea),o=S.useRef(null),l=S.useRef(0),[c,u]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=UR(c.viewport,c.content),p={...n,sizes:c,onSizesChange:u,hasThumb:h>0&&h<1,onThumbChange:v=>o.current=v,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:v=>l.current=v};function m(v,w){return C5(v,l.current,c,w)}return t==="horizontal"?A.jsx(b5,{...p,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const v=s.viewport.scrollLeft,w=j1(v,c,s.dir);o.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollLeft=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollLeft=m(v,s.dir))}}):t==="vertical"?A.jsx(x5,{...p,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const v=s.viewport.scrollTop,w=j1(v,c);o.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollTop=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollTop=m(v))}}):null}),b5=S.forwardRef((r,e)=>{const{sizes:t,onSizesChange:n,...s}=r,o=Br(Ks,r.__scopeScrollArea),[l,c]=S.useState(),u=S.useRef(null),h=Ve(e,u,o.onScrollbarXChange);return S.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),A.jsx(HR,{"data-orientation":"horizontal",...s,ref:h,sizes:t,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":hv(t)+"px",...r.style},onThumbPointerDown:p=>r.onThumbPointerDown(p.x),onDragScroll:p=>r.onDragScroll(p.x),onWheelScroll:(p,m)=>{if(o.viewport){const v=o.viewport.scrollLeft+p.deltaX;r.onWheelScroll(v),GR(v,m)&&p.preventDefault()}},onResize:()=>{u.current&&o.viewport&&l&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:vg(l.paddingLeft),paddingEnd:vg(l.paddingRight)}})}})}),x5=S.forwardRef((r,e)=>{const{sizes:t,onSizesChange:n,...s}=r,o=Br(Ks,r.__scopeScrollArea),[l,c]=S.useState(),u=S.useRef(null),h=Ve(e,u,o.onScrollbarYChange);return S.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),A.jsx(HR,{"data-orientation":"vertical",...s,ref:h,sizes:t,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":hv(t)+"px",...r.style},onThumbPointerDown:p=>r.onThumbPointerDown(p.y),onDragScroll:p=>r.onDragScroll(p.y),onWheelScroll:(p,m)=>{if(o.viewport){const v=o.viewport.scrollTop+p.deltaY;r.onWheelScroll(v),GR(v,m)&&p.preventDefault()}},onResize:()=>{u.current&&o.viewport&&l&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:vg(l.paddingTop),paddingEnd:vg(l.paddingBottom)}})}})}),[S5,zR]=LR(Ks),HR=S.forwardRef((r,e)=>{const{__scopeScrollArea:t,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:h,onWheelScroll:p,onResize:m,...v}=r,w=Br(Ks,t),[b,x]=S.useState(null),C=Ve(e,W=>x(W)),_=S.useRef(null),k=S.useRef(""),T=w.viewport,M=n.content-n.viewport,L=Ft(p),D=Ft(u),F=fv(m,10);function j(W){if(_.current){const X=W.clientX-_.current.left,Q=W.clientY-_.current.top;h({x:X,y:Q})}}return S.useEffect(()=>{const W=X=>{const Q=X.target;(b==null?void 0:b.contains(Q))&&L(X,M)};return document.addEventListener("wheel",W,{passive:!1}),()=>document.removeEventListener("wheel",W,{passive:!1})},[T,b,M,L]),S.useEffect(D,[n,D]),Uu(b,F),Uu(w.content,F),A.jsx(S5,{scope:t,scrollbar:b,hasThumb:s,onThumbChange:Ft(o),onThumbPointerUp:Ft(l),onThumbPositionChange:D,onThumbPointerDown:Ft(c),children:A.jsx(Vf.div,{...v,ref:C,style:{position:"absolute",...v.style},onPointerDown:Pe(r.onPointerDown,W=>{W.button===0&&(W.target.setPointerCapture(W.pointerId),_.current=b.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),j(W))}),onPointerMove:Pe(r.onPointerMove,j),onPointerUp:Pe(r.onPointerUp,W=>{const X=W.target;X.hasPointerCapture(W.pointerId)&&X.releasePointerCapture(W.pointerId),document.body.style.webkitUserSelect=k.current,w.viewport&&(w.viewport.style.scrollBehavior=""),_.current=null})})})}),gg="ScrollAreaThumb",BR=S.forwardRef((r,e)=>{const{forceMount:t,...n}=r,s=zR(gg,r.__scopeScrollArea);return A.jsx(Hr,{present:t||s.hasThumb,children:A.jsx(A5,{ref:e,...n})})}),A5=S.forwardRef((r,e)=>{const{__scopeScrollArea:t,style:n,...s}=r,o=Br(gg,t),l=zR(gg,t),{onThumbPositionChange:c}=l,u=Ve(e,m=>l.onThumbChange(m)),h=S.useRef(void 0),p=fv(()=>{h.current&&(h.current(),h.current=void 0)},100);return S.useEffect(()=>{const m=o.viewport;if(m){const v=()=>{if(p(),!h.current){const w=_5(m,c);h.current=w,c()}};return c(),m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[o.viewport,p,c]),A.jsx(Vf.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Pe(r.onPointerDownCapture,m=>{const w=m.target.getBoundingClientRect(),b=m.clientX-w.left,x=m.clientY-w.top;l.onThumbPointerDown({x:b,y:x})}),onPointerUp:Pe(r.onPointerUp,l.onThumbPointerUp)})});BR.displayName=gg;var wx="ScrollAreaCorner",WR=S.forwardRef((r,e)=>{const t=Br(wx,r.__scopeScrollArea),n=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&n?A.jsx(E5,{...r,ref:e}):null});WR.displayName=wx;var E5=S.forwardRef((r,e)=>{const{__scopeScrollArea:t,...n}=r,s=Br(wx,t),[o,l]=S.useState(0),[c,u]=S.useState(0),h=!!(o&&c);return Uu(s.scrollbarX,()=>{var m;const p=((m=s.scrollbarX)==null?void 0:m.offsetHeight)||0;s.onCornerHeightChange(p),u(p)}),Uu(s.scrollbarY,()=>{var m;const p=((m=s.scrollbarY)==null?void 0:m.offsetWidth)||0;s.onCornerWidthChange(p),l(p)}),h?A.jsx(Vf.div,{...n,ref:e,style:{width:o,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...r.style}}):null});function vg(r){return r?parseInt(r,10):0}function UR(r,e){const t=r/e;return isNaN(t)?0:t}function hv(r){const e=UR(r.viewport,r.content),t=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,n=(r.scrollbar.size-t)*e;return Math.max(n,18)}function C5(r,e,t,n="ltr"){const s=hv(t),o=s/2,l=e||o,c=s-l,u=t.scrollbar.paddingStart+l,h=t.scrollbar.size-t.scrollbar.paddingEnd-c,p=t.content-t.viewport,m=n==="ltr"?[0,p]:[p*-1,0];return VR([u,h],m)(r)}function j1(r,e,t="ltr"){const n=hv(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,l=e.content-e.viewport,c=o-n,u=t==="ltr"?[0,l]:[l*-1,0],h=j0(r,u);return VR([0,l],[0,c])(h)}function VR(r,e){return t=>{if(r[0]===r[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(r[1]-r[0]);return e[0]+n*(t-r[0])}}function GR(r,e){return r>0&&r<e}var _5=(r,e=()=>{})=>{let t={left:r.scrollLeft,top:r.scrollTop},n=0;return function s(){const o={left:r.scrollLeft,top:r.scrollTop},l=t.left!==o.left,c=t.top!==o.top;(l||c)&&e(),t=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function fv(r,e){const t=Ft(r),n=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),S.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,e)},[t,e])}function Uu(r,e){const t=Ft(e);Ct(()=>{let n=0;if(r){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(t)});return s.observe(r),()=>{window.cancelAnimationFrame(n),s.unobserve(r)}}},[r,t])}var k5=DR,T5=FR,P5=WR;function R5({className:r,children:e,...t}){return A.jsxs(k5,{"data-slot":"scroll-area",className:ke("relative",r),...t,children:[A.jsx(T5,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),A.jsx(N5,{}),A.jsx(P5,{})]})}function N5({className:r,orientation:e="vertical",...t}){return A.jsx(jR,{"data-slot":"scroll-area-scrollbar",orientation:e,className:ke("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",r),...t,children:A.jsx(BR,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function M5(){const[r,e]=S.useState(""),[t,n]=S.useState(!1),[s,o]=S.useState(null),[l,c]=S.useState([]),u=S.useRef(null),h=S.useRef(null),p=S.useRef(null);S.useEffect(()=>{var b;(b=h.current)==null||b.scrollIntoView({behavior:"smooth"})},[l]),S.useEffect(()=>{var b;(b=p.current)==null||b.focus()},[]);const m=async b=>{var C;if(b.preventDefault(),!r.trim())return;o(r);const x=Date.now().toString();c(_=>[..._,{id:x,query:r,response:"",status:"loading",timestamp:new Date().toISOString()}]),n(!0),e(""),u.current=new AbortController;try{const _=await fetch("/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:r,top_k:3,threshold:.4,llm:{type:"ollama",model:"llama3.2:latest"}}),signal:u.current.signal});if(!_.body){n(!1),c(L=>L.map(D=>D.id===x?{...D,status:"error",response:"Failed to get a response. Please try again."}:D));return}const k=_.body.getReader(),T=new TextDecoder("utf-8");let M="";for(;;){const{value:L,done:D}=await k.read();if(D)break;M+=T.decode(L,{stream:!0});const F=M.split(`
`);M=F.pop();for(const j of F)if(j.trim())try{const W=JSON.parse(j);c(X=>X.map(Q=>Q.id===x?{...Q,response:Q.response+W.response,status:"streaming"}:Q))}catch(W){console.error("Failed to parse line:",j,W)}}c(L=>L.map(D=>D.id===x?{...D,status:"completed"}:D))}catch(_){_.name!=="AbortError"?(console.error("Fetch error:",_),c(k=>k.map(T=>T.id===x?{...T,status:"error",response:"Sorry, I encountered an error. Please try again."}:T))):c(k=>k.map(T=>T.id===x?{...T,status:"cancelled",response:T.response||"Request cancelled."}:T))}finally{n(!1),(C=p.current)==null||C.focus()}},v=()=>{u.current&&(u.current.abort(),u.current=null,n(!1))},w=b=>new Date(b).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return A.jsx("div",{className:"max-w-5xl mx-auto py-8 px-4",children:A.jsxs(ET,{className:"border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:[A.jsxs("div",{className:"border-b border-gray-100 p-4 flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(c2,{className:"h-5 w-5 text-amber-400"}),A.jsx("h2",{className:"font-medium",children:"LiteTable Research Assistant"})]}),A.jsx("div",{className:"px-3 py-1 rounded-full bg-green-100 text-green-800 text-xs font-medium",children:"llama3.2"})]}),A.jsx(R5,{className:"h-[500px]",children:A.jsxs("div",{className:"p-4",children:[l.length===0&&A.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] text-gray-400",children:[A.jsx(bE,{className:"h-12 w-12 mb-4 text-gray-300"}),A.jsx("h3",{className:"text-lg font-medium text-gray-500 mb-2",children:"Ask me a research question"}),A.jsx("p",{className:"text-center max-w-md text-gray-400",children:"I'll search through available context to find the most relevant information for you."})]}),l.map(b=>A.jsxs("div",{className:"mb-8 last:mb-2",children:[A.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[A.jsx("div",{className:"bg-gray-500 text-white p-2 rounded-full",children:A.jsx(bE,{className:"h-4 w-4"})}),A.jsx("div",{className:"flex-1",children:A.jsxs("div",{className:"flex justify-between items-center mb-1",children:[A.jsx("h3",{className:"font-medium text-gray-800",children:b.query}),A.jsxs("span",{className:"text-xs text-gray-400 flex items-center",children:[A.jsx(GL,{className:"h-3 w-3 mr-1"}),w(b.timestamp)]})]})})]}),A.jsx("div",{className:"ml-10 pl-4 border-l-2 border-gray-200",children:A.jsxs("div",{className:"bg-gray-100 rounded-xl p-4 shadow-sm",children:[b.status==="loading"&&A.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[A.jsxs("div",{className:"flex space-x-1",children:[A.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300",style:{animationName:"bounce",animationDuration:"1s",animationIterationCount:"infinite",animationDelay:"0ms"}}),A.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300",style:{animationName:"bounce",animationDuration:"1s",animationIterationCount:"infinite",animationDelay:"150ms"}}),A.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300",style:{animationName:"bounce",animationDuration:"1s",animationIterationCount:"infinite",animationDelay:"300ms"}})]}),A.jsx("span",{className:"text-sm",children:"Researching answer..."})]}),b.response&&A.jsx("div",{className:"whitespace-pre-wrap text-gray-800",children:b.response}),b.status==="completed"&&b.response&&A.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[A.jsx(LL,{className:"h-3 w-3 mr-1"}),A.jsx("span",{children:"Answer based on available context"})]}),A.jsxs(Dn,{variant:"ghost",size:"sm",className:"text-xs text-gray-500 hover:text-gray-700 p-1 h-auto",children:[A.jsx(ML,{className:"h-3 w-3 mr-1"}),"View sources"]})]})]})})]},b.id)),A.jsx("div",{ref:h})]})}),A.jsx("div",{className:"border-t border-gray-100 p-4",children:A.jsxs("form",{onSubmit:m,className:"flex items-center gap-2",children:[A.jsx(Ua,{ref:p,className:"flex-1 border-gray-200 rounded-full focus-visible:ring-gray-300 focus-visible:ring-offset-0 focus-visible:border-gray-300",type:"text",placeholder:"Ask a research question...",value:r,onChange:b=>e(b.target.value),disabled:t}),t?A.jsx(Dn,{type:"button",variant:"outline",size:"icon",onClick:v,className:"rounded-full border-gray-200 hover:bg-gray-50",children:A.jsx(UL,{className:"h-5 w-5 text-gray-500"})}):A.jsxs(Dn,{type:"submit",disabled:!r.trim(),className:"cursor-pointer bg-gray-500 hover:bg-gray-600 text-white rounded-full px-5",children:[A.jsx(a2,{className:"h-4 w-4 mr-2"}),"Send"]})]})})]})})}function I5(){return A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:"Welcome to LiteTable!"}),A.jsx(M5,{})]})}function L5(){return A.jsx(hL,{children:A.jsx(g$,{children:A.jsx("div",{className:"container mx-auto max-w-[1200px] py-8",children:A.jsxs(BI,{children:[A.jsx(wm,{path:"/",element:A.jsx(I5,{})}),A.jsx(wm,{path:"/query",element:A.jsx(xH,{})}),A.jsx(wm,{path:"/upload",element:A.jsx(p5,{})})]})})})})}KM.createRoot(document.getElementById("root")).render(A.jsx(S.StrictMode,{children:A.jsx(L5,{})}));
